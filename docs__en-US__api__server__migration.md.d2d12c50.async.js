"use strict";(self.webpackChunknocobase_docs=self.webpackChunknocobase_docs||[]).push([[26295],{992299:function(r,s,n){n.r(s);var t=n(572269),c=n(793359),u=n(861788),x=n(719977),h=n(20190),i=n(24268),v=n(496057),I=n(585939),p=n(28484),m=n(635206),j=n(375553),E=n(156266),f=n(572333),M=n(841118),P=n(39297),D=n(868526),O=n(605019),d=n(614651),l=n(280936),o=n(667294),a=n(848906),e=n(785893);function _(){return(0,e.jsx)(d.dY,{children:(0,e.jsx)(o.Suspense,{fallback:(0,e.jsx)(l.Z,{}),children:(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"markdown",children:[(0,e.jsxs)("h1",{id:"migration",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#migration",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Migration"]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("code",{children:a.texts[0].value}),a.texts[1].value]}),(0,e.jsxs)("h2",{id:"instance-properties",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#instance-properties",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Instance Properties"]}),(0,e.jsxs)("h3",{id:"appversion",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#appversion",children:(0,e.jsx)("span",{className:"icon icon-link"})}),(0,e.jsx)("code",{children:a.texts[2].value})]}),(0,e.jsx)("p",{children:a.texts[3].value}),(0,e.jsx)(i.Z,{lang:"typescript",children:a.texts[4].value}),(0,e.jsxs)("h3",{id:"on",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#on",children:(0,e.jsx)("span",{className:"icon icon-link"})}),(0,e.jsx)("code",{children:a.texts[5].value})]}),(0,e.jsxs)("p",{children:[a.texts[6].value,(0,e.jsx)("code",{children:a.texts[7].value}),a.texts[8].value,(0,e.jsx)(d.rU,{to:"/api/server/application#events",children:a.texts[9].value}),a.texts[10].value]}),(0,e.jsx)(i.Z,{lang:"typescript",children:a.texts[11].value}),(0,e.jsxs)("h3",{id:"app",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#app",children:(0,e.jsx)("span",{className:"icon icon-link"})}),(0,e.jsx)("code",{children:a.texts[12].value})]}),(0,e.jsxs)("p",{children:[a.texts[13].value,(0,e.jsx)("code",{children:a.texts[14].value}),a.texts[15].value,(0,e.jsx)(d.rU,{to:"/api/server/application",children:a.texts[16].value}),a.texts[17].value]}),(0,e.jsxs)("h3",{id:"pm",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#pm",children:(0,e.jsx)("span",{className:"icon icon-link"})}),(0,e.jsx)("code",{children:a.texts[18].value})]}),(0,e.jsxs)("p",{children:[a.texts[19].value,(0,e.jsx)("code",{children:a.texts[20].value}),a.texts[21].value,(0,e.jsx)(d.rU,{to:"/api/server/plugin-manager",children:a.texts[22].value}),a.texts[23].value]}),(0,e.jsxs)("h3",{id:"plugin",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#plugin",children:(0,e.jsx)("span",{className:"icon icon-link"})}),(0,e.jsx)("code",{children:a.texts[24].value})]}),(0,e.jsxs)("p",{children:[a.texts[25].value,(0,e.jsx)("code",{children:a.texts[26].value}),a.texts[27].value,(0,e.jsx)(d.rU,{to:"/api/server/plugin",children:a.texts[28].value}),a.texts[29].value]}),(0,e.jsxs)("h3",{id:"db",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#db",children:(0,e.jsx)("span",{className:"icon icon-link"})}),(0,e.jsx)("code",{children:a.texts[30].value})]}),(0,e.jsxs)("p",{children:[a.texts[31].value,(0,e.jsx)("code",{children:a.texts[32].value}),a.texts[33].value,(0,e.jsx)(d.rU,{to:"/api/database",children:a.texts[34].value}),a.texts[35].value]}),(0,e.jsxs)("h3",{id:"sequelize",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#sequelize",children:(0,e.jsx)("span",{className:"icon icon-link"})}),(0,e.jsx)("code",{children:a.texts[36].value})]}),(0,e.jsxs)("p",{children:[a.texts[37].value,(0,e.jsx)("code",{children:a.texts[38].value}),a.texts[39].value,(0,e.jsx)("a",{href:"https://sequelize.org/",children:a.texts[40].value}),a.texts[41].value]}),(0,e.jsxs)("h3",{id:"queryinterface",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#queryinterface",children:(0,e.jsx)("span",{className:"icon icon-link"})}),(0,e.jsx)("code",{children:a.texts[42].value})]}),(0,e.jsxs)("p",{children:[a.texts[43].value,(0,e.jsx)("a",{href:"https://sequelize.org/docs/v6/other-topics/query-interface/",children:a.texts[44].value}),a.texts[45].value]}),(0,e.jsxs)("h3",{id:"instance-methods",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#instance-methods",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Instance Methods"]}),(0,e.jsxs)("h3",{id:"up",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#up",children:(0,e.jsx)("span",{className:"icon icon-link"})}),(0,e.jsx)("code",{children:a.texts[46].value})]}),(0,e.jsx)("p",{children:a.texts[47].value}),(0,e.jsxs)("h3",{id:"down",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#down",children:(0,e.jsx)("span",{className:"icon icon-link"})}),(0,e.jsx)("code",{children:a.texts[48].value})]}),(0,e.jsx)("p",{children:a.texts[49].value})]})})})})}s.default=_},848906:function(r,s,n){n.r(s),n.d(s,{texts:function(){return t}});const t=[{value:"Migration",paraId:0,tocIndex:0},{value:" is a class in NocoBase used for upgrade scripts, typically used to synchronize database-related changes.",paraId:0,tocIndex:0},{value:"appVersion",paraId:1},{value:"Current application version. The script will be executed only if it matches the version.",paraId:2,tocIndex:2},{value:`export default class extends Migration {
  appVersion = '<=1.0.0-alpha.1';
  // ...
}
`,paraId:3,tocIndex:2},{value:"on",paraId:1},{value:"The trigger timing for the upgrade script execution, with a default value of ",paraId:4,tocIndex:3},{value:"afterLoad",paraId:4,tocIndex:3},{value:". Refer to ",paraId:4,tocIndex:3},{value:"Application - Events",paraId:5,tocIndex:3},{value:".",paraId:4,tocIndex:3},{value:`export default class extends Migration {
  on = 'afterLoad';
  // ...
}
`,paraId:6,tocIndex:3},{value:"app",paraId:1},{value:"The ",paraId:7,tocIndex:4},{value:"Application",paraId:7,tocIndex:4},{value:" instance of the current application. Refer to ",paraId:7,tocIndex:4},{value:"Application",paraId:8,tocIndex:4},{value:".",paraId:7,tocIndex:4},{value:"pm",paraId:1},{value:"The ",paraId:9,tocIndex:5},{value:"PluginManager",paraId:9,tocIndex:5},{value:" instance of the current application. Refer to ",paraId:9,tocIndex:5},{value:"PluginManager",paraId:10,tocIndex:5},{value:".",paraId:9,tocIndex:5},{value:"plugin",paraId:1},{value:"The ",paraId:11,tocIndex:6},{value:"Plugin",paraId:11,tocIndex:6},{value:" instance of the current plugin. Refer to ",paraId:11,tocIndex:6},{value:"Plugin",paraId:12,tocIndex:6},{value:".",paraId:11,tocIndex:6},{value:"db",paraId:1},{value:"The ",paraId:13,tocIndex:7},{value:"DataBase",paraId:13,tocIndex:7},{value:" instance of the current application. Refer to ",paraId:13,tocIndex:7},{value:"DataBase",paraId:14,tocIndex:7},{value:".",paraId:13,tocIndex:7},{value:"sequelize",paraId:1},{value:"The ",paraId:15,tocIndex:8},{value:"Sequelize",paraId:15,tocIndex:8},{value:" instance. Refer to ",paraId:15,tocIndex:8},{value:"Sequelize",paraId:15,tocIndex:8},{value:".",paraId:15,tocIndex:8},{value:"queryInterface",paraId:1},{value:"Refer to ",paraId:16,tocIndex:9},{value:"Sequelize - Query Interface",paraId:16,tocIndex:9},{value:".",paraId:16,tocIndex:9},{value:"up()",paraId:1},{value:"Method for upgrade execution.",paraId:17,tocIndex:11},{value:"down()",paraId:1},{value:"Method for downgrade execution.",paraId:18,tocIndex:12}]}}]);
