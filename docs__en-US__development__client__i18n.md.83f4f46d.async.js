"use strict";(self.webpackChunknocobase_docs=self.webpackChunknocobase_docs||[]).push([[26365],{307505:function(l,s,a){a.r(s);var o=a(572269),_=a(793359),u=a(861788),h=a(719977),x=a(20190),t=a(24268),p=a(496057),m=a(585939),I=a(28484),v=a(635206),j=a(375553),E=a(156266),g=a(572333),f=a(841118),P=a(39297),M=a(868526),D=a(605019),i=a(614651),d=a(280936),r=a(667294),n=a(61759),e=a(785893);function c(){return(0,e.jsx)(i.dY,{children:(0,e.jsx)(r.Suspense,{fallback:(0,e.jsx)(d.Z,{}),children:(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"markdown",children:[(0,e.jsxs)("h1",{id:"internationalization",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#internationalization",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Internationalization"]}),(0,e.jsxs)("h2",{id:"internationalization-files",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#internationalization-files",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Internationalization Files"]}),(0,e.jsxs)("p",{children:[n.texts[0].value,(0,e.jsx)("code",{children:n.texts[1].value}),n.texts[2].value,(0,e.jsx)(i.rU,{to:"#",children:n.texts[3].value}),n.texts[4].value]}),(0,e.jsx)(t.Z,{lang:"bash",children:n.texts[5].value}),(0,e.jsxs)("p",{children:[n.texts[6].value,(0,e.jsx)("code",{children:n.texts[7].value}),n.texts[8].value,(0,e.jsx)("code",{children:n.texts[9].value}),n.texts[10].value]}),(0,e.jsx)("p",{children:(0,e.jsx)("a",{href:"http://localhost:13000/api/app:getLang?locale=zh-CN",children:n.texts[11].value})}),(0,e.jsxs)("h2",{id:"how-to-support-internationalization",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#how-to-support-internationalization",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"How to Support Internationalization"]}),(0,e.jsxs)("h3",{id:"appi18n-instance",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#appi18n-instance",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"app.i18n Instance"]}),(0,e.jsx)(t.Z,{lang:"ts",children:n.texts[12].value}),(0,e.jsxs)("p",{children:[n.texts[13].value,(0,e.jsx)("a",{href:"https://www.i18next.com/overview/api",children:n.texts[14].value}),n.texts[15].value]}),(0,e.jsxs)("h3",{id:"react-hook-method",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#react-hook-method",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"React Hook Method"]}),(0,e.jsx)(t.Z,{lang:"ts",children:n.texts[16].value}),(0,e.jsxs)("p",{children:[n.texts[17].value,(0,e.jsx)("code",{children:n.texts[18].value}),n.texts[19].value,(0,e.jsx)("a",{href:"https://react.i18next.com/",children:n.texts[20].value}),n.texts[21].value]}),(0,e.jsxs)("h3",{id:"namespace",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#namespace",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Namespace"]}),(0,e.jsx)("p",{children:n.texts[22].value}),(0,e.jsx)(t.Z,{lang:"ts",children:n.texts[23].value}),(0,e.jsxs)("h3",{id:"tval-method",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#tval-method",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"tval Method"]}),(0,e.jsx)("p",{children:n.texts[24].value}),(0,e.jsx)(t.Z,{lang:"ts",children:n.texts[25].value}),(0,e.jsxs)("p",{children:[n.texts[26].value,(0,e.jsx)("code",{children:n.texts[27].value}),n.texts[28].value]}),(0,e.jsx)(t.Z,{lang:"ts",children:n.texts[29].value}),(0,e.jsxs)("h2",{id:"important-notes",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#important-notes",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Important Notes"]}),(0,e.jsxs)("p",{children:[n.texts[30].value,(0,e.jsx)("code",{children:n.texts[31].value}),n.texts[32].value,(0,e.jsx)("code",{children:n.texts[33].value}),n.texts[34].value,(0,e.jsx)("code",{children:n.texts[35].value}),n.texts[36].value]}),(0,e.jsx)(t.Z,{lang:"ts",children:n.texts[37].value}),(0,e.jsx)("p",{children:(0,e.jsx)("strong",{children:n.texts[38].value})}),(0,e.jsx)("p",{children:n.texts[39].value}),(0,e.jsxs)("h2",{id:"complete-plugin-example",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#complete-plugin-example",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Complete Plugin Example"]}),(0,e.jsx)("ul",{children:(0,e.jsx)("li",{children:(0,e.jsx)(i.rU,{to:"#",children:n.texts[40].value})})})]})})})})}s.default=c},61759:function(l,s,a){a.r(s),a.d(s,{texts:function(){return o}});const o=[{value:"In the plugin, both front-end and back-end multilingual files are stored in the ",paraId:0,tocIndex:1},{value:"src/locale",paraId:0,tocIndex:1},{value:" folder. You can view ",paraId:0,tocIndex:1},{value:"all supported languages",paraId:1,tocIndex:1},{value:" in NocoBase by clicking here.",paraId:0,tocIndex:1},{value:`|- /plugin-sample-i18n
  |- /src
    |- /locale      # Multilingual files
      |- en_US.ts   # English language
      |- zh_CN.ts   # Chinese language
`,paraId:2,tocIndex:1},{value:"To add translation entries, simply update the corresponding multilingual file (",paraId:3,tocIndex:1},{value:"/src/locale/${lang}.ts",paraId:3,tocIndex:1},{value:"). If you're adding a new language file for the first time, you\u2019ll need to restart the application for the changes to take effect. You can verify the successful addition of translation entries by checking the ",paraId:3,tocIndex:1},{value:"app:getLang",paraId:3,tocIndex:1},{value:" interface.",paraId:3,tocIndex:1},{value:"http://localhost:13000/api/app:getLang?locale=zh-CN",paraId:4,tocIndex:1},{value:`import { Plugin } from '@nocobase/client';

class PluginDemoClient extends Plugin {
  async load() {
    // i18n instance
    this.app.i18n;
    this.app.i18n.t('hello');
    await this.app.i18n.changeLanguage('zh-CN');
  }
}
`,paraId:5,tocIndex:3},{value:"The i18n implementation is based on i18next. For more detailed instructions, refer to the ",paraId:6,tocIndex:3},{value:"I18next API Documentation",paraId:6,tocIndex:3},{value:".",paraId:6,tocIndex:3},{value:`import { useApp } from '@nocobase/client';
import { useTranslation } from 'react-i18next';

const { i18n } = useApp();
const { t } = useTranslation('@nocobase/plugin-sample-i18n');
t('hello');
// Equivalent to
i18n.t('hello', { ns: '@nocobase/plugin-sample-i18n' });
`,paraId:7,tocIndex:4},{value:"For detailed usage of ",paraId:8,tocIndex:4},{value:"useTranslation()",paraId:8,tocIndex:4},{value:", refer to the ",paraId:8,tocIndex:4},{value:"react-i18next Documentation",paraId:8,tocIndex:4},{value:".",paraId:8,tocIndex:4},{value:"Each plugin\u2019s locale is distinguished by its namespace (ns), which corresponds to the plugin name, like this:",paraId:9,tocIndex:5},{value:`app.i18n.t('Hello', { ns: '@nocobase/plugin-sample-i18n' });
`,paraId:10,tocIndex:5},{value:"When used in schema:",paraId:11,tocIndex:6},{value:`const schema = {
  type: 'string',
  title: '{{t("I\\'m fine", { ns: "@nocobase/plugin-sample-i18n" })}}',
  'x-component': 'FormItem',
  'x-component': 'Input',
};
`,paraId:12,tocIndex:6},{value:"Writing ",paraId:13,tocIndex:6},{value:`'{{t("I\\'m fine", { ns: "@nocobase/plugin-sample-i18n" })}}'`,paraId:13,tocIndex:6},{value:" directly can be prone to errors. Instead, you can use the more convenient tval function:",paraId:13,tocIndex:6},{value:`import { tval } from '@nocobase/client';

const schema = {
  type: 'string',
  title: tval("I'm fine", { ns: '@nocobase/plugin-sample-i18n', ...others }),
  'x-component': 'FormItem',
  'x-component': 'Input',
};
`,paraId:14,tocIndex:6},{value:"Avoid using the ",paraId:15,tocIndex:7},{value:"i18n",paraId:15,tocIndex:7},{value:" instance exported from ",paraId:15,tocIndex:7},{value:"@nocobase/client",paraId:15,tocIndex:7},{value:", as it will be deprecated in the future. Instead, use ",paraId:15,tocIndex:7},{value:"app.i18n",paraId:15,tocIndex:7},{value:".",paraId:15,tocIndex:7},{value:`// Incorrect
import { i18n } from '@nocobase/client';

i18n.t('hello');

// Correct
import { Plugin } from '@nocobase/client';

class PluginDemoClient extends Plugin {
  async load() {
    this.app.i18n.t('hello');
  }
}
`,paraId:16,tocIndex:7},{value:"Why is it deprecated?",paraId:17,tocIndex:7},{value:"Each app instance operates independently, including its i18n. A global i18n instance can cause interference between multiple app instances, which violates design principles, making it an undesirable practice.",paraId:18,tocIndex:7},{value:"@nocobase/plugin-sample-i18n",paraId:19,tocIndex:8}]}}]);
