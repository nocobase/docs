"use strict";(self.webpackChunknocobase_docs=self.webpackChunknocobase_docs||[]).push([[49444],{544600:function(l,s,a){a.r(s);var d=a(572269),_=a(793359),u=a(861788),p=a(719977),x=a(20190),o=a(24268),h=a(496057),m=a(585939),I=a(28484),v=a(635206),g=a(375553),j=a(156266),E=a(572333),P=a(841118),C=a(39297),M=a(868526),f=a(605019),t=a(614651),r=a(280936),i=a(667294),n=a(630192),e=a(785893);function c(){return(0,e.jsx)(t.dY,{children:(0,e.jsx)(i.Suspense,{fallback:(0,e.jsx)(r.Z,{}),children:(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"markdown",children:[(0,e.jsxs)("h1",{id:"registration-and-usage-of-component-and-scope",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#registration-and-usage-of-component-and-scope",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Registration and Usage of Component and Scope"]}),(0,e.jsxs)("h2",{id:"scenario-explanation",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#scenario-explanation",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Scenario Explanation"]}),(0,e.jsx)("p",{children:n.texts[0].value}),(0,e.jsxs)("h3",{id:"reason-1-ui-schema-needs-to-be-stored-on-the-server",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#reason-1-ui-schema-needs-to-be-stored-on-the-server",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Reason 1: UI Schema Needs to Be Stored on the Server"]}),(0,e.jsxs)("p",{children:[n.texts[1].value,(0,e.jsx)(t.rU,{to:"/development/client/ui-schema/what-is-ui-schema",children:n.texts[2].value}),n.texts[3].value,(0,e.jsx)("code",{children:n.texts[4].value}),n.texts[5].value,(0,e.jsx)("code",{children:n.texts[6].value}),n.texts[7].value,(0,e.jsx)("code",{children:n.texts[8].value}),n.texts[9].value,(0,e.jsx)("code",{children:n.texts[10].value}),n.texts[11].value]}),(0,e.jsxs)("p",{children:[n.texts[12].value,(0,e.jsx)(t.rU,{to:"/plugin-samples/plugin-settings/form",children:n.texts[13].value}),n.texts[14].value,(0,e.jsx)("code",{children:n.texts[15].value}),n.texts[16].value,(0,e.jsx)("code",{children:n.texts[17].value}),n.texts[18].value]}),(0,e.jsx)(o.Z,{lang:"ts",children:n.texts[19].value}),(0,e.jsxs)("h3",{id:"reason-2-extensibility-needs",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#reason-2-extensibility-needs",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Reason 2: Extensibility Needs"]}),(0,e.jsx)("p",{children:n.texts[20].value}),(0,e.jsx)(o.Z,{lang:"ts",children:n.texts[21].value}),(0,e.jsx)("p",{children:n.texts[22].value}),(0,e.jsxs)("h4",{id:"option-1-replace-the-route",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#option-1-replace-the-route",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Option 1: Replace the Route"]}),(0,e.jsx)(o.Z,{lang:"ts",children:n.texts[23].value}),(0,e.jsxs)("h4",{id:"option-2-directly-replace-the-component",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#option-2-directly-replace-the-component",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Option 2: Directly Replace the Component"]}),(0,e.jsx)(o.Z,{lang:"ts",children:n.texts[24].value}),(0,e.jsx)("p",{children:n.texts[25].value}),(0,e.jsxs)("h2",{id:"global-registration-and-local-registration",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#global-registration-and-local-registration",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Global Registration and Local Registration"]}),(0,e.jsx)("p",{children:n.texts[26].value}),(0,e.jsxs)("h3",{id:"global-registration",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#global-registration",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Global Registration"]}),(0,e.jsxs)("p",{children:[n.texts[27].value,(0,e.jsx)("a",{href:"https://client.docs.nocobase.com/core/application/application#appaddcomponents",children:n.texts[28].value}),n.texts[29].value,(0,e.jsx)("a",{href:"https://client.docs.nocobase.com/core/application/application#appaddscopes",children:n.texts[30].value}),n.texts[31].value]}),(0,e.jsx)(o.Z,{lang:"ts",children:n.texts[32].value}),(0,e.jsxs)("h3",{id:"local-registration",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#local-registration",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Local Registration"]}),(0,e.jsxs)("p",{children:[n.texts[33].value,(0,e.jsx)("code",{children:n.texts[34].value}),n.texts[35].value,(0,e.jsx)("code",{children:n.texts[36].value}),n.texts[37].value,(0,e.jsx)("a",{href:"https://client.docs.nocobase.com/core/ui-schema/schema-component#schemacomponent-1",children:n.texts[38].value}),n.texts[39].value,(0,e.jsx)("a",{href:"https://client.docs.nocobase.com/core/ui-schema/schema-component#schemacomponentoptions",children:n.texts[40].value}),n.texts[41].value]}),(0,e.jsx)(o.Z,{lang:"tsx",children:n.texts[42].value}),(0,e.jsxs)("p",{children:[(0,e.jsx)("code",{children:n.texts[43].value}),n.texts[44].value,(0,e.jsx)("code",{children:n.texts[45].value}),n.texts[46].value,(0,e.jsx)("code",{children:n.texts[47].value}),n.texts[48].value,(0,e.jsx)("code",{children:n.texts[49].value}),n.texts[50].value]}),(0,e.jsx)("p",{children:n.texts[51].value}),(0,e.jsxs)("ul",{children:[(0,e.jsx)("li",{children:(0,e.jsx)(t.rU,{to:"/plugin-samples/component-and-scope/global",children:n.texts[52].value})}),(0,e.jsx)("li",{children:(0,e.jsx)(t.rU,{to:"/plugin-samples/component-and-scope/local",children:n.texts[53].value})})]}),(0,e.jsxs)("p",{children:[n.texts[54].value,(0,e.jsx)(t.rU,{to:"/plugin-samples/router/replace-page",children:n.texts[55].value}),n.texts[56].value]})]})})})})}s.default=c},630192:function(l,s,a){a.r(s),a.d(s,{texts:function(){return d}});const d=[{value:"There are two main reasons why Components and Scopes need to be registered:",paraId:0,tocIndex:1},{value:"NocoBase\u2019s front-end pages are rendered based on the ",paraId:1,tocIndex:2},{value:"UI Schema",paraId:2,tocIndex:2},{value:", which must be stored in the database. Since the UI Schema cannot have reference-type properties, we can only store the values of properties like ",paraId:1,tocIndex:2},{value:"x-component",paraId:1,tocIndex:2},{value:", ",paraId:1,tocIndex:2},{value:"x-decorator",paraId:1,tocIndex:2},{value:", ",paraId:1,tocIndex:2},{value:"x-use-component-props",paraId:1,tocIndex:2},{value:", and ",paraId:1,tocIndex:2},{value:"x-use-decorator-props",paraId:1,tocIndex:2},{value:" as strings. Then, we register the corresponding Component and Scope in NocoBase so that during page rendering, the system can match the stored strings to the appropriate Component and Scope.",paraId:1,tocIndex:2},{value:"In contrast, for UI Schemas that do not need to be stored in the database, we can directly use reference-type properties. For example, in the locally developed ",paraId:3,tocIndex:2},{value:"plugin configuration page",paraId:4,tocIndex:2},{value:", properties like ",paraId:3,tocIndex:2},{value:"x-component",paraId:3,tocIndex:2},{value:" and ",paraId:3,tocIndex:2},{value:"x-use-component-props",paraId:3,tocIndex:2},{value:" can use reference-type values directly.",paraId:3,tocIndex:2},{value:`const schema: ISchema = {
  type: 'void',
  name: uid(),
  'x-component': MyComponent,
  'x-use-component-props': useMyComponentProps,
}
`,paraId:5,tocIndex:2},{value:"Components can be used both in the UI Schema and in routing. In both cases, it may be necessary to override certain components to achieve customization. For example:",paraId:6,tocIndex:3},{value:`class AuthPlugin extends Plugin {
  async load() {
    this.app.addComponents({ LoginPage })
    this.app.router.add('auth.signin', {
      path: '/signin',
      Component: 'SignInPage',
    })
  }
}
`,paraId:7,tocIndex:3},{value:"If someone needs to replace the login page, there are two options:",paraId:8,tocIndex:3},{value:`class CustomPlugin extends Plugin {
  async load() {
    this.app.router.add('auth.login', {
      path: '/login',
      Component: CustomLoginPage,
    })
  }
}
`,paraId:9,tocIndex:4},{value:`class CustomPlugin extends Plugin {
  async load() {
    this.app.addComponent({ LoginPage: CustomLoginPage })
  }
}
`,paraId:10,tocIndex:5},{value:"In summary, if it's not one of these two scenarios, there's no need to register the Component and Scope, and you can directly use reference-type properties instead.",paraId:11,tocIndex:5},{value:"Components and Scopes can be registered globally or locally.",paraId:12,tocIndex:6},{value:"For global registration, use the methods ",paraId:13,tocIndex:7},{value:"app.addComponents()",paraId:13,tocIndex:7},{value:" and ",paraId:13,tocIndex:7},{value:"app.addScopes()",paraId:13,tocIndex:7},{value:". For example:",paraId:13,tocIndex:7},{value:`class MyPlugin extends Plugin {
  async load() {
    this.app.addComponents({ MyComponent })
    this.app.addScopes({ MyScope })
  }
}
`,paraId:14,tocIndex:7},{value:"For local registration, use the ",paraId:15,tocIndex:8},{value:"components",paraId:15,tocIndex:8},{value:" and ",paraId:15,tocIndex:8},{value:"scope",paraId:15,tocIndex:8},{value:" properties of the ",paraId:15,tocIndex:8},{value:"SchemaComponent",paraId:15,tocIndex:8},{value:" and ",paraId:15,tocIndex:8},{value:"SchemaComponentOptions",paraId:15,tocIndex:8},{value:" components. For example:",paraId:15,tocIndex:8},{value:`<SchemaComponentProvider components={{ Hello }} scope={{ useDeleteProps }}>
  <SchemaComponent schema={schema} components={{ World }} scope={{ useSubmitProps }} />
</SchemaComponentProvider>
`,paraId:16,tocIndex:8},{value:"SchemaComponentProvider",paraId:17,tocIndex:8},{value:" can be nested multiple layers deep, and inner ",paraId:17,tocIndex:8},{value:"SchemaComponent",paraId:17,tocIndex:8},{value:" elements will inherit the ",paraId:17,tocIndex:8},{value:"components",paraId:17,tocIndex:8},{value:" and ",paraId:17,tocIndex:8},{value:"scope",paraId:17,tocIndex:8},{value:" from outer layers.",paraId:17,tocIndex:8},{value:"For the scenarios mentioned, we provide the following examples:",paraId:18,tocIndex:8},{value:"Global Registration of Component and Scope",paraId:19,tocIndex:8},{value:"Local Registration of Component and Scope",paraId:20,tocIndex:8},{value:"For the customization scenario, refer to the routing example ",paraId:21,tocIndex:8},{value:"Replace Page",paraId:22,tocIndex:8},{value:".",paraId:21,tocIndex:8}]}}]);
