"use strict";(self.webpackChunknocobase_docs=self.webpackChunknocobase_docs||[]).push([[86406],{795225:function(d,i,n){n.r(i);var o=n(572269),x=n(793359),h=n(861788),l=n(719977),p=n(20190),a=n(24268),m=n(496057),I=n(585939),v=n(28484),_=n(635206),g=n(375553),j=n(156266),f=n(572333),b=n(841118),D=n(39297),E=n(868526),A=n(605019),s=n(614651),c=n(280936),r=n(667294),t=n(184830),e=n(785893);function u(){return(0,e.jsx)(s.dY,{children:(0,e.jsx)(r.Suspense,{fallback:(0,e.jsx)(c.Z,{}),children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"markdown",children:[(0,e.jsxs)("h1",{id:"adding-a-simple-action",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#adding-a-simple-action",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Adding a Simple Action"]}),(0,e.jsxs)("h2",{id:"scenario-description",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#scenario-description",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Scenario Description"]}),(0,e.jsxs)("p",{children:[t.texts[0].value,(0,e.jsx)("code",{children:t.texts[1].value}),t.texts[2].value]}),(0,e.jsx)("p",{children:(0,e.jsx)("img",{src:"https://static-docs.nocobase.com/img_v3_02b4_51f4918f-d344-43b2-b19e-48dca709467g.jpg",alt:"img_v3_02b4_51f4918f-d344-43b2-b19e-48dca709467g"})}),(0,e.jsxs)("p",{children:[t.texts[3].value,(0,e.jsx)("code",{children:t.texts[4].value}),t.texts[5].value]}),(0,e.jsxs)("p",{children:[t.texts[6].value,(0,e.jsx)(s.rU,{to:"/plugin-samples/schema-initializer/action-modal",children:t.texts[7].value}),t.texts[8].value]}),(0,e.jsxs)("h2",{id:"example-explanation",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#example-explanation",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Example Explanation"]}),(0,e.jsxs)("p",{children:[t.texts[9].value,(0,e.jsx)("code",{children:t.texts[10].value}),t.texts[11].value,(0,e.jsx)("code",{children:t.texts[12].value}),t.texts[13].value,(0,e.jsx)("code",{children:t.texts[14].value}),t.texts[15].value,(0,e.jsx)("code",{children:t.texts[16].value}),t.texts[17].value]}),(0,e.jsxs)("p",{children:[t.texts[18].value,(0,e.jsx)("a",{href:"https://github.com/nocobase/plugin-samples/tree/main/packages/plugins/%40nocobase-sample/plugin-initializer-action-simple",children:t.texts[19].value}),t.texts[20].value]}),(0,e.jsxs)("video",{width:"100%",controls:!0,children:[t.texts[21].value,(0,e.jsx)("source",{src:"https://static-docs.nocobase.com/20240522-185359.mp4",type:"video/mp4"})]}),(0,e.jsxs)("h2",{id:"initializing-the-plugin",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#initializing-the-plugin",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Initializing the Plugin"]}),(0,e.jsxs)("p",{children:[t.texts[22].value,(0,e.jsx)(s.rU,{to:"/development/your-first-plugin",children:t.texts[23].value}),t.texts[24].value]}),(0,e.jsx)(a.Z,{lang:"bash",children:t.texts[25].value}),(0,e.jsx)("p",{children:t.texts[26].value}),(0,e.jsx)(a.Z,{lang:"bash",children:t.texts[27].value}),(0,e.jsx)("p",{children:t.texts[28].value}),(0,e.jsx)(a.Z,{lang:"bash",children:t.texts[29].value}),(0,e.jsxs)("p",{children:[t.texts[30].value,(0,e.jsx)("a",{href:"http://localhost:13000/admin/pm/list/local/",children:t.texts[31].value}),t.texts[32].value]}),(0,e.jsxs)("h2",{id:"functionality-implementation",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#functionality-implementation",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Functionality Implementation"]}),(0,e.jsx)("p",{children:t.texts[33].value}),(0,e.jsxs)("ul",{children:[(0,e.jsx)("li",{children:(0,e.jsx)("a",{href:"https://client.docs.nocobase.com/components/action",children:t.texts[34].value})}),(0,e.jsxs)("li",{children:[(0,e.jsx)(s.rU,{to:"/development/client/ui-schema/initializer",children:t.texts[35].value}),t.texts[36].value]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("a",{href:"https://client.docs.nocobase.com/core/ui-schema/schema-initializer",children:t.texts[37].value}),t.texts[38].value]}),(0,e.jsxs)("li",{children:[(0,e.jsx)(s.rU,{to:"/development/client/ui-schema/what-is-ui-schema",children:t.texts[39].value}),t.texts[40].value]}),(0,e.jsxs)("li",{children:[(0,e.jsx)(s.rU,{to:"/development/client/ui-schema/designable",children:t.texts[41].value}),t.texts[42].value]})]}),(0,e.jsx)(a.Z,{lang:"bash",children:t.texts[43].value}),(0,e.jsxs)("h3",{id:"1-define-the-name",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#1-define-the-name",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"1. Define the Name"]}),(0,e.jsx)("p",{children:t.texts[44].value}),(0,e.jsxs)("p",{children:[t.texts[45].value,(0,e.jsx)("code",{children:t.texts[46].value}),t.texts[47].value]}),(0,e.jsx)(a.Z,{lang:"ts",children:t.texts[48].value}),(0,e.jsxs)("h3",{id:"2-define-the-schema",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#2-define-the-schema",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"2. Define the Schema"]}),(0,e.jsxs)("h4",{id:"21-define-the-schema",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#21-define-the-schema",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"2.1 Define the Schema"]}),(0,e.jsx)("p",{children:t.texts[49].value}),(0,e.jsxs)("ul",{children:[(0,e.jsx)("li",{children:(0,e.jsx)("a",{href:"https://client.docs.nocobase.com/components/action",children:t.texts[50].value})}),(0,e.jsxs)("li",{children:[(0,e.jsx)(s.rU,{to:"/development/client/ui-schema/what-is-ui-schema",children:t.texts[51].value}),t.texts[52].value]})]}),(0,e.jsxs)("p",{children:[t.texts[53].value,(0,e.jsx)("code",{children:t.texts[54].value}),t.texts[55].value]}),(0,e.jsx)(a.Z,{lang:"ts",children:t.texts[56].value}),(0,e.jsxs)("p",{children:[t.texts[57].value,(0,e.jsx)("code",{children:t.texts[58].value}),t.texts[59].value,(0,e.jsx)("code",{children:t.texts[60].value}),t.texts[61].value]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("code",{children:t.texts[62].value}),t.texts[63].value]}),(0,e.jsxs)("ul",{children:[(0,e.jsxs)("li",{children:[(0,e.jsx)("code",{children:t.texts[64].value}),t.texts[65].value,(0,e.jsx)("code",{children:t.texts[66].value}),t.texts[67].value]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("code",{children:t.texts[68].value}),t.texts[69].value,(0,e.jsx)("a",{href:"https://client.docs.nocobase.com/components/action",children:t.texts[70].value}),t.texts[71].value]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("code",{children:t.texts[72].value}),t.texts[73].value]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("code",{children:t.texts[74].value}),t.texts[75].value]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("code",{children:t.texts[76].value}),t.texts[77].value,(0,e.jsx)(s.rU,{to:"/development/client/ui-schema/what-is-ui-schema#x-component-props-%E5%92%8C-x-use-component-props",children:t.texts[78].value}),t.texts[79].value]})]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("code",{children:t.texts[80].value}),t.texts[81].value]}),(0,e.jsxs)("ul",{children:[(0,e.jsxs)("li",{children:[(0,e.jsx)("a",{href:"https://client.docs.nocobase.com/core/ui-schema/designable#usefieldschema",children:t.texts[82].value}),t.texts[83].value]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("code",{children:t.texts[84].value}),t.texts[85].value]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("code",{children:t.texts[86].value}),t.texts[87].value]})]}),(0,e.jsxs)("p",{children:[t.texts[88].value,(0,e.jsx)(s.rU,{to:"/development/client/ui-schema/what-is-ui-schema",children:t.texts[89].value}),t.texts[90].value]}),(0,e.jsxs)("h3",{id:"4-implement-schema-settings",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#4-implement-schema-settings",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"4. Implement Schema Settings"]}),(0,e.jsxs)("h4",{id:"41-define-schema-settings",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#41-define-schema-settings",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"4.1 Define Schema Settings"]}),(0,e.jsxs)("p",{children:[t.texts[91].value,(0,e.jsx)("code",{children:t.texts[92].value}),t.texts[93].value,(0,e.jsx)("a",{href:"https://client.docs.nocobase.com/core/ui-schema/schema-settings",children:t.texts[94].value}),t.texts[95].value]}),(0,e.jsxs)("p",{children:[t.texts[96].value,(0,e.jsx)("code",{children:t.texts[97].value}),t.texts[98].value]}),(0,e.jsx)(a.Z,{lang:"ts",children:t.texts[99].value}),(0,e.jsxs)("h4",{id:"42-register-schema-settings",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#42-register-schema-settings",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"4.2 Register Schema Settings"]}),(0,e.jsx)(a.Z,{lang:"diff",children:t.texts[100].value}),(0,e.jsxs)("h4",{id:"43-use-schema-settings",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#43-use-schema-settings",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"4.3 Use Schema Settings"]}),(0,e.jsxs)("p",{children:[t.texts[101].value,(0,e.jsx)("code",{children:t.texts[102].value}),t.texts[103].value,(0,e.jsx)("code",{children:t.texts[104].value}),t.texts[105].value]}),(0,e.jsx)(a.Z,{lang:"diff",children:t.texts[106].value}),(0,e.jsxs)("h3",{id:"5-add-to-the-configure-actions-page",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#5-add-to-the-configure-actions-page",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"5. Add to the Configure Actions Page"]}),(0,e.jsxs)("p",{children:[t.texts[107].value,(0,e.jsx)("code",{children:t.texts[108].value}),t.texts[109].value,(0,e.jsx)("strong",{children:t.texts[110].value}),t.texts[111].value,(0,e.jsx)("code",{children:t.texts[112].value}),t.texts[113].value,(0,e.jsx)("code",{children:t.texts[114].value}),t.texts[115].value,(0,e.jsx)("code",{children:t.texts[116].value}),t.texts[117].value]}),(0,e.jsx)("p",{children:t.texts[118].value}),(0,e.jsx)("p",{children:t.texts[119].value}),(0,e.jsxs)("p",{children:[t.texts[120].value,(0,e.jsx)("code",{children:t.texts[121].value}),t.texts[122].value]}),(0,e.jsx)(a.Z,{lang:"diff",children:t.texts[123].value}),(0,e.jsxs)("video",{width:"100%",controls:!0,children:[t.texts[124].value,(0,e.jsx)("source",{src:"https://static-docs.nocobase.com/20240522-185359.mp4",type:"video/mp4"})]}),(0,e.jsxs)("h3",{id:"6-multi-language-support",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#6-multi-language-support",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"6. Multi-language Support"]})]}),(0,e.jsx)(l.Z,{type:"warning",children:(0,e.jsx)("p",{children:t.texts[125].value})}),(0,e.jsxs)("div",{className:"markdown",children:[(0,e.jsxs)("h4",{id:"61-english",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#61-english",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"6.1 English"]}),(0,e.jsxs)("p",{children:[t.texts[126].value,(0,e.jsx)("code",{children:t.texts[127].value}),t.texts[128].value]}),(0,e.jsx)(a.Z,{lang:"json",children:t.texts[129].value}),(0,e.jsxs)("h4",{id:"62-chinese",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#62-chinese",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"6.2 Chinese"]}),(0,e.jsxs)("p",{children:[t.texts[130].value,(0,e.jsx)("code",{children:t.texts[131].value}),t.texts[132].value]}),(0,e.jsx)(a.Z,{lang:"json",children:t.texts[133].value}),(0,e.jsx)("p",{children:t.texts[134].value}),(0,e.jsxs)("p",{children:[t.texts[135].value,(0,e.jsx)("a",{href:"http://localhost:13000/admin/settings/system-settings",children:t.texts[136].value}),t.texts[137].value]}),(0,e.jsx)("p",{children:(0,e.jsx)("img",{src:"https://static-docs.nocobase.com/20240611113758.png",alt:"20240611113758"})}),(0,e.jsxs)("h3",{id:"packaging-and-uploading-to-the-production-environment",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#packaging-and-uploading-to-the-production-environment",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Packaging and Uploading to the Production Environment"]}),(0,e.jsxs)("p",{children:[t.texts[138].value,(0,e.jsx)(s.rU,{to:"/development/your-fisrt-plugin#%E6%9E%84%E5%BB%BA%E5%B9%B6%E6%89%93%E5%8C%85%E6%8F%92%E4%BB%B6",children:t.texts[139].value}),t.texts[140].value]}),(0,e.jsx)("p",{children:t.texts[141].value}),(0,e.jsx)(a.Z,{lang:"bash",children:t.texts[142].value}),(0,e.jsxs)("p",{children:[t.texts[143].value,(0,e.jsx)("code",{children:t.texts[144].value}),t.texts[145].value]}),(0,e.jsx)(a.Z,{lang:"bash",children:t.texts[146].value}),(0,e.jsxs)("p",{children:[t.texts[147].value,(0,e.jsx)("code",{children:t.texts[148].value}),t.texts[149].value,(0,e.jsx)(s.rU,{to:"/welcome/getting-started/plugin",children:t.texts[150].value}),t.texts[151].value]})]})]})})})}i.default=u},184830:function(d,i,n){n.r(i),n.d(i,{texts:function(){return o}});const o=[{value:"NocoBase provides various ",paraId:0,tocIndex:1},{value:"Configure actions",paraId:0,tocIndex:1},{value:" for adding action buttons to the interface.",paraId:0,tocIndex:1},{value:"If the existing action buttons do not fully meet our needs, we can add new buttons by creating sub-items within the ",paraId:1,tocIndex:1},{value:"Configure actions",paraId:1,tocIndex:1},{value:".",paraId:1,tocIndex:1},{value:'The term "simple action" in the title refers to actions that do not require a popup. For details on how to add a popup action, refer to ',paraId:2,tocIndex:1},{value:"Adding a Popup Action",paraId:3,tocIndex:1},{value:".",paraId:2,tocIndex:1},{value:"This example creates a button that opens the corresponding block's documentation when clicked. This button will be added to the ",paraId:4,tocIndex:2},{value:"Table",paraId:4,tocIndex:2},{value:", ",paraId:4,tocIndex:2},{value:"Details",paraId:4,tocIndex:2},{value:", and ",paraId:4,tocIndex:2},{value:"Form",paraId:4,tocIndex:2},{value:" blocks within the ",paraId:4,tocIndex:2},{value:"Configure actions",paraId:4,tocIndex:2},{value:".",paraId:4,tocIndex:2},{value:"You can view the complete sample code in ",paraId:5,tocIndex:2},{value:"plugin-samples",paraId:5,tocIndex:2},{value:".",paraId:5,tocIndex:2},{value:`
  `,paraId:6},{value:"Following the instructions in the ",paraId:7,tocIndex:3},{value:"Writing Your First Plugin",paraId:8,tocIndex:3},{value:" document, you can create a project if one does not already exist. If you have an existing project or cloned the source code, skip this step.",paraId:7,tocIndex:3},{value:`yarn create nocobase-app my-nocobase-app -d postgres
cd my-nocobase-app
yarn install
yarn nocobase install
`,paraId:9,tocIndex:3},{value:"Next, initialize a plugin and add it to the system:",paraId:10,tocIndex:3},{value:`yarn pm create @nocobase-sample/plugin-initializer-action-simple
yarn pm enable @nocobase-sample/plugin-initializer-action-simple
`,paraId:11,tocIndex:3},{value:"Then, start the project:",paraId:12,tocIndex:3},{value:`yarn dev
`,paraId:13,tocIndex:3},{value:"Once logged in, visit ",paraId:14,tocIndex:3},{value:"http://localhost:13000/admin/pm/list/local/",paraId:14,tocIndex:3},{value:" to confirm that the plugin is installed and enabled.",paraId:14,tocIndex:3},{value:"Before implementing this example, we need to understand some basic concepts:",paraId:15,tocIndex:4},{value:"Action Component",paraId:16,tocIndex:4},{value:"SchemaInitializer Tutorial",paraId:17,tocIndex:4},{value:": Used for adding various blocks, fields, and actions to the interface.",paraId:16,tocIndex:4},{value:"SchemaInitializer API",paraId:16,tocIndex:4},{value:": Used for adding various blocks, fields, and actions to the interface.",paraId:16,tocIndex:4},{value:"UI Schema",paraId:18,tocIndex:4},{value:": Defines the structure and style of the interface.",paraId:16,tocIndex:4},{value:"Designable Designer",paraId:19,tocIndex:4},{value:": Used for modifying the schema.",paraId:16,tocIndex:4},{value:`.
\u251C\u2500\u2500 client # Client-side plugin
\u2502   \u251C\u2500\u2500 initializer # Initializer
\u2502   \u251C\u2500\u2500 index.tsx # Client-side plugin entry
\u2502   \u251C\u2500\u2500 locale.ts # Multilingual utility functions
\u2502   \u251C\u2500\u2500 constants.ts # Constants
\u2502   \u251C\u2500\u2500 schema # Schema
\u2502   \u2514\u2500\u2500 settings # Schema Settings
\u251C\u2500\u2500 locale # Multilingual files
\u2502   \u251C\u2500\u2500 en-US.json # English
\u2502   \u2514\u2500\u2500 zh-CN.json # Chinese
\u251C\u2500\u2500 index.ts # Server-side plugin entry
\u2514\u2500\u2500 server # Server-side plugin
`,paraId:20,tocIndex:4},{value:"First, we need to define the action name, which will be used in various places.",paraId:21,tocIndex:5},{value:"Create the file ",paraId:22,tocIndex:5},{value:"packages/plugins/@nocobase-sample/plugin-initializer-action-simple/src/client/constants.ts",paraId:22,tocIndex:5},{value:":",paraId:22,tocIndex:5},{value:`export const ActionName = 'Document';
export const ActionNameLowercase = ActionName.toLowerCase();
`,paraId:23,tocIndex:5},{value:"NocoBase\u2019s dynamic pages are rendered through schemas, so we need to define a schema that will be used to add the button to the interface. Before proceeding, it's important to understand some basic concepts:",paraId:24,tocIndex:7},{value:"Action Component",paraId:25,tocIndex:7},{value:"UI Schema Protocol",paraId:26,tocIndex:7},{value:": Detailed introduction to the structure and functionality of schema attributes.",paraId:25,tocIndex:7},{value:"Create the file ",paraId:27,tocIndex:7},{value:"packages/plugins/@nocobase-sample/plugin-initializer-action-simple/src/client/schema/index.ts",paraId:27,tocIndex:7},{value:" with the following content:",paraId:27,tocIndex:7},{value:`import { useFieldSchema } from '@formily/react';
import { ISchema } from "@nocobase/client"
import { useT } from '../locale';
import { ActionName } from '../constants';

export function useDocumentActionProps() {
  const fieldSchema = useFieldSchema();
  const t = useT();
  return {
    title: t(ActionName),
    type: 'primary',
    onClick() {
      window.open(fieldSchema['x-doc-url'])
    }
  }
}

export const createDocumentActionSchema = (blockComponent: string): ISchema & { 'x-doc-url': string } => {
  return {
    type: 'void',
    'x-component': 'Action',
    'x-doc-url': \`https://client.docs.nocobase.com/components/\${blockComponent}\`,
    'x-use-component-props': 'useDocumentActionProps',
  }
}
`,paraId:28,tocIndex:7},{value:"The ",paraId:29,tocIndex:7},{value:"createDocumentActionSchema",paraId:29,tocIndex:7},{value:" component takes a ",paraId:29,tocIndex:7},{value:"blockComponent",paraId:29,tocIndex:7},{value:" parameter and returns a schema that adds a button to the interface, which opens the corresponding block\u2019s documentation when clicked.",paraId:29,tocIndex:7},{value:"createDocumentActionSchema",paraId:30,tocIndex:7},{value:":",paraId:30,tocIndex:7},{value:"type",paraId:31,tocIndex:7},{value:": Type, here it's ",paraId:31,tocIndex:7},{value:"void",paraId:31,tocIndex:7},{value:", meaning a pure UI component.",paraId:31,tocIndex:7},{value:"x-component: 'Action'",paraId:31,tocIndex:7},{value:": ",paraId:31,tocIndex:7},{value:"Action Component",paraId:31,tocIndex:7},{value:" used to create a button.",paraId:31,tocIndex:7},{value:"title: 'Document'",paraId:31,tocIndex:7},{value:": Button title.",paraId:31,tocIndex:7},{value:"x-doc-url",paraId:31,tocIndex:7},{value:": A custom schema property representing the documentation URL.",paraId:31,tocIndex:7},{value:"x-use-component-props: 'useDocumentActionProps'",paraId:31,tocIndex:7},{value:": Dynamic properties, more details can be found in ",paraId:31,tocIndex:7},{value:"the documentation",paraId:32,tocIndex:7},{value:".",paraId:31,tocIndex:7},{value:"useDocumentActionProps()",paraId:33,tocIndex:7},{value:":",paraId:33,tocIndex:7},{value:"useFieldSchema()",paraId:34,tocIndex:7},{value:": Retrieves the schema of the current node.",paraId:34,tocIndex:7},{value:"type: 'primary'",paraId:34,tocIndex:7},{value:": Button type.",paraId:34,tocIndex:7},{value:"onClick",paraId:34,tocIndex:7},{value:": Click event, opens the corresponding block\u2019s documentation.",paraId:34,tocIndex:7},{value:"For more details on schemas, refer to the ",paraId:35,tocIndex:7},{value:"UI Schema",paraId:36,tocIndex:7},{value:" documentation.",paraId:35,tocIndex:7},{value:"Currently, after adding through ",paraId:37,tocIndex:9},{value:"createDocumentActionInitializerItem()",paraId:37,tocIndex:9},{value:", items cannot be deleted. We can use ",paraId:37,tocIndex:9},{value:"Schema Settings",paraId:37,tocIndex:9},{value:" for configuration.",paraId:37,tocIndex:9},{value:"We add a new file ",paraId:38,tocIndex:9},{value:"packages/plugins/@nocobase-sample/plugin-initializer-action-simple/src/client/settings/index.ts",paraId:38,tocIndex:9},{value:":",paraId:38,tocIndex:9},{value:`import { SchemaSettings } from "@nocobase/client";

import { ActionNameLowercase } from "../constants";

export const documentActionSettings = new SchemaSettings({
  name: \`actionSettings:\${ActionNameLowercase}\`,
  items: [
    {
      name: 'remove',
      type: 'remove',
    }
  ]
});
`,paraId:39,tocIndex:9},{value:`import { Plugin } from '@nocobase/client';
import { useDocumentActionProps } from './schema';
+ import { documentActionSettings } from './settings';

export class PluginInitializerActionSimpleClient extends Plugin {
  async load() {
    this.app.addScopes({ useDocumentActionProps });
+   this.app.schemaSettingsManager.add(documentActionSettings);
  }
}

export default PluginInitializerActionSimpleClient;
`,paraId:40,tocIndex:10},{value:"We modify the ",paraId:41,tocIndex:11},{value:"createDocumentActionSchema",paraId:41,tocIndex:11},{value:" in ",paraId:41,tocIndex:11},{value:"packages/plugins/@nocobase-sample/plugin-initializer-action-simple/src/client/schema/index.ts",paraId:41,tocIndex:11},{value:":",paraId:41,tocIndex:11},{value:`+ import { documentActionSettings } from '../settings';

export const createDocumentActionSchema = (blockComponent: string): ISchema & { 'x-doc-url': string } => {
  return {
    type: 'void',
    'x-component': 'Action',
+   'x-settings': documentActionSettings.name,
    // ...
  }
}
`,paraId:42,tocIndex:11},{value:"There are many ",paraId:43,tocIndex:12},{value:"Configure actions",paraId:43,tocIndex:12},{value:" buttons in the system, but their ",paraId:43,tocIndex:12},{value:"names are different",paraId:43,tocIndex:12},{value:". We need to add them to the ",paraId:43,tocIndex:12},{value:"Table",paraId:43,tocIndex:12},{value:", ",paraId:43,tocIndex:12},{value:"Details",paraId:43,tocIndex:12},{value:", and ",paraId:43,tocIndex:12},{value:"Form",paraId:43,tocIndex:12},{value:" blocks based on specific requirements.",paraId:43,tocIndex:12},{value:"First, let's find the corresponding names:",paraId:44,tocIndex:12},{value:"TODO",paraId:45,tocIndex:12},{value:"Next, we modify the ",paraId:46,tocIndex:12},{value:"packages/plugins/@nocobase-sample/plugin-initializer-action-simple/src/client/index.tsx",paraId:46,tocIndex:12},{value:" file:",paraId:46,tocIndex:12},{value:`import { Plugin } from '@nocobase/client';
import { useDocumentActionProps } from './schema';
import { documentActionSettings } from './settings';
+ import { createDocumentActionInitializerItem } from './initializer';

export class PluginInitializerActionSimpleClient extends Plugin {
  async load() {
    this.app.addScopes({ useDocumentActionProps });
    this.app.schemaSettingsManager.add(documentActionSettings);
+   this.app.schemaInitializerManager.addItem('table:configureActions', 'document', createDocumentActionInitializerItem('table-v2'));
+   this.app.schemaInitializerManager.addItem('details:configureActions', 'document', createDocumentActionInitializerItem('details'));
+   this.app.schemaInitializerManager.addItem('createForm:configureActions', 'document', createDocumentActionInitializerItem('form-v2'));
  }
}

export default PluginInitializerActionSimpleClient;
`,paraId:47,tocIndex:12},{value:`
  `,paraId:6},{value:"After modifying the multi-language files, you need to restart the service for the changes to take effect.",paraId:48},{value:"We edit the ",paraId:49,tocIndex:14},{value:"packages/plugins/@nocobase-sample/plugin-initializer-action-simple/src/locale/en-US.json",paraId:49,tocIndex:14},{value:" file:",paraId:49,tocIndex:14},{value:`{
  "Document": "Document"
}
`,paraId:50,tocIndex:14},{value:"We edit the ",paraId:51,tocIndex:15},{value:"packages/plugins/@nocobase-sample/plugin-initializer-action-simple/src/locale/zh-CN.json",paraId:51,tocIndex:15},{value:" file:",paraId:51,tocIndex:15},{value:`{
  "Document": "\u6587\u6863"
}
`,paraId:52,tocIndex:15},{value:"If more language support is needed, additional entries can be added.",paraId:53,tocIndex:15},{value:"You can add multiple languages via ",paraId:54,tocIndex:15},{value:"http://localhost:13000/admin/settings/system-settings",paraId:54,tocIndex:15},{value:" and switch languages in the upper right corner.",paraId:54,tocIndex:15},{value:"Following the ",paraId:55,tocIndex:16},{value:"Build and Package Plugin",paraId:56,tocIndex:16},{value:" guide, we can package the plugin and upload it to the production environment.",paraId:55,tocIndex:16},{value:"If the source code was cloned, a full build is needed first to construct the plugin dependencies.",paraId:57,tocIndex:16},{value:`yarn build
`,paraId:58,tocIndex:16},{value:"If the project was created using ",paraId:59,tocIndex:16},{value:"create-nocobase-app",paraId:59,tocIndex:16},{value:", simply run:",paraId:59,tocIndex:16},{value:`yarn build @nocobase-sample/plugin-initializer-action-simple --tar
`,paraId:60,tocIndex:16},{value:"Afterward, you will see the file ",paraId:61,tocIndex:16},{value:"storage/tar/@nocobase-sample/plugin-initializer-action-simple.tar.gz",paraId:61,tocIndex:16},{value:", which can be uploaded for installation following the ",paraId:61,tocIndex:16},{value:"upload guide",paraId:62,tocIndex:16},{value:".",paraId:61,tocIndex:16}]}}]);
