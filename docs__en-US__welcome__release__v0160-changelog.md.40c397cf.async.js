"use strict";(self.webpackChunknocobase_docs=self.webpackChunknocobase_docs||[]).push([[68358],{614899:function(t,s,n){n.r(s);var d=n(572269),i=n(793359),u=n(861788),h=n(719977),x=n(20190),o=n(24268),m=n(496057),v=n(585939),I=n(28484),j=n(635206),E=n(375553),p=n(156266),f=n(572333),b=n(841118),g=n(39297),M=n(868526),P=n(605019),c=n(614651),_=n(280936),l=n(667294),a=n(862957),e=n(785893);function r(){return(0,e.jsx)(c.dY,{children:(0,e.jsx)(l.Suspense,{fallback:(0,e.jsx)(_.Z,{}),children:(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"markdown",children:[(0,e.jsxs)("h1",{id:"v0162023-11-20",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#v0162023-11-20",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"v0.16\uFF1A2023-11-20"]}),(0,e.jsxs)("h2",{id:"new-features",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#new-features",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"New Features"]}),(0,e.jsxs)("p",{children:[a.texts[0].value,(0,e.jsx)("a",{href:"https://docs.nocobase.com/api/cache/cache-manager",children:a.texts[1].value}),a.texts[2].value]}),(0,e.jsxs)("h2",{id:"breaking-changes",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#breaking-changes",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Breaking Changes"]}),(0,e.jsxs)("h3",{id:"node-minimum-version-changed-to-18",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#node-minimum-version-changed-to-18",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Node minimum version changed to 18"]}),(0,e.jsx)("p",{children:a.texts[3].value}),(0,e.jsx)(o.Z,{lang:"json",children:a.texts[4].value}),(0,e.jsxs)("h3",{id:"cache-creation-method-update",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#cache-creation-method-update",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Cache creation method update"]}),(0,e.jsxs)("p",{children:[a.texts[5].value,(0,e.jsx)("code",{children:a.texts[6].value}),a.texts[7].value]}),(0,e.jsx)(o.Z,{lang:"ts",children:a.texts[8].value}),(0,e.jsxs)("p",{children:[a.texts[9].value,(0,e.jsx)("code",{children:a.texts[10].value}),a.texts[11].value,(0,e.jsx)("code",{children:a.texts[12].value}),a.texts[13].value]}),(0,e.jsx)(o.Z,{lang:"ts",children:a.texts[14].value}),(0,e.jsxs)("h3",{id:"environment-variables-update",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#environment-variables-update",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Environment variables update"]}),(0,e.jsx)("p",{children:a.texts[15].value}),(0,e.jsx)(o.Z,{lang:"bash",children:a.texts[16].value}),(0,e.jsx)("p",{children:a.texts[17].value}),(0,e.jsx)(o.Z,{lang:"bash",children:a.texts[18].value}),(0,e.jsxs)("h2",{id:"full-changelog",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#full-changelog",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Full changelog"]}),(0,e.jsxs)("ul",{children:[(0,e.jsxs)("li",{children:[a.texts[19].value,(0,e.jsx)("a",{href:"https://github.com/nocobase/nocobase/pull/3004",children:(0,e.jsx)("code",{children:a.texts[20].value})})]}),(0,e.jsxs)("li",{children:[a.texts[21].value,(0,e.jsx)("a",{href:"https://github.com/nocobase/nocobase/pull/3063",children:(0,e.jsx)("code",{children:a.texts[22].value})})]}),(0,e.jsxs)("li",{children:[a.texts[23].value,(0,e.jsx)("a",{href:"https://github.com/nocobase/nocobase/pull/3061",children:(0,e.jsx)("code",{children:a.texts[24].value})})]}),(0,e.jsxs)("li",{children:[a.texts[25].value,(0,e.jsx)("a",{href:"https://github.com/nocobase/nocobase/pull/3052",children:(0,e.jsx)("code",{children:a.texts[26].value})})]}),(0,e.jsxs)("li",{children:[a.texts[27].value,(0,e.jsx)("a",{href:"https://github.com/nocobase/nocobase/pull/3062",children:(0,e.jsx)("code",{children:a.texts[28].value})})]}),(0,e.jsxs)("li",{children:[a.texts[29].value,(0,e.jsx)("a",{href:"https://github.com/nocobase/nocobase/pull/3060",children:(0,e.jsx)("code",{children:a.texts[30].value})})]}),(0,e.jsxs)("li",{children:[a.texts[31].value,(0,e.jsx)("a",{href:"https://github.com/nocobase/nocobase/pull/3058",children:(0,e.jsx)("code",{children:a.texts[32].value})})]}),(0,e.jsxs)("li",{children:[a.texts[33].value,(0,e.jsx)("a",{href:"https://github.com/nocobase/nocobase/pull/3066",children:(0,e.jsx)("code",{children:a.texts[34].value})})]})]})]})})})})}s.default=r},862957:function(t,s,n){n.r(s),n.d(s,{texts:function(){return d}});const d=[{value:"The previous version of cache has poor usability (only support memory cache), v0.16 has been refactored, built-in memory and redis store, it also supports custom store. please refer to the ",paraId:0,tocIndex:1},{value:"API documentation",paraId:0,tocIndex:1},{value:" for the details of how to use.",paraId:0,tocIndex:1},{value:"Node v16 is no longer maintained, the minimum version has been changed to v18.",paraId:1,tocIndex:3},{value:`{
  "engines": {
    "node": ">=18"
  }
}
`,paraId:2,tocIndex:3},{value:"Deprecated: Use ",paraId:3,tocIndex:4},{value:"createCache",paraId:3,tocIndex:4},{value:" for cache creation.",paraId:3,tocIndex:4},{value:`import { createCache } from "@nocobase/cache";

const cache = createCache();
`,paraId:4,tocIndex:4},{value:"Cache now managed by ",paraId:5,tocIndex:4},{value:"CacheManager",paraId:5,tocIndex:4},{value:" and created with ",paraId:5,tocIndex:4},{value:"app.cacheManager",paraId:5,tocIndex:4},{value:".",paraId:5,tocIndex:4},{value:`const cache = await app.cacheManager.createCache({
  name: "memory", // unique name of cache
  store: "memory", // unique name of cache method
  // other config
  max: 2000,
  ttl: 60 * 1000,
});
`,paraId:6,tocIndex:4},{value:"Previous environment variables of cache required a JSON string for configuring.",paraId:7,tocIndex:5},{value:`CACHE_CONFIG={"storePackage":"cache-manager-fs-hash","ttl":86400,"max":1000}
`,paraId:8,tocIndex:5},{value:"New environment variables for configuring cache:",paraId:9,tocIndex:5},{value:`# Unique name of default cache method, memory or redis
CACHE_DEFAULT_STORE=memory
# Max number of items in memory cache
CACHE_MEMORY_MAX=2000
# Redis\uFF0Coptional
CACHE_REDIS_URL=redis://localhost:6379
`,paraId:10,tocIndex:5},{value:"refactor(cache): improve cache ",paraId:11,tocIndex:6},{value:"#3004",paraId:11,tocIndex:6},{value:"fix: local storage base url ",paraId:11,tocIndex:6},{value:"#3063",paraId:11,tocIndex:6},{value:"feat: show table definition ",paraId:11,tocIndex:6},{value:"#3061",paraId:11,tocIndex:6},{value:"feat: mariadb support ",paraId:11,tocIndex:6},{value:"#3052",paraId:11,tocIndex:6},{value:"fix(plugin-workflow): client minor fixes ",paraId:11,tocIndex:6},{value:"#3062",paraId:11,tocIndex:6},{value:"chore: view inference ",paraId:11,tocIndex:6},{value:"#3060",paraId:11,tocIndex:6},{value:"fix: sort by association collection ",paraId:11,tocIndex:6},{value:"#3058",paraId:11,tocIndex:6},{value:"feat: node >= 18 ",paraId:11,tocIndex:6},{value:"#3066",paraId:11,tocIndex:6}]}}]);
