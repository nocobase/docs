"use strict";(self.webpackChunknocobase_docs=self.webpackChunknocobase_docs||[]).push([[59068],{414334:function(r,a,s){s.r(a);var d=s(572269),h=s(793359),x=s(861788),o=s(719977),m=s(20190),t=s(24268),v=s(496057),E=s(585939),I=s(28484),j=s(635206),p=s(375553),M=s(156266),P=s(572333),i=s(841118),D=s(39297),T=s(868526),f=s(605019),_=s(614651),l=s(280936),c=s(667294),n=s(786098),e=s(785893);function u(){return(0,e.jsx)(_.dY,{children:(0,e.jsx)(c.Suspense,{fallback:(0,e.jsx)(l.Z,{}),children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:"markdown",children:(0,e.jsxs)("h1",{id:"telemetry---prometheus",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#telemetry---prometheus",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Telemetry - Prometheus"]})}),(0,e.jsx)(i.Z,{name:"telemetry-prometheus",licenseBundled:"enterprise",licensebundled:"enterprise"}),(0,e.jsxs)("div",{className:"markdown",children:[(0,e.jsxs)("h2",{id:"introduction",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#introduction",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Introduction"]}),(0,e.jsx)("p",{children:n.texts[0].value}),(0,e.jsxs)("h2",{id:"installation",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#installation",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Installation"]})]}),(0,e.jsx)(o.Z,{type:"info",title:"Note",children:(0,e.jsxs)("p",{children:[n.texts[1].value,(0,e.jsx)("a",{href:"https://www.nocobase.com/commercial",children:n.texts[2].value}),n.texts[3].value]})}),(0,e.jsxs)("div",{className:"markdown",children:[(0,e.jsxs)("h2",{id:"user-manual",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#user-manual",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"User Manual"]}),(0,e.jsxs)("h3",{id:"environment-variables",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#environment-variables",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Environment Variables"]}),(0,e.jsx)("p",{children:n.texts[4].value}),(0,e.jsxs)("h4",{id:"telemetry_enabled",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#telemetry_enabled",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"TELEMETRY_ENABLED"]}),(0,e.jsxs)("p",{children:[n.texts[5].value,(0,e.jsx)("code",{children:n.texts[6].value}),n.texts[7].value]}),(0,e.jsx)(t.Z,{lang:"bash",children:n.texts[8].value}),(0,e.jsxs)("h4",{id:"telemetry_metric_reader",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#telemetry_metric_reader",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"TELEMETRY_METRIC_READER"]}),(0,e.jsxs)("p",{children:[n.texts[9].value,(0,e.jsx)("code",{children:n.texts[10].value}),n.texts[11].value]}),(0,e.jsx)(t.Z,{lang:"bash",children:n.texts[12].value}),(0,e.jsxs)("h4",{id:"telemetry_prometheus_server",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#telemetry_prometheus_server",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"TELEMETRY_PROMETHEUS_SERVER"]}),(0,e.jsx)("p",{children:n.texts[13].value}),(0,e.jsxs)("ul",{children:[(0,e.jsxs)("li",{children:[(0,e.jsx)("code",{children:n.texts[14].value}),n.texts[15].value,(0,e.jsx)("code",{children:n.texts[16].value}),n.texts[17].value]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("code",{children:n.texts[18].value}),n.texts[19].value,(0,e.jsx)("code",{children:n.texts[20].value}),n.texts[21].value]})]}),(0,e.jsxs)("h4",{id:"telemetry_prometheus_port",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#telemetry_prometheus_port",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"TELEMETRY_PROMETHEUS_PORT"]}),(0,e.jsxs)("p",{children:[n.texts[22].value,(0,e.jsx)("code",{children:n.texts[23].value}),n.texts[24].value]}),(0,e.jsxs)("h4",{id:"related-documents",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#related-documents",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Related Documents"]}),(0,e.jsx)("ul",{children:(0,e.jsx)("li",{children:(0,e.jsx)(_.rU,{to:"/welcome/getting-started/env#telemetry_enabled",children:n.texts[25].value})})}),(0,e.jsxs)("h3",{id:"prometheus-configuration",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#prometheus-configuration",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Prometheus Configuration"]}),(0,e.jsx)("p",{children:n.texts[26].value}),(0,e.jsx)(t.Z,{lang:"yaml",children:n.texts[27].value}),(0,e.jsx)("p",{children:n.texts[28].value}),(0,e.jsx)(t.Z,{lang:"yaml",children:n.texts[29].value})]})]})})})}a.default=u},786098:function(r,a,s){s.r(a),s.d(a,{texts:function(){return d}});const d=[{value:"This plugin is used to convert OpenTelemetry protocol (OTLP) data into Prometheus format and expose an interface for Prometheus to scrape metric data.",paraId:0,tocIndex:1},{value:"This is a commercial plugin. Please see ",paraId:1},{value:"NocoBase commercial version",paraId:1},{value:" for details.",paraId:1},{value:"Configure the environment variables before starting NocoBase.",paraId:2,tocIndex:4},{value:"Set to ",paraId:3,tocIndex:5},{value:"on",paraId:3,tocIndex:5},{value:".",paraId:3,tocIndex:5},{value:`TELEMETRY_ENABLED=on
`,paraId:4,tocIndex:5},{value:"Add ",paraId:5,tocIndex:6},{value:"prometheus",paraId:5,tocIndex:6},{value:".",paraId:5,tocIndex:6},{value:`TELEMETRY_METRIC_READER=prometheus
`,paraId:6,tocIndex:6},{value:"Whether to start a separate server.",paraId:7,tocIndex:7},{value:"off",paraId:8,tocIndex:7},{value:". The scraping interface is ",paraId:8,tocIndex:7},{value:"/api/prometheus:metrics",paraId:8,tocIndex:7},{value:".",paraId:8,tocIndex:7},{value:"on",paraId:8,tocIndex:7},{value:". The scraping interface is ",paraId:8,tocIndex:7},{value:":port/metrics",paraId:8,tocIndex:7},{value:".",paraId:8,tocIndex:7},{value:"The port for the separate server when activated. Default ",paraId:9,tocIndex:8},{value:"9464",paraId:9,tocIndex:8},{value:".",paraId:9,tocIndex:8},{value:"Environment Variables",paraId:10,tocIndex:9},{value:"Separate server",paraId:11,tocIndex:10},{value:`scrape_configs:
  - job_name: 'nocobase'
    static_configs:
      - targets: ['localhost:9464']
`,paraId:12,tocIndex:10},{value:"Internal API",paraId:13,tocIndex:10},{value:`scrape_configs:
  - job_name: 'nocobase'
    metrics_path: '/api/prometheus:metrics'
    static_configs:
      - targets: ['localhost:13001']
`,paraId:14,tocIndex:10}]}}]);
