"use strict";(self.webpackChunknocobase_docs=self.webpackChunknocobase_docs||[]).push([[18830],{226162:function(r,a,t){t.r(a);var i=t(572269),c=t(793359),x=t(861788),h=t(719977),_=t(20190),d=t(24268),I=t(496057),v=t(585939),p=t(28484),m=t(635206),j=t(375553),g=t(156266),E=t(572333),f=t(841118),P=t(39297),M=t(868526),O=t(605019),s=t(614651),l=t(280936),o=t(667294),n=t(982082),e=t(785893);function u(){return(0,e.jsx)(s.dY,{children:(0,e.jsx)(o.Suspense,{fallback:(0,e.jsx)(l.Z,{}),children:(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"markdown",children:[(0,e.jsxs)("h1",{id:"api-reference",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#api-reference",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"API Reference"]}),(0,e.jsxs)("h2",{id:"server-side",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#server-side",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Server Side"]}),(0,e.jsxs)("h3",{id:"auth",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#auth",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Auth"]}),(0,e.jsxs)("p",{children:[n.texts[0].value,(0,e.jsx)(s.rU,{to:"/api/auth/auth",children:n.texts[1].value})]}),(0,e.jsxs)("h3",{id:"baseauth",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#baseauth",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"BaseAuth"]}),(0,e.jsxs)("p",{children:[n.texts[2].value,(0,e.jsx)(s.rU,{to:"/api/auth/base-auth",children:n.texts[3].value})]}),(0,e.jsxs)("h3",{id:"authmodel",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#authmodel",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"AuthModel"]}),(0,e.jsxs)("h4",{id:"overview",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#overview",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Overview"]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("code",{children:n.texts[4].value}),n.texts[5].value,(0,e.jsx)("code",{children:n.texts[6].value}),n.texts[7].value,(0,e.jsx)(s.rU,{to:"/api/auth/auth-manager#setstorer",children:n.texts[8].value}),n.texts[9].value,(0,e.jsx)(s.rU,{to:"/api/auth/auth#constructor",children:n.texts[10].value}),n.texts[11].value]}),(0,e.jsx)(d.Z,{lang:"ts",children:n.texts[12].value}),(0,e.jsxs)("h4",{id:"class-methods",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#class-methods",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Class Methods"]}),(0,e.jsxs)("ul",{children:[(0,e.jsxs)("li",{children:[(0,e.jsxs)("p",{children:[(0,e.jsx)("code",{children:n.texts[13].value}),n.texts[14].value,(0,e.jsx)("code",{children:n.texts[15].value}),n.texts[16].value]}),(0,e.jsx)("ul",{children:(0,e.jsxs)("li",{children:[(0,e.jsx)("code",{children:n.texts[17].value}),n.texts[18].value]})})]}),(0,e.jsxs)("li",{children:[(0,e.jsxs)("p",{children:[(0,e.jsx)("code",{children:n.texts[19].value}),n.texts[20].value,(0,e.jsx)("code",{children:n.texts[21].value}),n.texts[22].value]}),(0,e.jsxs)("ul",{children:[(0,e.jsxs)("li",{children:[(0,e.jsx)("code",{children:n.texts[23].value}),n.texts[24].value]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("code",{children:n.texts[25].value}),n.texts[26].value,(0,e.jsx)("code",{children:n.texts[27].value}),n.texts[28].value]})]})]}),(0,e.jsxs)("li",{children:[(0,e.jsxs)("p",{children:[(0,e.jsx)("code",{children:n.texts[29].value}),n.texts[30].value]}),(0,e.jsxs)("ul",{children:[(0,e.jsxs)("li",{children:[(0,e.jsx)("code",{children:n.texts[31].value}),n.texts[32].value]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("code",{children:n.texts[33].value}),n.texts[34].value]})]})]})]}),(0,e.jsxs)("h2",{id:"client-side",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#client-side",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Client Side"]}),(0,e.jsxs)("h3",{id:"pluginregistertype",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#pluginregistertype",children:(0,e.jsx)("span",{className:"icon icon-link"})}),(0,e.jsx)("code",{children:n.texts[35].value})]}),(0,e.jsx)("p",{children:n.texts[36].value}),(0,e.jsx)(d.Z,{lang:"ts",children:n.texts[37].value}),(0,e.jsxs)("h4",{id:"signature",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#signature",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Signature"]}),(0,e.jsx)("ul",{children:(0,e.jsx)("li",{children:(0,e.jsx)("code",{children:n.texts[38].value})})}),(0,e.jsxs)("h4",{id:"type",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#type",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Type"]}),(0,e.jsx)(d.Z,{lang:"ts",children:n.texts[39].value}),(0,e.jsxs)("h4",{id:"details",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#details",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Details"]}),(0,e.jsxs)("ul",{children:[(0,e.jsxs)("li",{children:[(0,e.jsx)("code",{children:n.texts[40].value}),n.texts[41].value]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("code",{children:n.texts[42].value}),n.texts[43].value]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("code",{children:n.texts[44].value}),n.texts[45].value]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("code",{children:n.texts[46].value}),n.texts[47].value]})]}),(0,e.jsxs)("h3",{id:"route",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#route",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Route"]}),(0,e.jsx)("p",{children:n.texts[48].value}),(0,e.jsxs)("ul",{children:[(0,e.jsxs)("li",{children:[(0,e.jsx)("p",{children:n.texts[49].value}),(0,e.jsxs)("ul",{children:[(0,e.jsxs)("li",{children:[n.texts[50].value,(0,e.jsx)("code",{children:n.texts[51].value})]}),(0,e.jsxs)("li",{children:[n.texts[52].value,(0,e.jsx)("code",{children:n.texts[53].value})]}),(0,e.jsxs)("li",{children:[n.texts[54].value,(0,e.jsx)("code",{children:n.texts[55].value})]})]})]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("p",{children:n.texts[56].value}),(0,e.jsxs)("ul",{children:[(0,e.jsxs)("li",{children:[n.texts[57].value,(0,e.jsx)("code",{children:n.texts[58].value})]}),(0,e.jsxs)("li",{children:[n.texts[59].value,(0,e.jsx)("code",{children:n.texts[60].value})]}),(0,e.jsxs)("li",{children:[n.texts[61].value,(0,e.jsx)("code",{children:n.texts[62].value})]})]})]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("p",{children:n.texts[63].value}),(0,e.jsxs)("ul",{children:[(0,e.jsxs)("li",{children:[n.texts[64].value,(0,e.jsx)("code",{children:n.texts[65].value})]}),(0,e.jsxs)("li",{children:[n.texts[66].value,(0,e.jsx)("code",{children:n.texts[67].value})]}),(0,e.jsxs)("li",{children:[n.texts[68].value,(0,e.jsx)("code",{children:n.texts[69].value})]})]})]})]})]})})})})}a.default=u},982082:function(r,a,t){t.r(a),t.d(a,{texts:function(){return i}});const i=[{value:"Kernel API, reference: ",paraId:0,tocIndex:2},{value:"Auth",paraId:1,tocIndex:2},{value:"Kernel API, reference: ",paraId:2,tocIndex:3},{value:"BaseAuth",paraId:3,tocIndex:3},{value:"AuthModel",paraId:4,tocIndex:5},{value:" is the authenticator used in NocoBase applications (",paraId:4,tocIndex:5},{value:"Authenticator",paraId:4,tocIndex:5},{value:", reference: ",paraId:4,tocIndex:5},{value:"AuthManager - setStorer",paraId:5,tocIndex:5},{value:" and ",paraId:4,tocIndex:5},{value:"Auth - constructor",paraId:6,tocIndex:5},{value:") data model, providing some methods for interacting with the user data collection. In addition, methods provided by Sequelize Model can also be used.",paraId:4,tocIndex:5},{value:`import { AuthModel } from '@nocobase/plugin-auth';

class CustomAuth extends BaseAuth {
  async validate() {
    // ...
    const authenticator = this.authenticator as AuthModel;
    this.authenticator.findUser();
    this.authenticator.newUser();
    this.authenticator.findOrCreateUser();
    // ...
  }
}
`,paraId:7,tocIndex:5},{value:"findUser(uuid: string): UserModel",paraId:8,tocIndex:6},{value:" - Query user by ",paraId:8,tocIndex:6},{value:"uuid",paraId:8,tocIndex:6},{value:".",paraId:8,tocIndex:6},{value:"uuid",paraId:9,tocIndex:6},{value:" - User unique identifier from the current authentication type",paraId:9,tocIndex:6},{value:"newUser(uuid: string, userValues?: any): UserModel",paraId:10,tocIndex:6},{value:" - Create a new user, bind the user to the current authenticator through ",paraId:10,tocIndex:6},{value:"uuid",paraId:10,tocIndex:6},{value:".",paraId:10,tocIndex:6},{value:"uuid",paraId:11,tocIndex:6},{value:" - User unique identifier from the current authentication type",paraId:11,tocIndex:6},{value:"userValues",paraId:11,tocIndex:6},{value:" - Optional. Other user information. When not passed, ",paraId:11,tocIndex:6},{value:"uuid",paraId:11,tocIndex:6},{value:" will be used as the user's nickname.",paraId:11,tocIndex:6},{value:"findOrCreateUser(uuid: string, userValues?: any): UserModel",paraId:12,tocIndex:6},{value:" - Find or create a new user, the creation rule is the same as above.",paraId:12,tocIndex:6},{value:"uuid",paraId:13,tocIndex:6},{value:" - User unique identifier from the current authentication type",paraId:13,tocIndex:6},{value:"userValues",paraId:13,tocIndex:6},{value:" - Optional. Other user information.",paraId:13,tocIndex:6},{value:"plugin.registerType()",paraId:14},{value:"Register the client of the authentication type.",paraId:15,tocIndex:8},{value:`import AuthPlugin from '@nocobase/plugin-auth/client';

class CustomAuthPlugin extends Plugin {
  async load() {
    const auth = this.app.pm.get(AuthPlugin);
    auth.registerType('custom-auth-type', {
      components: {
        SignInForm,
        // SignInButton
        SignUpForm,
        AdminSettingsForm,
      },
    });
  }
}
`,paraId:16,tocIndex:8},{value:"registerType(authType: string, options: AuthOptions)",paraId:17,tocIndex:9},{value:`export type AuthOptions = {
  components: Partial<{
    SignInForm: ComponentType<{ authenticator: AuthenticatorType }>;
    SignInButton: ComponentType<{ authenticator: AuthenticatorType }>;
    SignUpForm: ComponentType<{ authenticatorName: string }>;
    AdminSettingsForm: ComponentType;
  }>;
};
`,paraId:18,tocIndex:10},{value:"SignInForm",paraId:19,tocIndex:11},{value:" - Sign in form",paraId:19,tocIndex:11},{value:"SignInButton",paraId:19,tocIndex:11},{value:" - Sign in (third-party) button, can be used as an alternative to the sign-in form",paraId:19,tocIndex:11},{value:"SignUpForm",paraId:19,tocIndex:11},{value:" - Sign up form",paraId:19,tocIndex:11},{value:"AdminSettingsForm",paraId:19,tocIndex:11},{value:" - Admin configuration form",paraId:19,tocIndex:11},{value:"The frontend routes for registering the auth plugin are as follows:",paraId:20,tocIndex:12},{value:"Auth Layout",paraId:21,tocIndex:12},{value:"name: ",paraId:22,tocIndex:12},{value:"auth",paraId:22,tocIndex:12},{value:"path: ",paraId:22,tocIndex:12},{value:"-",paraId:22,tocIndex:12},{value:"component: ",paraId:22,tocIndex:12},{value:"AuthLayout",paraId:22,tocIndex:12},{value:"SignIn Page",paraId:23,tocIndex:12},{value:"name: ",paraId:24,tocIndex:12},{value:"auth.signin",paraId:24,tocIndex:12},{value:"path: ",paraId:24,tocIndex:12},{value:"/signin",paraId:24,tocIndex:12},{value:"component: ",paraId:24,tocIndex:12},{value:"SignInPage",paraId:24,tocIndex:12},{value:"SignUp Page",paraId:25,tocIndex:12},{value:"name: ",paraId:26,tocIndex:12},{value:"auth.signup",paraId:26,tocIndex:12},{value:"path: ",paraId:26,tocIndex:12},{value:"/signup",paraId:26,tocIndex:12},{value:"component: ",paraId:26,tocIndex:12},{value:"SignUpPage",paraId:26,tocIndex:12}]}}]);
