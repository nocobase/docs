"use strict";(self.webpackChunknocobase_docs=self.webpackChunknocobase_docs||[]).push([[93555],{589480:function(r,d,n){n.r(d);var o=n(572269),u=n(793359),x=n(861788),h=n(719977),p=n(20190),t=n(24268),v=n(496057),I=n(585939),_=n(28484),m=n(635206),j=n(375553),g=n(156266),f=n(572333),b=n(841118),E=n(39297),P=n(868526),O=n(605019),s=n(614651),i=n(280936),l=n(667294),a=n(843438),e=n(785893);function c(){return(0,e.jsx)(s.dY,{children:(0,e.jsx)(l.Suspense,{fallback:(0,e.jsx)(i.Z,{}),children:(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"markdown",children:[(0,e.jsxs)("h1",{id:"v010-2023-06-20",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#v010-2023-06-20",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"v0.10: 2023-06-20"]}),(0,e.jsxs)("h2",{id:"new-features-in-the-second-quarter",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#new-features-in-the-second-quarter",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"New features in the second quarter"]}),(0,e.jsxs)("ul",{children:[(0,e.jsxs)("li",{children:[a.texts[0].value,(0,e.jsxs)("ul",{children:[(0,e.jsx)("li",{children:a.texts[1].value}),(0,e.jsx)("li",{children:a.texts[2].value}),(0,e.jsx)("li",{children:a.texts[3].value}),(0,e.jsx)("li",{children:a.texts[4].value}),(0,e.jsx)("li",{children:a.texts[5].value}),(0,e.jsx)("li",{children:a.texts[6].value})]})]}),(0,e.jsxs)("li",{children:[a.texts[7].value,(0,e.jsxs)("ul",{children:[(0,e.jsx)("li",{children:a.texts[8].value}),(0,e.jsx)("li",{children:a.texts[9].value})]})]}),(0,e.jsxs)("li",{children:[a.texts[10].value,(0,e.jsxs)("ul",{children:[(0,e.jsx)("li",{children:a.texts[11].value}),(0,e.jsx)("li",{children:a.texts[12].value})]})]}),(0,e.jsx)("li",{children:a.texts[13].value}),(0,e.jsx)("li",{children:a.texts[14].value}),(0,e.jsx)("li",{children:a.texts[15].value}),(0,e.jsx)("li",{children:a.texts[16].value}),(0,e.jsx)("li",{children:a.texts[17].value}),(0,e.jsxs)("li",{children:[a.texts[18].value,(0,e.jsxs)("ul",{children:[(0,e.jsx)("li",{children:a.texts[19].value}),(0,e.jsx)("li",{children:a.texts[20].value}),(0,e.jsx)("li",{children:a.texts[21].value}),(0,e.jsx)("li",{children:a.texts[22].value})]})]}),(0,e.jsxs)("li",{children:[a.texts[23].value,(0,e.jsxs)("ul",{children:[(0,e.jsx)("li",{children:a.texts[24].value}),(0,e.jsx)("li",{children:a.texts[25].value}),(0,e.jsx)("li",{children:a.texts[26].value})]})]}),(0,e.jsxs)("li",{children:[a.texts[27].value,(0,e.jsxs)("ul",{children:[(0,e.jsx)("li",{children:a.texts[28].value}),(0,e.jsx)("li",{children:a.texts[29].value})]})]})]}),(0,e.jsxs)("h2",{id:"upgrading-applications",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#upgrading-applications",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Upgrading applications"]}),(0,e.jsxs)("h3",{id:"upgrading-for-docker-compose",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#upgrading-for-docker-compose",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Upgrading for Docker compose"]}),(0,e.jsxs)("p",{children:[a.texts[30].value,(0,e.jsx)(s.rU,{to:"/welcome/getting-started/upgrading/docker-compose",children:a.texts[31].value})]}),(0,e.jsxs)("h3",{id:"upgrading-for-git-source-code",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#upgrading-for-git-source-code",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Upgrading for Git source code"]}),(0,e.jsx)("p",{children:a.texts[32].value}),(0,e.jsx)(t.Z,{lang:"bash",children:a.texts[33].value}),(0,e.jsxs)("p",{children:[a.texts[34].value,(0,e.jsx)(s.rU,{to:"/welcome/getting-started/upgrading/git-clone",children:a.texts[35].value}),a.texts[36].value]}),(0,e.jsxs)("h3",{id:"upgrading-for-create-nocobase-app",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#upgrading-for-create-nocobase-app",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Upgrading for create-nocobase-app"]}),(0,e.jsxs)("p",{children:[a.texts[37].value,(0,e.jsx)("code",{children:a.texts[38].value}),a.texts[39].value,(0,e.jsx)("code",{children:a.texts[40].value}),a.texts[41].value,(0,e.jsx)(s.rU,{to:"/welcome/getting-started/upgrading/create-nocobase-app#major-upgrade",children:a.texts[42].value})]}),(0,e.jsxs)("h2",{id:"upcoming-deprecated-and-potentially-incompatible-changes",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#upcoming-deprecated-and-potentially-incompatible-changes",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Upcoming deprecated and potentially incompatible changes"]}),(0,e.jsxs)("h3",{id:"sub-table-field-component",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#sub-table-field-component",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Sub-table field component"]}),(0,e.jsx)("p",{children:a.texts[43].value}),(0,e.jsxs)("h3",{id:"attachment-upload-api-changes",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#attachment-upload-api-changes",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Attachment upload api changes"]}),(0,e.jsxs)("p",{children:[a.texts[44].value,(0,e.jsx)("code",{children:a.texts[45].value}),a.texts[46].value,(0,e.jsx)("code",{children:a.texts[47].value}),a.texts[48].value]}),(0,e.jsxs)("h3",{id:"signinsignup-api-changes",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#signinsignup-api-changes",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"signin/signup api changes"]}),(0,e.jsxs)("p",{children:[a.texts[49].value,(0,e.jsx)("a",{href:"https://github.com/nocobase/nocobase/tree/main/packages/plugins/auth",children:a.texts[50].value}),a.texts[51].value]}),(0,e.jsx)(t.Z,{lang:"bash",children:a.texts[52].value}),(0,e.jsx)("p",{children:a.texts[53].value}),(0,e.jsxs)("h3",{id:"adjustments-to-date-field-filtering",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#adjustments-to-date-field-filtering",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Adjustments to date field filtering"]}),(0,e.jsx)("p",{children:a.texts[54].value}),(0,e.jsxs)("h2",{id:"third-party-plugin-upgrade-guide",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#third-party-plugin-upgrade-guide",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Third-party plugin upgrade guide"]}),(0,e.jsxs)("h3",{id:"dependencies-upgrade",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#dependencies-upgrade",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Dependencies upgrade"]}),(0,e.jsx)("p",{children:a.texts[55].value}),(0,e.jsxs)("ul",{children:[(0,e.jsxs)("li",{children:[(0,e.jsx)("code",{children:a.texts[56].value}),a.texts[57].value]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("code",{children:a.texts[58].value}),a.texts[59].value]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("code",{children:a.texts[60].value}),a.texts[61].value]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("code",{children:a.texts[62].value}),a.texts[63].value]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("code",{children:a.texts[64].value}),a.texts[65].value]})]}),(0,e.jsxs)("p",{children:[a.texts[66].value,(0,e.jsx)("code",{children:a.texts[67].value}),a.texts[68].value]}),(0,e.jsx)(t.Z,{lang:"diff",children:a.texts[69].value}),(0,e.jsxs)("h3",{id:"code-changes",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#code-changes",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Code changes"]}),(0,e.jsx)("p",{children:a.texts[70].value}),(0,e.jsxs)("h3",{id:"layout-component",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#layout-component",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Layout Component"]}),(0,e.jsxs)("p",{children:[a.texts[71].value,(0,e.jsx)("code",{children:a.texts[72].value}),a.texts[73].value,(0,e.jsx)("code",{children:a.texts[74].value}),a.texts[75].value]}),(0,e.jsx)(t.Z,{lang:"diff",children:a.texts[76].value}),(0,e.jsxs)("p",{children:[a.texts[77].value,(0,e.jsx)("code",{children:a.texts[78].value}),a.texts[79].value]}),(0,e.jsx)(t.Z,{lang:"diff",children:a.texts[80].value}),(0,e.jsxs)("p",{children:[a.texts[81].value,(0,e.jsx)("code",{children:a.texts[82].value})]}),(0,e.jsx)(t.Z,{lang:"diff",children:a.texts[83].value}),(0,e.jsxs)("h3",{id:"redirect",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#redirect",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Redirect"]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("code",{children:a.texts[84].value}),a.texts[85].value,(0,e.jsx)("code",{children:a.texts[86].value}),a.texts[87].value]}),(0,e.jsx)(t.Z,{lang:"diff",children:a.texts[88].value}),(0,e.jsxs)("h3",{id:"usehistory",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#usehistory",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"useHistory"]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("code",{children:a.texts[89].value}),a.texts[90].value,(0,e.jsx)("code",{children:a.texts[91].value}),a.texts[92].value]}),(0,e.jsx)(t.Z,{lang:"diff",children:a.texts[93].value}),(0,e.jsxs)("h3",{id:"uselocation",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#uselocation",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"useLocation"]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("code",{children:a.texts[94].value}),a.texts[95].value,(0,e.jsx)("code",{children:a.texts[96].value}),a.texts[97].value]}),(0,e.jsx)(t.Z,{lang:"diff",children:a.texts[98].value}),(0,e.jsxs)("p",{children:[(0,e.jsx)("code",{children:a.texts[99].value}),a.texts[100].value,(0,e.jsx)("code",{children:a.texts[101].value}),a.texts[102].value]}),(0,e.jsx)(t.Z,{lang:"diff",children:a.texts[103].value}),(0,e.jsxs)("h3",{id:"path",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#path",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"path"]}),(0,e.jsx)("p",{children:a.texts[104].value}),(0,e.jsx)(t.Z,{children:a.texts[105].value}),(0,e.jsx)("p",{children:a.texts[106].value}),(0,e.jsx)(t.Z,{children:a.texts[107].value}),(0,e.jsxs)("p",{children:[a.texts[108].value,(0,e.jsx)("a",{href:"https://reactrouter.com/en/main/upgrading/v5",children:a.texts[109].value}),a.texts[110].value]})]})})})})}d.default=c},843438:function(r,d,n){n.r(d),n.d(d,{texts:function(){return o}});const o=[{value:`Association field component improvements, support for multiple component switching
`,paraId:0,tocIndex:1},{value:"Select",paraId:1,tocIndex:1},{value:"Record picker",paraId:1,tocIndex:1},{value:"Sub-form/Sub-details",paraId:1,tocIndex:1},{value:"Sub-table",paraId:1,tocIndex:1},{value:"File manager",paraId:1,tocIndex:1},{value:"Title(read only)",paraId:1,tocIndex:1},{value:`Quick creation of relational data, supports two quick creation modes
`,paraId:0,tocIndex:1},{value:"Add in drop-down menu to quickly create a new record based on the title field",paraId:2,tocIndex:1},{value:"Add in pop-up window to configure complex add forms",paraId:2,tocIndex:1},{value:`Duplicate action, supports two modes
`,paraId:0,tocIndex:1},{value:"Direct duplicate",paraId:3,tocIndex:1},{value:"Copy into the form and continue to fill in",paraId:3,tocIndex:1},{value:"Form data templates",paraId:0,tocIndex:1},{value:"Filter data scope support variables",paraId:0,tocIndex:1},{value:"List block",paraId:0,tocIndex:1},{value:"Grid card block",paraId:0,tocIndex:1},{value:"Mobile client plugin",paraId:0,tocIndex:1},{value:`User authentication plugin, support for different authentication methods
`,paraId:0,tocIndex:1},{value:"Email/Password",paraId:4,tocIndex:1},{value:"SMS",paraId:4,tocIndex:1},{value:"OIDC",paraId:4,tocIndex:1},{value:"SAML",paraId:4,tocIndex:1},{value:`Workflow nodes
`,paraId:0,tocIndex:1},{value:"Manual node upgrade, support for adding and editing from existing collections",paraId:5,tocIndex:1},{value:"Loop node",paraId:5,tocIndex:1},{value:"Aggregate node",paraId:5,tocIndex:1},{value:`File manager
`,paraId:0,tocIndex:1},{value:"Provide file collection template",paraId:6,tocIndex:1},{value:"Provide file manager component",paraId:6,tocIndex:1},{value:"No change, upgrade reference ",paraId:7,tocIndex:3},{value:"Upgrading for Docker compose",paraId:8,tocIndex:3},{value:"v0.10 has a major upgrade of dependencies, so to prevent errors when upgrading the source code, you need to delete the following directories before upgrading",paraId:9,tocIndex:4},{value:`# Remove .umi cache
yarn rimraf -rf "./**/{.umi,.umi-production}"
# Delete compiled files
yarn rimraf -rf "./packages/*/*/{lib,esm,es,dist,node_modules}"
# Remove dependencies
yarn rimraf -rf node_modules
`,paraId:10,tocIndex:4},{value:"See ",paraId:11,tocIndex:4},{value:"Upgrading for Git source code",paraId:12,tocIndex:4},{value:" for more details",paraId:11,tocIndex:4},{value:"It is recommended that ",paraId:13,tocIndex:5},{value:"yarn create",paraId:13,tocIndex:5},{value:" re-download the new version and modify the ",paraId:13,tocIndex:5},{value:".env",paraId:13,tocIndex:5},{value:" configuration, for more details refer to ",paraId:13,tocIndex:5},{value:"major version upgrade guide",paraId:14,tocIndex:5},{value:"Not compatible with new version, block fields need to be removed and reassigned (UI reassignment only)",paraId:15,tocIndex:7},{value:"In addition to the built-in attachments table, users can also custom file collection, the upload api for attachments has been changed from ",paraId:16,tocIndex:8},{value:"/api/attachments:upload",paraId:16,tocIndex:8},{value:" to ",paraId:16,tocIndex:8},{value:"/api/<file-collection>:create",paraId:16,tocIndex:8},{value:", upload is deprecated, still compatible with v0.10 but will be Removed.",paraId:16,tocIndex:8},{value:"The nocobase kernel provides a more powerful ",paraId:17,tocIndex:9},{value:"auth module",paraId:17,tocIndex:9},{value:" with the following changes to the user login, registration, verification, and logout apis:",paraId:17,tocIndex:9},{value:`/api/users:signin -> /api/auth:signIn
/api/users:signup -> /api/auth:signUp
/api/users:signout -> /api/auth:signOut
/api/users:check -> /api/auth:check
`,paraId:18,tocIndex:9},{value:"Note: The above users interface, which is deprecated, is still compatible with v0.10, but will be removed in the next major release.",paraId:19,tocIndex:9},{value:"If date related filtering was previously configured in the data range, it needs to be deleted and reconfigured.",paraId:20,tocIndex:10},{value:"dependencies mainly including",paraId:21,tocIndex:12},{value:"react",paraId:22,tocIndex:12},{value:" upgrade to v18",paraId:22,tocIndex:12},{value:"react-dom",paraId:22,tocIndex:12},{value:" upgrade to v18",paraId:22,tocIndex:12},{value:"react-router",paraId:22,tocIndex:12},{value:" upgrade to v6.11",paraId:22,tocIndex:12},{value:"umi",paraId:22,tocIndex:12},{value:" upgrade to v4",paraId:22,tocIndex:12},{value:"dumi",paraId:22,tocIndex:12},{value:" upgrade to v2",paraId:22,tocIndex:12},{value:"The ",paraId:23,tocIndex:12},{value:"package.json",paraId:23,tocIndex:12},{value:" dependencies should be changed to the latest version, e.g:",paraId:23,tocIndex:12},{value:`{
  "devDependencies": {
+   "react": "^18".
+   "react-dom": "^18".
+   "react-router-dom": "^6.11.2".
-   "react": "^17".
-   "react-dom": "^17".
-   "react-router-dom": "^5".
  }
}
`,paraId:24,tocIndex:12},{value:"Because react-router has been upgraded, the related code also needs to be changed, the main changes include",paraId:25,tocIndex:13},{value:"Layout component needs to use ",paraId:26,tocIndex:14},{value:"<Outlet />",paraId:26,tocIndex:14},{value:" instead of ",paraId:26,tocIndex:14},{value:"props.children",paraId:26,tocIndex:14},{value:".",paraId:26,tocIndex:14},{value:`import React from 'react';
+ import { Outlet } from 'react-router-dom';

export default function Layout(props) {
  return (
    <div>
-      { props.children }
+      <Outlet />
    </div>
  );
}
`,paraId:27,tocIndex:14},{value:"if you use ",paraId:28,tocIndex:14},{value:"React.cloneElement",paraId:28,tocIndex:14},{value:" to render the route component, you need to change it like this:",paraId:28,tocIndex:14},{value:`import React from 'react';
+ import { Outlet } from 'react-router-dom';

export default function RouteComponent(props) {
  return (
    <div>
-      { React.cloneElement(props.children, { someProp: 'p1' }) }
+      <Outlet context={{ someProp: 'p1' }} />
    </div>
  );
}
`,paraId:29,tocIndex:14},{value:"Change the route component to get the value from ",paraId:30,tocIndex:14},{value:"useOutletContext",paraId:30,tocIndex:14},{value:`import React from 'react';
+ import { useOutletContext } from 'react-router-dom';

- export function Comp(props){
+ export function Comp() {
+   const props = useOutletContext();
  return props.someProp;
}
`,paraId:31,tocIndex:14},{value:"<Redirect>",paraId:32,tocIndex:15},{value:" is changed to ",paraId:32,tocIndex:15},{value:"<Navigate replace />",paraId:32,tocIndex:15},{value:".",paraId:32,tocIndex:15},{value:`- <Redirect to="about" />
+ <Navigate to="about" replace />
`,paraId:33,tocIndex:15},{value:"useNavigate",paraId:34,tocIndex:16},{value:" is changed to ",paraId:34,tocIndex:16},{value:"useHistory",paraId:34,tocIndex:16},{value:".",paraId:34,tocIndex:16},{value:`- import { useHistory } from 'react-router-dom';
+ import { useNavigate} from 'react-router-dom';

- const history = useHistory();
+ const navigate = useNavigate();

- history.push('/about')
+ navigate('/about')

- history.replace('/about')
+ navigate('/about', { replace: true })
`,paraId:35,tocIndex:16},{value:"useLocation<type>()",paraId:36,tocIndex:17},{value:" is changed to ",paraId:36,tocIndex:17},{value:"useLocation",paraId:36,tocIndex:17},{value:".",paraId:36,tocIndex:17},{value:`- const location= useLocation<type>();
+ const location= useLocation();
`,paraId:37,tocIndex:17},{value:"const { query } = useLocation()",paraId:38,tocIndex:17},{value:" is changed to ",paraId:38,tocIndex:17},{value:"useSearchParams()",paraId:38,tocIndex:17},{value:"\u3002",paraId:38,tocIndex:17},{value:`- const location = useLocation();
- const query = location.query;
- const name = query.name;
+ const [searchParams, setSearchParams] = useSearchParams();
+ searchParams.get('name');
`,paraId:39,tocIndex:17},{value:"All of the following are valid route paths in v6:",paraId:40,tocIndex:18},{value:`/groups
/groups/admin
/users/:id
/users/:id/messages
/files/*
/files/:id/*
`,paraId:41,tocIndex:18},{value:"The following RegExp-style route paths are not valid in v6:",paraId:42,tocIndex:18},{value:`/tweets/:id(\\d+)
/files/*/cat.jpg
/files-*
`,paraId:43,tocIndex:18},{value:"For more api changes, please refer to ",paraId:44,tocIndex:18},{value:"react-router@6",paraId:44,tocIndex:18},{value:"\u3002",paraId:44,tocIndex:18}]}}]);
