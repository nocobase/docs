"use strict";(self.webpackChunknocobase_docs=self.webpackChunknocobase_docs||[]).push([[81715],{736536:function(l,s,a){a.r(s);var d=a(572269),c=a(793359),u=a(861788),h=a(719977),x=a(20190),o=a(24268),m=a(496057),v=a(585939),g=a(28484),p=a(635206),I=a(375553),P=a(156266),j=a(572333),E=a(841118),M=a(39297),D=a(868526),O=a(605019),t=a(614651),i=a(280936),_=a(667294),n=a(782541),e=a(785893);function r(){return(0,e.jsx)(t.dY,{children:(0,e.jsx)(_.Suspense,{fallback:(0,e.jsx)(i.Z,{}),children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"markdown",children:[(0,e.jsxs)("h1",{id:"v0152023-11-13",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#v0152023-11-13",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"v0.15\uFF1A2023-11-13"]}),(0,e.jsxs)("h2",{id:"features",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#features",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Features"]}),(0,e.jsx)("p",{children:(0,e.jsx)("img",{src:"https://static-docs.nocobase.com/20240115140600.png",alt:"Plugin settings manager"})}),(0,e.jsxs)("h2",{id:"breaking-changes",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#breaking-changes",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Breaking changes"]}),(0,e.jsxs)("h3",{id:"plugin-configuration-page-registration-api",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#plugin-configuration-page-registration-api",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Plugin configuration page registration API"]}),(0,e.jsxs)("p",{children:[n.texts[0].value,(0,e.jsx)("code",{children:n.texts[1].value}),n.texts[2].value]}),(0,e.jsxs)("p",{children:[n.texts[3].value,(0,e.jsx)("code",{children:n.texts[4].value}),n.texts[5].value]}),(0,e.jsx)("ul",{children:(0,e.jsx)("li",{children:n.texts[6].value})}),(0,e.jsx)("p",{children:n.texts[7].value}),(0,e.jsx)(o.Z,{lang:"tsx",children:n.texts[8].value}),(0,e.jsx)("p",{children:n.texts[9].value}),(0,e.jsx)(o.Z,{lang:"tsx",children:n.texts[10].value}),(0,e.jsxs)("p",{children:[n.texts[11].value,(0,e.jsx)("code",{children:n.texts[12].value}),n.texts[13].value,(0,e.jsx)("code",{children:n.texts[14].value}),n.texts[15].value]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("code",{children:n.texts[16].value}),n.texts[17].value,(0,e.jsx)("code",{children:n.texts[18].value}),n.texts[19].value,(0,e.jsx)("code",{children:n.texts[20].value}),n.texts[21].value]})]}),(0,e.jsx)(t.Dl,{demo:{id:"docs-en-us-welcome-release-v-0150-changelog-demo-0"},previewerProps:{}}),(0,e.jsx)("div",{className:"markdown",children:(0,e.jsx)("ul",{children:(0,e.jsx)("li",{children:n.texts[22].value})})}),(0,e.jsx)(t.Dl,{demo:{id:"docs-en-us-welcome-release-v-0150-changelog-demo-1"},previewerProps:{}}),(0,e.jsx)("div",{className:"markdown",children:(0,e.jsx)("p",{children:n.texts[23].value})}),(0,e.jsx)(t.Dl,{demo:{id:"docs-en-us-welcome-release-v-0150-changelog-demo-2"},previewerProps:{}}),(0,e.jsx)("div",{className:"markdown",children:(0,e.jsx)("p",{children:n.texts[24].value})}),(0,e.jsx)(t.Dl,{demo:{id:"docs-en-us-welcome-release-v-0150-changelog-demo-3"},previewerProps:{}}),(0,e.jsxs)("div",{className:"markdown",children:[(0,e.jsx)("p",{children:n.texts[25].value}),(0,e.jsx)(o.Z,{lang:"tsx",children:n.texts[26].value}),(0,e.jsxs)("p",{children:[n.texts[27].value,(0,e.jsx)("a",{href:"https://docs.nocobase.com/development/client/plugin-settings",children:n.texts[28].value}),n.texts[29].value]}),(0,e.jsxs)("h2",{id:"changelog",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#changelog",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Changelog"]}),(0,e.jsxs)("p",{children:[n.texts[30].value,(0,e.jsx)("a",{href:"https://github.com/nocobase/nocobase/blob/main/CHANGELOG.md",children:n.texts[31].value}),n.texts[32].value]})]})]})})})}s.default=r},782541:function(l,s,a){a.r(s),a.d(s,{texts:function(){return d}});const d=[{value:"\u4EE5\u524D\u4F7F\u7528 ",paraId:0,tocIndex:3},{value:"SettingsCenterProvider",paraId:0,tocIndex:3},{value:" \u6CE8\u518C\u63D2\u4EF6\u914D\u7F6E\u9875\u9762\uFF0C\u73B0\u5728\u9700\u8981\u901A\u8FC7\u63D2\u4EF6\u6CE8\u518C\u3002",paraId:0,tocIndex:3},{value:"Previously, the plugin configuration page was registered using ",paraId:1,tocIndex:3},{value:"SettingsCenterProvider",paraId:1,tocIndex:3},{value:", and now it needs to be registered through the plugin.",paraId:1,tocIndex:3},{value:"Case 1: There is only one Tab on the original page",paraId:2,tocIndex:3},{value:"When there is only one Tab on the page, the new version of the Tab will be deleted, leaving only the title and icon of the page.",paraId:3,tocIndex:3},{value:`const HelloProvider = React.memo(props => {
  return (
    <SettingsCenterProvider
      settings={{
        hello: {
          title: "Hello",
          icon: "ApiOutlined",
          tabs: {
            tab1: {
              title: "Hello tab",
              component: HelloPluginSettingPage,
            },
          },
        },
      }}
    >
      {props.children}
    </SettingsCenterProvider>
  );
});
`,paraId:4,tocIndex:3},{value:"Now it needs to be changed to:",paraId:5,tocIndex:3},{value:`class HelloPlugin extends Plugin {
  async load() {
    this.app.pluginSettingsManager.add("hello", {
      title: "Hello",
      icon: "ApiOutlined",
      Component: HelloPluginSettingPage,
      // It is not necessary to pass this parameter if it is a new plugin
      aclSnippet: "pm.hello.tab1",
    });
  }
}
`,paraId:6,tocIndex:3},{value:"The ",paraId:7,tocIndex:3},{value:"Hello Tab",paraId:7,tocIndex:3},{value:" of ",paraId:7,tocIndex:3},{value:"tab1",paraId:7,tocIndex:3},{value:" is deleted.",paraId:7,tocIndex:3},{value:"aclSnippet",paraId:8,tocIndex:3},{value:" parameter ",paraId:8,tocIndex:3},{value:"pm.hello.tab1",paraId:8,tocIndex:3},{value:" corresponds to the key of the original ",paraId:8,tocIndex:3},{value:"settings",paraId:8,tocIndex:3},{value:" object:",paraId:8,tocIndex:3},{value:"Case 2: There are multiple Tabs on the original page",paraId:9},{value:"Now it needs to be changed to:",paraId:10},{value:"Get the routing information corresponding to the pluginSettingsManager",paraId:11},{value:"If there is a link jump inside the plugin configuration page, you need to change it accordingly, for example:",paraId:12},{value:'navigate("/admin/settings/hello/1").navigate("/admin/settings/hello/2");\n\n// This can be changed to\nconst basePath = app.pluginSettingsManager.getRoutePath("hello");\nnavigate(`${basePath}/1`);\nnavigate(`${basePath}/2`);\n',paraId:13},{value:"For more information, see the ",paraId:14},{value:"plugin settings manager",paraId:14},{value:".",paraId:14},{value:"For a complete changelog, please refer to ",paraId:15,tocIndex:4},{value:"Changelog",paraId:15,tocIndex:4},{value:".",paraId:15,tocIndex:4}]}}]);
