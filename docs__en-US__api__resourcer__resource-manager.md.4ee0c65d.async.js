"use strict";(self.webpackChunknocobase_docs=self.webpackChunknocobase_docs||[]).push([[89989],{155400:function(i,t,a){a.r(t);var l=a(572269),u=a(793359),h=a(861788),j=a(719977),I=a(20190),n=a(24268),s=a(496057),v=a(585939),p=a(28484),_=a(635206),m=a(375553),f=a(156266),g=a(572333),y=a(841118),M=a(39297),E=a(868526),T=a(605019),r=a(614651),c=a(280936),x=a(667294),d=a(827790),e=a(785893);function o(){return(0,e.jsx)(r.dY,{children:(0,e.jsx)(x.Suspense,{fallback:(0,e.jsx)(c.Z,{}),children:(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"markdown",children:[(0,e.jsxs)("h1",{id:"resourcemanager",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#resourcemanager",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"ResourceManager"]}),(0,e.jsxs)("h2",{id:"overview",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#overview",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Overview"]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("code",{children:d.texts[0].value}),d.texts[1].value]}),(0,e.jsxs)("h2",{id:"class-methods",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#class-methods",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Class Methods"]}),(0,e.jsxs)("h3",{id:"define",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#define",children:(0,e.jsx)("span",{className:"icon icon-link"})}),(0,e.jsx)("code",{children:d.texts[2].value})]}),(0,e.jsx)("p",{children:d.texts[3].value}),(0,e.jsx)(n.Z,{lang:"ts",children:d.texts[4].value}),(0,e.jsxs)("h4",{id:"signature",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#signature",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Signature"]}),(0,e.jsx)("ul",{children:(0,e.jsx)("li",{children:(0,e.jsx)("code",{children:d.texts[5].value})})}),(0,e.jsxs)("h4",{id:"type",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#type",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Type"]}),(0,e.jsx)(n.Z,{lang:"ts",children:d.texts[6].value}),(0,e.jsxs)("h4",{id:"details",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#details",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Details"]}),(0,e.jsxs)("h5",{id:"resourceoptions",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#resourceoptions",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"ResourceOptions"]}),(0,e.jsxs)(s.Z,{children:[(0,e.jsx)("thead",{children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{children:d.texts[7].value}),(0,e.jsx)("th",{children:d.texts[8].value}),(0,e.jsx)("th",{children:d.texts[9].value}),(0,e.jsx)("th",{children:d.texts[10].value})]})}),(0,e.jsxs)("tbody",{children:[(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[11].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[12].value})}),(0,e.jsx)("td",{children:d.texts[13].value}),(0,e.jsx)("td",{children:d.texts[14].value})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[15].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[16].value})}),(0,e.jsx)("td",{children:d.texts[17].value}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[18].value})})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[19].value})}),(0,e.jsx)("td",{children:(0,e.jsx)(r.rU,{to:"#actiontype",children:(0,e.jsx)("code",{children:d.texts[20].value})})}),(0,e.jsx)("td",{children:d.texts[21].value}),(0,e.jsx)("td",{children:d.texts[22].value})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[23].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[24].value})}),(0,e.jsxs)("td",{children:[d.texts[25].value,(0,e.jsx)("code",{children:d.texts[26].value})]}),(0,e.jsx)("td",{children:d.texts[27].value})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[28].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[29].value})}),(0,e.jsxs)("td",{children:[d.texts[30].value,(0,e.jsx)("code",{children:d.texts[31].value})]}),(0,e.jsx)("td",{children:d.texts[32].value})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[33].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[34].value})}),(0,e.jsx)("td",{children:d.texts[35].value}),(0,e.jsx)("td",{children:d.texts[36].value})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[37].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[38].value})}),(0,e.jsx)("td",{children:d.texts[39].value}),(0,e.jsx)("td",{children:d.texts[40].value})]})]})]}),(0,e.jsxs)("h5",{id:"actiontype",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#actiontype",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"ActionType"]}),(0,e.jsx)("p",{children:d.texts[41].value}),(0,e.jsx)("ul",{children:(0,e.jsx)("li",{children:(0,e.jsx)("code",{children:d.texts[42].value})})}),(0,e.jsx)("p",{children:d.texts[43].value}),(0,e.jsx)(n.Z,{lang:"ts",children:d.texts[44].value}),(0,e.jsx)("ul",{children:(0,e.jsx)("li",{children:(0,e.jsx)("code",{children:d.texts[45].value})})}),(0,e.jsx)("p",{children:d.texts[46].value}),(0,e.jsx)(n.Z,{lang:"ts",children:d.texts[47].value}),(0,e.jsxs)(s.Z,{children:[(0,e.jsx)("thead",{children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{children:d.texts[48].value}),(0,e.jsx)("th",{children:d.texts[49].value}),(0,e.jsx)("th",{children:d.texts[50].value})]})}),(0,e.jsxs)("tbody",{children:[(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[51].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[52].value})}),(0,e.jsx)("td",{children:d.texts[53].value})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[54].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[55].value})}),(0,e.jsxs)("td",{children:[d.texts[56].value,(0,e.jsx)(r.rU,{to:"/api/database/operators",children:d.texts[57].value})]})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[58].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[59].value})}),(0,e.jsx)("td",{children:d.texts[60].value})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[61].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[62].value})}),(0,e.jsx)("td",{children:d.texts[63].value})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[64].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[65].value})}),(0,e.jsx)("td",{children:d.texts[66].value})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[67].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[68].value})}),(0,e.jsx)("td",{children:d.texts[69].value})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[70].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[71].value})}),(0,e.jsx)("td",{children:d.texts[72].value})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[73].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[74].value})}),(0,e.jsx)("td",{children:d.texts[75].value})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[76].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[77].value})}),(0,e.jsx)("td",{children:d.texts[78].value})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[79].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[80].value})}),(0,e.jsx)("td",{children:d.texts[81].value})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[82].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[83].value})}),(0,e.jsx)("td",{children:d.texts[84].value})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[85].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[86].value})}),(0,e.jsx)("td",{children:d.texts[87].value})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[88].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[89].value})}),(0,e.jsx)("td",{children:d.texts[90].value})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[91].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[92].value})}),(0,e.jsx)("td",{children:d.texts[93].value})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[94].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[95].value})}),(0,e.jsx)("td",{children:d.texts[96].value})]})]})]}),(0,e.jsxs)("h3",{id:"registeractionhandlers",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#registeractionhandlers",children:(0,e.jsx)("span",{className:"icon icon-link"})}),(0,e.jsx)("code",{children:d.texts[97].value})]}),(0,e.jsx)("p",{children:d.texts[98].value}),(0,e.jsxs)("h4",{id:"signature-1",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#signature-1",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Signature"]}),(0,e.jsx)("ul",{children:(0,e.jsx)("li",{children:(0,e.jsx)("code",{children:d.texts[99].value})})}),(0,e.jsxs)("h4",{id:"type-1",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#type-1",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Type"]}),(0,e.jsx)(n.Z,{lang:"ts",children:d.texts[100].value}),(0,e.jsxs)("h4",{id:"details-1",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#details-1",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Details"]}),(0,e.jsxs)(s.Z,{children:[(0,e.jsx)("thead",{children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{children:d.texts[101].value}),(0,e.jsx)("th",{children:d.texts[102].value}),(0,e.jsx)("th",{children:d.texts[103].value})]})}),(0,e.jsxs)("tbody",{children:[(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[104].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[105].value})}),(0,e.jsxs)("td",{children:[d.texts[106].value,(0,e.jsx)("br",{}),d.texts[107].value,(0,e.jsx)("br",{}),d.texts[108].value,(0,e.jsx)("code",{children:d.texts[109].value}),d.texts[110].value]})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[111].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[112].value})}),(0,e.jsx)("td",{children:d.texts[113].value})]})]})]}),(0,e.jsxs)("h3",{id:"isdefined",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#isdefined",children:(0,e.jsx)("span",{className:"icon icon-link"})}),(0,e.jsx)("code",{children:d.texts[114].value})]}),(0,e.jsx)("p",{children:d.texts[115].value}),(0,e.jsxs)("h4",{id:"signature-2",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#signature-2",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Signature"]}),(0,e.jsx)("ul",{children:(0,e.jsx)("li",{children:(0,e.jsx)("code",{children:d.texts[116].value})})}),(0,e.jsxs)("h4",{id:"details-2",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#details-2",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Details"]}),(0,e.jsxs)(s.Z,{children:[(0,e.jsx)("thead",{children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{children:d.texts[117].value}),(0,e.jsx)("th",{children:d.texts[118].value}),(0,e.jsx)("th",{children:d.texts[119].value})]})}),(0,e.jsx)("tbody",{children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[120].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[121].value})}),(0,e.jsx)("td",{children:d.texts[122].value})]})})]}),(0,e.jsxs)("h3",{id:"import",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#import",children:(0,e.jsx)("span",{className:"icon icon-link"})}),(0,e.jsx)("code",{children:d.texts[123].value})]}),(0,e.jsx)("p",{children:d.texts[124].value}),(0,e.jsx)(n.Z,{lang:"ts",children:d.texts[125].value}),(0,e.jsxs)("h4",{id:"signature-3",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#signature-3",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Signature"]}),(0,e.jsx)("ul",{children:(0,e.jsx)("li",{children:(0,e.jsx)("code",{children:d.texts[126].value})})}),(0,e.jsxs)("h4",{id:"type-2",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#type-2",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Type"]}),(0,e.jsx)(n.Z,{lang:"ts",children:d.texts[127].value}),(0,e.jsxs)("h4",{id:"details-3",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#details-3",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Details"]}),(0,e.jsxs)(s.Z,{children:[(0,e.jsx)("thead",{children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{children:d.texts[128].value}),(0,e.jsx)("th",{children:d.texts[129].value}),(0,e.jsx)("th",{children:d.texts[130].value}),(0,e.jsx)("th",{children:d.texts[131].value})]})}),(0,e.jsxs)("tbody",{children:[(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[132].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[133].value})}),(0,e.jsx)("td",{children:d.texts[134].value}),(0,e.jsx)("td",{children:d.texts[135].value})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[136].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[137].value})}),(0,e.jsx)("td",{children:d.texts[138].value}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[139].value})})]})]})]}),(0,e.jsxs)("h3",{id:"use",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#use",children:(0,e.jsx)("span",{className:"icon icon-link"})}),(0,e.jsx)("code",{children:d.texts[140].value})]}),(0,e.jsxs)("p",{children:[d.texts[141].value,(0,e.jsx)("code",{children:d.texts[142].value}),d.texts[143].value]}),(0,e.jsx)(n.Z,{lang:"ts",children:d.texts[144].value}),(0,e.jsxs)("h4",{id:"signature-4",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#signature-4",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Signature"]}),(0,e.jsx)("ul",{children:(0,e.jsx)("li",{children:(0,e.jsx)("code",{children:d.texts[145].value})})}),(0,e.jsxs)("h4",{id:"details-4",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#details-4",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Details"]}),(0,e.jsxs)("p",{children:[d.texts[146].value,(0,e.jsx)(r.rU,{to:"/development/server/middleware",children:d.texts[147].value}),d.texts[148].value]}),(0,e.jsxs)("h3",{id:"middleware",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#middleware",children:(0,e.jsx)("span",{className:"icon icon-link"})}),(0,e.jsx)("code",{children:d.texts[149].value})]}),(0,e.jsxs)("p",{children:[d.texts[150].value,(0,e.jsx)("code",{children:d.texts[151].value}),d.texts[152].value,(0,e.jsx)(r.rU,{to:"/api/resourcer/action",children:d.texts[153].value}),d.texts[154].value]})]})})})})}t.default=o},827790:function(i,t,a){a.r(t),a.d(t,{texts:function(){return l}});const l=[{value:"ResourceManager",paraId:0,tocIndex:1},{value:" is the resource management module of NocoBase, used to define resources and register operation methods for resources.",paraId:0,tocIndex:1},{value:"define()",paraId:1},{value:"Defines a resource.",paraId:2,tocIndex:3},{value:`app.resourceManager.define({
  name: 'auth',
  actions: {
    check: async (ctx, next) => {
      // ...
      await next();
    },
  },
});
`,paraId:3,tocIndex:3},{value:"define(options: ResourceOptions): Resource",paraId:4,tocIndex:4},{value:`export interface ResourceOptions {
  name: string;
  type?: ResourceType;
  actions?: {
    [key: string]: ActionType;
  };
  only?: Array<ActionName>;
  except?: Array<ActionName>;
  middleware?: MiddlewareType;
  middlewares?: MiddlewareType;
}

export type ResourceType =
  | 'single'
  | 'hasOne'
  | 'hasMany'
  | 'belongsTo'
  | 'belongsToMany';

export type ActionType = HandlerType | ActionOptions;
export type HandlerType = (
  ctx: ResourcerContext,
  next: () => Promise<any>,
) => any;
export interface ActionOptions {
  values?: any;
  fields?: string[];
  appends?: string[];
  except?: string[];
  whitelist?: string[];
  blacklist?: string[];
  filter?: FilterOptions;
  sort?: string[];
  page?: number;
  pageSize?: number;
  maxPageSize?: number;
  middleware?: MiddlewareType;
  middlewares?: MiddlewareType;
  handler?: HandlerType;
  [key: string]: any;
}
`,paraId:5,tocIndex:5},{value:"Property",paraId:6,tocIndex:7},{value:"Type",paraId:6,tocIndex:7},{value:"Description",paraId:6,tocIndex:7},{value:"Default",paraId:6,tocIndex:7},{value:"name",paraId:6,tocIndex:7},{value:"string",paraId:6,tocIndex:7},{value:"Resource name",paraId:6,tocIndex:7},{value:"-",paraId:6,tocIndex:7},{value:"type",paraId:6,tocIndex:7},{value:"ResourceType",paraId:6,tocIndex:7},{value:"Resource type",paraId:6,tocIndex:7},{value:"single",paraId:6,tocIndex:7},{value:"actions",paraId:6,tocIndex:7},{value:"{ [key: string]: ActionType }",paraId:7,tocIndex:7},{value:"Actions",paraId:6,tocIndex:7},{value:"-",paraId:6,tocIndex:7},{value:"only",paraId:6,tocIndex:7},{value:"ActionName[]",paraId:6,tocIndex:7},{value:"Whitelist of ",paraId:6,tocIndex:7},{value:"actions",paraId:6,tocIndex:7},{value:"-",paraId:6,tocIndex:7},{value:"except",paraId:6,tocIndex:7},{value:"ActionName[]",paraId:6,tocIndex:7},{value:"Blacklist of ",paraId:6,tocIndex:7},{value:"actions",paraId:6,tocIndex:7},{value:"-",paraId:6,tocIndex:7},{value:"middleware",paraId:6,tocIndex:7},{value:"MiddlewareType",paraId:6,tocIndex:7},{value:"Middleware",paraId:6,tocIndex:7},{value:"-",paraId:6,tocIndex:7},{value:"middlewares",paraId:6,tocIndex:7},{value:"MiddlewareType",paraId:6,tocIndex:7},{value:"Middlewares",paraId:6,tocIndex:7},{value:"-",paraId:6,tocIndex:7},{value:"There are two types of action methods:",paraId:8,tocIndex:8},{value:"HandlerType",paraId:9,tocIndex:8},{value:"This type directly defines the operation method through middleware. Example:",paraId:10,tocIndex:8},{value:`app.resourceManager.define({
  name: 'users',
  actions: {
    updateProfile: async (ctx, next) => {
      // ...
      await next();
    },
  },
});
`,paraId:11,tocIndex:8},{value:"ActionOptions",paraId:12,tocIndex:8},{value:"This type is mainly used to override the request parameters of a certain existing operation. Example:",paraId:13,tocIndex:8},{value:`app.resourceManager.define({
  name: 'users',
  actions: {
    list: {
      fields: [],
      filter: {},
      // ...
    },
  },
});
`,paraId:14,tocIndex:8},{value:"Property",paraId:15,tocIndex:8},{value:"Type",paraId:15,tocIndex:8},{value:"Description",paraId:15,tocIndex:8},{value:"values",paraId:15,tocIndex:8},{value:"any",paraId:15,tocIndex:8},{value:"Default values for the action request",paraId:15,tocIndex:8},{value:"filter",paraId:15,tocIndex:8},{value:"Filter",paraId:15,tocIndex:8},{value:"Filtering parameters, refer to ",paraId:15,tocIndex:8},{value:"Filter Operators",paraId:16,tocIndex:8},{value:"fields",paraId:15,tocIndex:8},{value:"string[]",paraId:15,tocIndex:8},{value:"Fields to retrieve",paraId:15,tocIndex:8},{value:"except",paraId:15,tocIndex:8},{value:"string[]",paraId:15,tocIndex:8},{value:"Fields to exclude",paraId:15,tocIndex:8},{value:"appends",paraId:15,tocIndex:8},{value:"string[]",paraId:15,tocIndex:8},{value:"Related fields to append",paraId:15,tocIndex:8},{value:"whitelist",paraId:15,tocIndex:8},{value:"string[]",paraId:15,tocIndex:8},{value:"Field whitelist",paraId:15,tocIndex:8},{value:"blacklist",paraId:15,tocIndex:8},{value:"string[]",paraId:15,tocIndex:8},{value:"Field blacklist",paraId:15,tocIndex:8},{value:"sort",paraId:15,tocIndex:8},{value:"string[]",paraId:15,tocIndex:8},{value:"Sorting parameters",paraId:15,tocIndex:8},{value:"page",paraId:15,tocIndex:8},{value:"number",paraId:15,tocIndex:8},{value:"Current page",paraId:15,tocIndex:8},{value:"pageSize",paraId:15,tocIndex:8},{value:"number",paraId:15,tocIndex:8},{value:"Number of data items per page",paraId:15,tocIndex:8},{value:"maxPageSize",paraId:15,tocIndex:8},{value:"number",paraId:15,tocIndex:8},{value:"Maximum number of data items per page",paraId:15,tocIndex:8},{value:"middleware",paraId:15,tocIndex:8},{value:"MiddlewareType",paraId:15,tocIndex:8},{value:"Middleware",paraId:15,tocIndex:8},{value:"middlewares",paraId:15,tocIndex:8},{value:"MiddlewareType",paraId:15,tocIndex:8},{value:"Middlewares",paraId:15,tocIndex:8},{value:"handler",paraId:15,tocIndex:8},{value:"HandlerType",paraId:15,tocIndex:8},{value:"Method executed for the action",paraId:15,tocIndex:8},{value:"[key: string]",paraId:15,tocIndex:8},{value:"any",paraId:15,tocIndex:8},{value:"Other extended configurations",paraId:15,tocIndex:8},{value:"registerActionHandlers()",paraId:1},{value:"Registers action methods.",paraId:17,tocIndex:9},{value:"registerActionHandler(name: ActionName, handler: HandlerType)",paraId:18,tocIndex:10},{value:`export type DefaultActionType =
  | 'list'
  | 'create'
  | 'get'
  | 'update'
  | 'destroy'
  | 'set'
  | 'add'
  | 'remove';
export type ActionName = DefaultActionType | Omit<string, DefaultActionType>;

export type HandlerType = (
  ctx: ResourcerContext,
  next: () => Promise<any>,
) => any;
`,paraId:19,tocIndex:11},{value:"Property",paraId:20,tocIndex:12},{value:"Type",paraId:20,tocIndex:12},{value:"Description",paraId:20,tocIndex:12},{value:"name",paraId:20,tocIndex:12},{value:"ActionName",paraId:20,tocIndex:12},{value:"Action name.",paraId:20,tocIndex:12},{value:"1. As a regular string, registers actions for all resources.",paraId:20,tocIndex:12},{value:"2. In the form ",paraId:20,tocIndex:12},{value:"<resource>:<action>",paraId:20,tocIndex:12},{value:", registers actions for specific resources",paraId:20,tocIndex:12},{value:"handler",paraId:20,tocIndex:12},{value:"HandlerType",paraId:20,tocIndex:12},{value:"Middleware for the action",paraId:20,tocIndex:12},{value:"isDefined()",paraId:1},{value:"Checks if a resource is defined.",paraId:21,tocIndex:13},{value:"isDefined(name: string)",paraId:22,tocIndex:14},{value:"Property",paraId:23,tocIndex:15},{value:"Type",paraId:23,tocIndex:15},{value:"Description",paraId:23,tocIndex:15},{value:"name",paraId:23,tocIndex:15},{value:"string",paraId:23,tocIndex:15},{value:"Resource name",paraId:23,tocIndex:15},{value:"import()",paraId:1},{value:"Loads resource configurations from a specified directory.",paraId:24,tocIndex:16},{value:`// ./resources/demo.ts
export default {
  name: 'demo',
  actions: {
    async list(ctx, next) {
      // ...
      await next();
    },
  },
};

const resourceManager = new ResourceManager();
await resourceManager.import({
  directory: path.resolve(__dirname, 'resources'),
});
`,paraId:25,tocIndex:16},{value:"import(options: ImportOptions): Promise<Map<string, Resource>>",paraId:26,tocIndex:17},{value:`export interface ImportOptions {
  directory: string;
  extensions?: string[];
}
`,paraId:27,tocIndex:18},{value:"Property",paraId:28,tocIndex:19},{value:"Type",paraId:28,tocIndex:19},{value:"Description",paraId:28,tocIndex:19},{value:"Default Value",paraId:28,tocIndex:19},{value:"directory",paraId:28,tocIndex:19},{value:"string",paraId:28,tocIndex:19},{value:"Directory path",paraId:28,tocIndex:19},{value:"-",paraId:28,tocIndex:19},{value:"extensions",paraId:28,tocIndex:19},{value:"string[]",paraId:28,tocIndex:19},{value:"Optional, file extensions",paraId:28,tocIndex:19},{value:"['js', 'ts', 'json']",paraId:28,tocIndex:19},{value:"use()",paraId:1},{value:"Adds ",paraId:29,tocIndex:20},{value:"ResourceManager",paraId:29,tocIndex:20},{value:" middleware.",paraId:29,tocIndex:20},{value:`resourceManager.use(async () => {
  return async function (ctx, next) {
    // ...
    await next();
  };
});
`,paraId:30,tocIndex:20},{value:"use(middlewares: HandlerType | HandlerType[], options: ToposortOptions = {})",paraId:31,tocIndex:21},{value:"Refer to ",paraId:32,tocIndex:22},{value:"Middleware",paraId:33,tocIndex:22},{value:".",paraId:32,tocIndex:22},{value:"middleware()",paraId:1},{value:"Middleware for ",paraId:34,tocIndex:23},{value:"ResourceManager",paraId:34,tocIndex:23},{value:", parses request parameters (refer to ",paraId:34,tocIndex:23},{value:"ctx.action",paraId:35,tocIndex:23},{value:") and executes operation methods.",paraId:34,tocIndex:23}]}}]);
