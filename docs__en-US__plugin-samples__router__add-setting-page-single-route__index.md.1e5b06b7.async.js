"use strict";(self.webpackChunknocobase_docs=self.webpackChunknocobase_docs||[]).push([[59263],{876669:function(d,o,t){t.r(o);var s=t(572269),c=t(793359),_=t(861788),p=t(719977),x=t(20190),a=t(24268),h=t(496057),g=t(585939),m=t(28484),v=t(635206),I=t(375553),j=t(156266),f=t(572333),E=t(841118),P=t(39297),M=t(868526),D=t(605019),i=t(614651),l=t(280936),r=t(667294),n=t(839649),e=t(785893);function u(){return(0,e.jsx)(i.dY,{children:(0,e.jsx)(r.Suspense,{fallback:(0,e.jsx)(l.Z,{}),children:(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"markdown",children:[(0,e.jsxs)("h1",{id:"add-plugin-configuration-page-single-route",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#add-plugin-configuration-page-single-route",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Add Plugin Configuration Page (Single Route)"]}),(0,e.jsxs)("h2",{id:"description",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#description",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Description"]}),(0,e.jsx)("p",{children:n.texts[0].value}),(0,e.jsxs)("h2",{id:"example-description",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#example-description",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Example Description"]}),(0,e.jsx)("p",{children:n.texts[1].value}),(0,e.jsxs)("p",{children:[n.texts[2].value,(0,e.jsx)(i.rU,{to:"/plugin-samples/plugin-settings",children:n.texts[3].value}),n.texts[4].value]}),(0,e.jsxs)("p",{children:[n.texts[5].value,(0,e.jsx)("a",{href:"https://github.com/nocobase/plugin-samples/tree/main/packages/plugins/%40nocobase-sample/plugin-add-setting-page-single-route",children:n.texts[6].value}),n.texts[7].value]}),(0,e.jsx)("p",{children:(0,e.jsx)("img",{src:"https://static-docs.nocobase.com/20240512201126.png",alt:"20240512201126"})}),(0,e.jsxs)("h2",{id:"initialize-the-plugin",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#initialize-the-plugin",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Initialize the Plugin"]}),(0,e.jsxs)("p",{children:[n.texts[8].value,(0,e.jsx)(i.rU,{to:"/development/your-fisrt-plugin",children:n.texts[9].value}),n.texts[10].value]}),(0,e.jsx)(a.Z,{lang:"bash",children:n.texts[11].value}),(0,e.jsx)("p",{children:n.texts[12].value}),(0,e.jsx)(a.Z,{lang:"bash",children:n.texts[13].value}),(0,e.jsx)("p",{children:n.texts[14].value}),(0,e.jsx)(a.Z,{lang:"bash",children:n.texts[15].value}),(0,e.jsxs)("p",{children:[n.texts[16].value,(0,e.jsx)("a",{href:"http://localhost:13000/admin/pm/list/local/",children:n.texts[17].value}),n.texts[18].value]}),(0,e.jsxs)("h2",{id:"function-implementation",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#function-implementation",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Function Implementation"]}),(0,e.jsxs)("p",{children:[n.texts[19].value,(0,e.jsx)(i.rU,{to:"/development/client/router#extending-plugin-settings-page",children:n.texts[20].value}),n.texts[21].value,(0,e.jsx)("code",{children:n.texts[22].value}),n.texts[23].value]}),(0,e.jsx)(a.Z,{lang:"ts",children:n.texts[24].value}),(0,e.jsxs)("ul",{children:[(0,e.jsxs)("li",{children:[(0,e.jsx)("code",{children:n.texts[25].value}),n.texts[26].value]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("code",{children:n.texts[27].value}),n.texts[28].value]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("code",{children:n.texts[29].value}),n.texts[30].value,(0,e.jsx)("a",{href:"https://ant.design/components/icon/",children:n.texts[31].value}),n.texts[32].value]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("code",{children:n.texts[33].value}),n.texts[34].value]})]}),(0,e.jsxs)("p",{children:[n.texts[35].value,(0,e.jsx)("a",{href:"http://localhost:13000/admin/settings/@nocobase-sample/plugin-add-setting-page-single-route",children:n.texts[36].value}),n.texts[37].value]}),(0,e.jsx)("p",{children:(0,e.jsx)("img",{src:"https://static-docs.nocobase.com/20240512201126.png",alt:"20240512201126"})}),(0,e.jsxs)("h2",{id:"permission-configuration",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#permission-configuration",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Permission Configuration"]}),(0,e.jsx)("p",{children:n.texts[38].value}),(0,e.jsxs)("p",{children:[n.texts[39].value,(0,e.jsx)("a",{href:"http://localhost:13000/admin/settings/users-permissions/roles",children:n.texts[40].value}),n.texts[41].value]}),(0,e.jsx)("p",{children:(0,e.jsx)("img",{src:"https://static-docs.nocobase.com/20240512201234.png",alt:"20240512201234"})}),(0,e.jsxs)("h2",{id:"packaging-and-uploading-to-production-environment",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#packaging-and-uploading-to-production-environment",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Packaging and Uploading to Production Environment"]}),(0,e.jsxs)("p",{children:[n.texts[42].value,(0,e.jsx)(i.rU,{to:"/development/your-fisrt-plugin#building-and-packaging-plugins",children:n.texts[43].value}),n.texts[44].value]}),(0,e.jsx)("p",{children:n.texts[45].value}),(0,e.jsx)(a.Z,{lang:"bash",children:n.texts[46].value}),(0,e.jsxs)("p",{children:[n.texts[47].value,(0,e.jsx)("code",{children:n.texts[48].value}),n.texts[49].value]}),(0,e.jsx)(a.Z,{lang:"bash",children:n.texts[50].value}),(0,e.jsxs)("p",{children:[n.texts[51].value,(0,e.jsx)("code",{children:n.texts[52].value}),n.texts[53].value,(0,e.jsx)(i.rU,{to:"/welcome/getting-started/plugin",children:n.texts[54].value}),n.texts[55].value]})]})})})})}o.default=u},839649:function(d,o,t){t.r(o),t.d(o,{texts:function(){return s}});const s=[{value:"The plugin requires a simple configuration page with only one route.",paraId:0,tocIndex:1},{value:"Assuming we integrate with a third-party email service and need to configure the email service token, we need a configuration page.",paraId:1,tocIndex:2},{value:"This document will not go into too much development detail, but only demonstrate how to add a plugin configuration page. For specific configuration page content and logic, please refer to the ",paraId:2,tocIndex:2},{value:"Plugin Settings plugin example",paraId:3,tocIndex:2},{value:" documentation.",paraId:2,tocIndex:2},{value:"You can view the complete example code for this document in the ",paraId:4,tocIndex:2},{value:"plugin-samples",paraId:4,tocIndex:2},{value:" repository.",paraId:4,tocIndex:2},{value:"Following the instructions in the ",paraId:5,tocIndex:3},{value:"Writing Your First Plugin",paraId:6,tocIndex:3},{value:" documentation, if you don't have a project yet, you can create one. If you already have one or have cloned the source code, you can skip this step.",paraId:5,tocIndex:3},{value:`yarn create nocobase-app my-nocobase-app -d postgres
cd my-nocobase-app
yarn install
yarn nocobase install
`,paraId:7,tocIndex:3},{value:"Then initialize a plugin and add it to the application:",paraId:8,tocIndex:3},{value:`yarn pm create @nocobase-sample/plugin-add-setting-page-single-route
yarn pm enable @nocobase-sample/plugin-add-setting-page-single-route
`,paraId:9,tocIndex:3},{value:"Then start the project:",paraId:10,tocIndex:3},{value:`yarn dev
`,paraId:11,tocIndex:3},{value:"Then, after logging in, visit ",paraId:12,tocIndex:3},{value:"http://localhost:13000/admin/pm/list/local/",paraId:12,tocIndex:3},{value:" to see that the plugin has been installed and enabled.",paraId:12,tocIndex:3},{value:"According to the tutorial on ",paraId:13,tocIndex:4},{value:"Extending Plugin Settings Page",paraId:14,tocIndex:4},{value:" in the plugin development documentation, we need to modify the ",paraId:13,tocIndex:4},{value:"packages/plugins/@nocobase-sample/plugin-add-setting-page-single-route/src/client/index.tsx",paraId:13,tocIndex:4},{value:" file of the plugin:",paraId:13,tocIndex:4},{value:`import React from 'react';
import { Plugin } from '@nocobase/client';

// @ts-ignore
import { name } from '../../package.json';

const MySettingPage = () => <div>Hello Setting page</div>;

export class PluginAddSettingPageSingleRouteClient extends Plugin {
  async load() {
    this.app.pluginSettingsManager.add(name, {
      title: 'Single Route',
      icon: 'ApiOutlined',
      Component: MySettingPage,
    });
  }
}

export default PluginAddSettingPageSingleRouteClient;
`,paraId:15,tocIndex:4},{value:"name",paraId:16,tocIndex:4},{value:": The name of the plugin, used to uniquely identify the plugin.",paraId:16,tocIndex:4},{value:"title",paraId:16,tocIndex:4},{value:": The title of the plugin configuration management page menu.",paraId:16,tocIndex:4},{value:"icon",paraId:16,tocIndex:4},{value:": The icon of the plugin configuration management page menu. For more icons, you can refer to the ",paraId:16,tocIndex:4},{value:"Ant Design Icons",paraId:16,tocIndex:4},{value:".",paraId:16,tocIndex:4},{value:"Component",paraId:16,tocIndex:4},{value:": The content of the setting page.",paraId:16,tocIndex:4},{value:"Then we can visit ",paraId:17,tocIndex:4},{value:"http://localhost:13000/admin/settings/@nocobase-sample/plugin-add-setting-page-single-route",paraId:17,tocIndex:4},{value:" to view the plugin configuration page.",paraId:17,tocIndex:4},{value:"By default, the plugin configuration page does not have any permissions. Anyone can access and configure it. To configure permissions for the plugin, we need to configure them in the plugin settings.",paraId:18,tocIndex:5},{value:"We can visit ",paraId:19,tocIndex:5},{value:"http://localhost:13000/admin/settings/users-permissions/roles",paraId:19,tocIndex:5},{value:" to see all the roles. We can configure permissions in the plugin settings.",paraId:19,tocIndex:5},{value:"According to the documentation on ",paraId:20,tocIndex:6},{value:"Building and Packaging Plugins",paraId:21,tocIndex:6},{value:", we can package the plugin and upload it to the production environment.",paraId:20,tocIndex:6},{value:"If you have cloned the source code, you need to perform a full build first to build the dependencies of the plugin as well.",paraId:22,tocIndex:6},{value:`yarn build
`,paraId:23,tocIndex:6},{value:"If you are using ",paraId:24,tocIndex:6},{value:"create-nocobase-app",paraId:24,tocIndex:6},{value:" to create your project, you can directly execute:",paraId:24,tocIndex:6},{value:`yarn build @nocobase-sample/plugin-add-setting-page-single-route --tar
`,paraId:25,tocIndex:6},{value:"This way you can see the ",paraId:26,tocIndex:6},{value:"storage/tar/@nocobase-sample/plugin-add-setting-page-single-route.tar.gz",paraId:26,tocIndex:6},{value:" file, and then install it by ",paraId:26,tocIndex:6},{value:"uploading",paraId:27,tocIndex:6},{value:".",paraId:26,tocIndex:6}]}}]);
