# 更新数据

用于对某个数据表的满足条件的数据进行更新。

数据表和字段赋值部分与新增节点相同，更新节点的区别主要是增加了筛选条件，而且需要选择更新模式。另外，更新节点的结果会返回更新成功数据的行数，只在执行历史里可查看，不可作为变量在后续节点使用。

## 创建节点

在工作流配置界面中，点击流程中的加号（“+”）按钮，添加“更新数据”节点：

![更新数据_添加](https://static-docs.nocobase.com/9ff24d7bc173b3a71decc1f70ca9fb66.png)

## 节点配置

![更新节点_节点配置](https://static-docs.nocobase.com/98e0f941c57275fc835f08260d0b2e86.png)

### 数据表

选择要更新数据的数据表。

### 更新模式

更新模式有“批量”和“逐条”的模式，批量模式下，不会再触发每条更新数据的数据表事件，而逐条更新的话会触发每条更新数据的数据表事件，但在大数据量下会有性能问题，需要谨慎使用。通常根据更新的目标数据和是否要触发其他工作流事件来选择，如果是根据主键更新单条数据的，建议使用逐条更新，如果是根据条件更新多条数据的，建议使用批量更新。

### 筛选条件

与普通的数据表查询时的筛选条件类似，可以使用流程的上下文变量。

### 字段值

与新增节点的字段赋值类似，可以使用流程上下文的变量，也可以手动填写静态值。

注：工作流中更新节点更新的数据不会自动处理“最后修改人”数据，需要根据情况自行配置这个字段的值。

## 示例

例如当新增“文章”时，需要自动更新“文章分类”表的“文章数量”字段，可以使用更新节点来实现：

![更新节点_示例_节点配置](https://static-docs.nocobase.com/98e0f941c57275fc835f08260d0b2e86.png)

当工作流触发后，会自动更新“文章分类”表的“文章数量”字段为当前文章数量 +1。