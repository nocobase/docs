# 示例

例如，我们有一个“样品”数据表，针对“已采集”（状态）的样品，需要提供一个“送检”的操作，送检会先检查样品的基本信息，然后生成一条“送检记录”数据，再把样品状态修改为“已送检”。而这一系列过程无法通过简单的“增删改查”按钮点击完成，这时就可以使用自定义操作事件来实现。

先创建一张“样品”数据表和一张“送检记录”数据表，对样品表录入基本的测试数据：

![示例_样品数据表](https://static-docs.nocobase.com/20240509172234.png)

然后创建一个“自定义操作事件”工作流，如果需要操作流程有比较及时的反馈，可以选择同步模式（同步模式下不能使用人工处理等异步类型的节点）：

![示例_创建工作流](https://static-docs.nocobase.com/20240509173106.png)

在触发器配置中，数据表选择“样品”：

![示例_触发器配置](https://static-docs.nocobase.com/20240509173148.png)

根据业务需求，编排流程中的逻辑，例如指标参数大于 `90` 时才允许送检，否则提示相关问题：

![示例_业务逻辑编排](https://static-docs.nocobase.com/20240509174159.png)

:::info{title=提示}
“[响应消息](../../nodes/response-message.md)”节点可以在同步的自定义操作事件中使用，用于返回给客户端的提示信息。异步模式下无法使用。
:::

配置好流程并启用后，再返回表格界面，在表格的操作列中添加“触发工作流”的按钮：

![示例_添加操作按钮](https://static-docs.nocobase.com/20240509174525.png)

然后在按钮的配置菜单中选择绑定工作流，打开配置弹窗：

![示例_打开绑定工作流弹窗](https://static-docs.nocobase.com/20240509174633.png)

添加之前启用的工作流：

![示例_选择工作流](https://static-docs.nocobase.com/20240509174723.png)

提交后，再将按钮文本修改为操作名称，如“送检”字样，配置流程就完成了。

使用时，在表格中任选一条样品数据，并点击“送检”按钮，即可触发自定义操作事件。正如之前编排的逻辑，如果样品指标参数小于 90，点击后则会如下提示：

![示例_指标不满足送检](https://static-docs.nocobase.com/20240509175026.png)

如果指标参数大于 90，则会正常执行流程，生成“送检记录”数据，并将样品状态修改为“已送检”：

![示例_送检成功](https://static-docs.nocobase.com/20240509175247.png)

至此，一个简单的自定义操作事件就完成了。同样的，对类似有复杂操作的业务，如订单处理、提交报告等，都可以通过自定义操作事件来实现。
