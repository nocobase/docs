# 使用マニュアル

## ユーザー認証管理

ユーザー認証プラグインをインストールすると、ユーザー名とメールアドレスに基づく `パスワード` 認証方式が初期化されます。

![](https://static-docs.nocobase.com/66eaa9d5421c9cb713b117366bd8a5d5.png)

## 認証タイプの有効化

![](https://static-docs.nocobase.com/7f1fb8f8ca5de67ffc68eff0a65848f5.png)

有効化された認証タイプのみがログインページに表示されます。

![](https://static-docs.nocobase.com/8375a36ef98417af0f0977f1e07345dd.png)

## ユーザー認証タイプ

![](https://static-docs.nocobase.com/da4250c0cea343ebe470cbf7be4b12e4.png)

NocoBaseが現在サポートしているユーザー認証タイプは以下の通りです：

- パスワード (Password)：ユーザー認証プラグイン内蔵
- SMS (SMS)：[sms-authプラグイン](../../auth-sms/index.md)の拡張
- CAS：[cas-authプラグイン](../../auth-cas/index.md)の拡張
- SAML：[saml-authプラグイン](../../auth-saml/index.md)の拡張
- OIDC：[oidc-authプラグイン](../../auth-oidc/index.md)の拡張

また、自分でユーザー認証を拡張することも可能です。詳細は[開発ガイド](../dev/guide.md)を参照してください。

## パスワード認証

### 設定画面

![](https://static-docs.nocobase.com/202411131505095.png)

### 登録を許可

登録を許可すると、ログインページにアカウント作成のリンクが表示され、登録ページに移動できます。

![](https://static-docs.nocobase.com/78903930d4b47aaf75cf94c55dd3596e.png)

登録ページ

![](https://static-docs.nocobase.com/ac3c3ab42df28cb7c6dc70b24e99e7f7.png)

登録が許可されていない場合、ログインページにはアカウント作成のリンクは表示されません。

![](https://static-docs.nocobase.com/8d5e3b6df9991bfc1c2e095a93745121.png)

登録が許可されていない場合、登録ページにはアクセスできません。

![](https://static-docs.nocobase.com/09325c4b07e09f88f80a14dff8430556.png)

### パスワードを忘れた場合<Badge>v1.7.0+</Badge>

パスワードを忘れた場合機能は、ユーザーがパスワードを思い出せない場合に、メール認証を通じてパスワードを再設定できるようにします。

#### 管理者設定

1.  **パスワードを忘れた場合機能を有効にする**

    「設定」>「ユーザー認証」>「パスワードを忘れた場合」タブで、「パスワードを忘れた場合機能を有効にする」チェックボックスをオンにします。

    ![20250421101929_rec_](https://static-docs.nocobase.com/20250421101929_rec_.gif)

2.  **通知チャネルの設定**

    メール通知チャネルを選択します（現在サポートされているのはメールのみです）。利用可能な通知チャネルがない場合は、まず追加してください。

    ![20250421102311_rec_](https://static-docs.nocobase.com/20250421102311_rec_.gif)

3.  **パスワードリセットメールの設定**

    メールの件名と内容をカスタマイズします。HTMLまたはプレーンテキスト形式をサポートしています。以下の変数を使用できます：
    - 現在のユーザー
    - 日付
    - パスワードリセットリンク

    ![20250421102902](https://static-docs.nocobase.com/20250421102902.png)

4.  **リセットリンクの有効期間を設定**

    リセットリンクの有効期間（分）を設定します。デフォルトは60分です。

    ![20250421103240](https://static-docs.nocobase.com/20250421103240.png)

#### ユーザーフロー

1.  **パスワードリセットリクエストの開始**

    ログインページで「パスワードを忘れた場合」リンクをクリックし（管理者が事前にパスワードを忘れた場合機能を有効にする必要があります）、パスワードを忘れた場合のページに移動します。

    ![20250421103458_rec_](https://static-docs.nocobase.com/20250421103458_rec_.gif)

    登録したメールアドレスを入力し、「リセットメールを送信」ボタンをクリックします。

    ![20250421113442_rec_](https://static-docs.nocobase.com/20250421113442_rec_.gif)

2.  **パスワードのリセット**

    ユーザーはリセットリンクを含むメールを受信します。リンクをクリックした後、開いたページで新しいパスワードを設定します。

    ![20250421113748](https://static-docs.nocobase.com/20250421113748.png)

    設定が完了すると、ユーザーは新しいパスワードでシステムにログインできます。

#### 注意事項

-   リセットリンクには時間制限があり、通常は生成後60分間有効です（管理者が設定可能）。
-   リンクは一度しか使用できず、使用後はすぐに無効になります。
-   ユーザーがリセットメールを受信しない場合は、メールアドレスが正しいか確認するか、迷惑メールフォルダを確認してください。
-   管理者は、リセットメールが正常に送信されるように、メールサーバーが正しく設定されていることを確認する必要があります。
