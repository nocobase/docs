# クイックスタート

## ワークフローの設定

トップメニューのプラグイン設定メニューからワークフロープラグインの管理ページにアクセスします：

![ワークフロープラグイン管理入口](https://static-docs.nocobase.com/872169fb0cf277715178d1a6804e12cd.png)

管理画面には作成済みのすべてのワークフローが表示されます：

![ワークフロー管理](https://static-docs.nocobase.com/6d31e5c6c94a51513e6569dbc410c01f.png)

「新規作成」ボタンをクリックして新しいワークフローを作成し、データテーブルのイベントを選択します：

![ワークフローの作成](https://static-docs.nocobase.com/57f23ce3c91d153ea235f95268a63d98.png)

リストの「設定」リンクをクリックしてワークフロー設定画面に入ります：

![空のワークフロー](https://static-docs.nocobase.com/d6a3bc6b3fd03cba5bb10f142c38e2bf.png)

次に、トリガーカードをクリックしてトリガー設定のスライドを開き、以前に作成したデータテーブル（例えば「記事」テーブル）を選択します。トリガーのタイミングを「新規データ後」に設定し、「保存」ボタンをクリックしてトリガーの設定を完了します：

![トリガーの設定](https://static-docs.nocobase.com/f96015efe87759d6836d2a1c58d92884.png)

次に、プロセス内のプラスボタンをクリックしてプロセスにノードを追加します。例えば、トリガー内のデータの「タイトル」フィールドと「ID」フィールドを結合計算するための計算ノードを選択します：

![計算ノードの追加](https://static-docs.nocobase.com/60eeee25e6847a91fad50784c8c508ad.png)

ノードカードをクリックしてノード設定のスライドを開き、Formula.jsが提供する計算関数 `CONCATENATE` を使用して「タイトル」と「ID」フィールドを結合します。2つのフィールドは変数セレクターで挿入します：

![計算ノードの関数と変数の使用](https://static-docs.nocobase.com/837e4851a4c70a1932542caadef3431b.png)

その後、結果を「タイトル」フィールドに保存するためのデータ更新ノードを作成します：

![データノードの作成と更新](https://static-docs.nocobase.com/494f72dff72b4410240b04c59cbbd322.png)

同様に、カードをクリックしてデータノードの設定を開き、「記事」テーブルを選択します。更新するデータIDにはトリガーのデータIDを選び、更新対象のデータ項目には「タイトル」を選択し、更新するデータ値には演算ノードの結果を選択します：

![データノードの設定](https://static-docs.nocobase.com/2e147c93643e7ebc709b9b7ab4f3af8c.png)

最後に、右上のツールバーにある「有効化」/「無効化」スイッチをクリックして、ワークフローを有効な状態に切り替えます。これにより、ワークフローがトリガーされて実行されます。

## ワークフローをトリガー

システムのメインインターフェースに戻り、記事ブロックを通じて記事を作成し、記事タイトルを入力します：

![記事データの作成](https://static-docs.nocobase.com/d21a1a5833d5f54f52678ea18e9922f2.png)

送信後、ブロックを更新すると、記事タイトルが「記事タイトル + 記事ID」の形式で自動的に更新されていることが確認できます：

![ワークフローによって変更された記事タイトル](https://static-docs.nocobase.com/3a700445896965c46c70ac51a07bbdb9.png)

:::info{title=ヒント}
データテーブルトリガーによるワークフローは非同期で実行されるため、データを送信した後の画面ではすぐにデータ更新を見ることはできませんが、しばらくしてからページやブロックを更新すると変更内容を確認できます。
:::

## 実行履歴の確認

先ほどのワークフローは成功裏に一度トリガーされて実行されました。ワークフローの管理画面に戻り、対応する実行履歴を確認できます：

![ワークフローリストの確認](https://static-docs.nocobase.com/92952de7fe6472db7d247a915e36100a.png)

ワークフローリストには、このワークフローが一度の実行履歴を生成したことが表示されており、回数のリンクをクリックすると、対応するワークフローの実行履歴が表示されます：

![対応するワークフローの実行履歴リスト](https://static-docs.nocobase.com/00537af15c6ae43d745106178242bc09.png)

さらに「表示」リンクをクリックすると、その回の実行の詳細ページに移動し、各ノードの実行状況や結果データを確認できます：

![ワークフロー実行履歴の詳細](https://static-docs.nocobase.com/93ec7ce25391d71cf7a109c9d03d5a48.png)

トリガーのコンテキストデータとノードの実行結果データは、各カードの右上隅にあるステータスボタンをクリックすることで表示できます。例えば、演算ノードの結果データを確認する場合：

![演算ノードの結果](https://static-docs.nocobase.com/10c22b923d3de0a0d58fa9283780f592.png)

演算ノードの結果データには、演算後のタイトルが含まれており、このタイトルは後続のデータノードによって更新されるデータです。

## 小結

上記の手順を通じて、シンプルなワークフローの設定とトリガーが完了し、以下の基本概念に触れました：

- **ワークフロー**：プロセスの基本情報を定義するもので、名前、トリガータイプ、状態などを含み、任意の数の実行ノードを構成できる実体です。
- **トリガー**：各ワークフローには1つのトリガーが含まれ、特定の条件でワークフローが発動するように設定され、プロセスの入り口となります。
- **ノード**：ノードはワークフロー内で特定の操作を実行する命令単位であり、複数のノードが上下流の関係によって完全な実行プロセスを構成します。
- **実行計画**：実行計画はワークフローがトリガーされた後の具体的な実行対象であり、実行記録または実行履歴とも呼ばれ、実行状態やトリガーのコンテキストデータなどの情報を含みます。各ノードには対応する実行結果があり、ノード実行後の状態と結果データが含まれています。

より深い使用法については、以下の内容を参照してください：

- 進階理解
  - [変数の使用](./advanced/variables.md)
  - [実行計画](./advanced/executions.md)
  - [バージョン管理](./advanced/revisions.md)
  - [高度な設定](./advanced/options.md)
- [トリガーの紹介](./triggers/index.md)
- [ノードの紹介](./nodes/index.md)

