# パスワードポリシー

<PluginInfo licenseBundled="true" name="password-policy"></PluginInfo>

## はじめに

すべてのユーザーに対してパスワードルール、パスワードの有効期限、およびパスワードログインのセキュリティポリシーを設定し、ロックされたユーザーを管理します。

## パスワードルール

![](https://static-docs.nocobase.com/202412281329313.png)

### 最小パスワード長

パスワードの最小長を設定します。最大長は64です。

### パスワードの複雑さの要件

以下のオプションをサポートしています：

- 英字と数字を含める必要がある
- 英字、数字、および記号を含める必要がある
- 数字、大文字、および小文字を含める必要がある
- 数字、大文字、小文字、および記号を含める必要がある
- 数字、大文字、小文字、および特殊文字のうち3種類を含める必要がある
- 制限なし

![](https://static-docs.nocobase.com/202412281331649.png)

### パスワードにユーザー名を含めない

パスワードに現在のユーザーのユーザー名を含めることができるかどうかを設定します。

### パスワード履歴数

ユーザーが最近使用したパスワードの数を記憶します。ユーザーがパスワードを変更する際に、これらのパスワードを再利用することはできません。0は制限なしを意味し、最大数は24です。

## パスワード有効期限の設定

![](https://static-docs.nocobase.com/202412281335588.png)

### パスワードの有効期間

ユーザーパスワードの有効期間。パスワードが期限切れになると、管理者がパスワードを再設定するまで、ユーザーはパスワードを使用してログインできません。他のログイン方法が設定されている場合、ユーザーはそれらの方法を使用してログインできます。

### パスワード期限切れ通知チャネル

ユーザーのパスワードが期限切れになる10日前から、ユーザーがログインするたびにリマインダーを送信します。デフォルトでは、「パスワード期限切れリマインダー」の内部メッセージチャネルに送信されます。通知管理でチャネルを管理できます。

### 設定の推奨事項

パスワードの期限切れによりアカウントがログインできなくなる可能性があるため、管理者アカウントを含め、パスワードを適時に変更し、システム内に複数のユーザーパスワードを変更できるアカウントを設定してください。

## パスワードログインのセキュリティ

無効なパスワードログイン試行の制限を設定します。

![](https://static-docs.nocobase.com/202412281339724.png)

### 最大無効パスワードログイン試行回数

指定された時間間隔内にユーザーがログインを試行できる最大回数を設定します。

### 最大無効パスワードログイン時間間隔（秒）

ユーザーの最大無効ログイン試行回数を計算する時間間隔を秒単位で設定します。

### ロック時間（秒）

ユーザーが無効パスワードログイン制限を超えた後、ユーザーをロックする時間を設定します（0は制限なしを意味します）。ユーザーがロックされている間、APIキーを含むすべての認証方法でシステムへのアクセスが禁止されます。ユーザーを手動でロック解除する必要がある場合は、[ユーザーロックアウト](./user-lockout.md)を参照してください。

### シナリオ

#### 制限なし

ユーザーの無効パスワード試行回数に制限を設けません。

![](https://static-docs.nocobase.com/202412281343226.png)

#### 試行頻度を制限し、ユーザーをロックしない

例：ユーザーは5分間に最大5回ログインを試行できます。

![](https://static-docs.nocobase.com/202412281344412.png)

#### 制限を超えた後、ユーザーをロックする

例：ユーザーが5分間に5回連続で無効なパスワードでログインを試行した場合、ユーザーを2時間ロックします。

![](https://static-docs.nocobase.com/202412281344952.png)

### 設定の推奨事項

- 無効パスワードログイン試行回数と時間間隔の設定は、短時間での高頻度のパスワードログイン試行を制限し、ブルートフォース攻撃を防ぐために使用されます。
- 制限を超えた後にユーザーをロックするかどうかは、実際の使用シナリオに基づいて検討する必要があります。ロック時間の設定は悪用される可能性があり、攻撃者がターゲットアカウントに対して意図的に複数回誤ったパスワードを入力し、アカウントをロックして正常に使用できないようにする可能性があります。IP制限やAPIレート制限などの手段を組み合わせて、このような攻撃を防ぐことができます。
- アカウントがロックされるとシステムにアクセスできなくなるため、管理者アカウントを含め、システム内に複数のユーザーロック解除権限を持つアカウントを設定することをお勧めします。
