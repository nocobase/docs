# メイン・外部データソース比較

NocoBaseにおけるメインデータソースと外部データソースの違いは、主に次の4つの側面に現れます：データソースタイプのサポート、コレクションタイプのサポート、フィールドタイプのサポート、バックアップと移行機能。

## 1. データソースタイプのサポート

詳細については、こちらを参照してください：[データソースマネージャー](https://docs.nocobase.com/handbook/data-source-manager)

### データベースタイプ

| データベースタイプ | メインデータベースサポート | 外部データベースサポート |
|------------------|-------------------------|------------------------|
| PostgreSQL | ✅ | ✅ |
| MySQL | ✅ | ✅ |
| MariaDB | ✅ | ✅ |
| KingbaseES | ✅ | ✅ |
| MSSQL | ❌ | ✅ |
| Oracle | ❌ | ✅ |

### コレクション管理

| コレクション管理 | メインデータベースサポート | 外部データベースサポート |
|-----------------|-------------------------|------------------------|
| 基本管理 | ✅ | ✅ |
| ビジュアル管理 | ✅ | ❌ |

## 2. コレクションタイプのサポート

詳細については、こちらを参照してください：[コレクション](https://docs.nocobase.com/handbook/data-modeling/collection)

| コレクションタイプ | メインデータベース | 外部データベース | 説明 |
|------------------|------------------|-----------------|------|
| 一般 | ✅ | ✅ | 基本データテーブル |
| ビュー | ✅ | ✅ | データベースビュー |
| 継承 | ✅ | ❌ | データモデル継承をサポート、メインデータベースのみ |
| ファイル | ✅ | ❌ | ファイルアップロードをサポート、メインデータベースのみ |
| コメント | ✅ | ❌ | 内蔵コメントシステム、メインデータベースのみ |
| カレンダー | ✅ | ❌ | カレンダービュー用のデータテーブル |
| 式 | ✅ | ❌ | 数式計算をサポート |
| ツリー | ✅ | ❌ | ツリー構造データモデリング用 |
| SQL | ✅ | ❌ | SQLで定義されたデータテーブル |
| 外部接続 | ✅ | ❌ | 外部データベース用の接続テーブル、機能限定 |

## 3. フィールドタイプのサポート

詳細については、こちらを参照してください：[コレクションフィールド](https://docs.nocobase.com/handbook/data-modeling/collection-fields)

### 基本タイプ

| フィールドタイプ | メインデータベース | 外部データベース |
|-----------------|------------------|-----------------|
| 単一行テキスト | ✅ | ✅ |
| 複数行テキスト | ✅ | ✅ |
| 電話番号 | ✅ | ✅ |
| 電子メール | ✅ | ✅ |
| URL | ✅ | ✅ |
| 整数 | ✅ | ✅ |
| 数値 | ✅ | ✅ |
| パーセント | ✅ | ✅ |
| パスワード | ✅ | ✅ |
| 色 | ✅ | ✅ |
| アイコン | ✅ | ✅ |

### 選択タイプ

| フィールドタイプ | メインデータベース | 外部データベース |
|-----------------|------------------|-----------------|
| チェックボックス | ✅ | ✅ |
| 単一選択 | ✅ | ✅ |
| 複数選択 | ✅ | ✅ |
| ラジオボタン | ✅ | ✅ |
| チェックボックスグループ | ✅ | ✅ |
| 中国の行政区 | ✅ | ❌ |

### メディアタイプ

| フィールドタイプ | メインデータベース | 外部データベース |
|-----------------|------------------|-----------------|
| メディア | ✅ | ✅ |
| Markdown | ✅ | ✅ |
| Markdown(Vditor) | ✅ | ✅ |
| リッチテキスト | ✅ | ✅ |
| 添付ファイル(関連) | ✅ | ❌ |
| 添付ファイル(URL) | ✅ | ✅ |

### 日付と時間タイプ

| フィールドタイプ | メインデータベース | 外部データベース |
|-----------------|------------------|-----------------|
| 日付時間(タイムゾーンあり) | ✅ | ✅ |
| 日付時間(タイムゾーンなし) | ✅ | ✅ |
| Unixタイムスタンプ | ✅ | ✅ |
| 日付(時間なし) | ✅ | ✅ |
| 時間 | ✅ | ✅ |

### 幾何学タイプ

| フィールドタイプ | メインデータベース | 外部データベース |
|-----------------|------------------|-----------------|
| 点 | ✅ | ✅ |
| 線 | ✅ | ✅ |
| 円 | ✅ | ✅ |
| 多角形 | ✅ | ✅ |

### 高度なタイプ

| フィールドタイプ | メインデータベース | 外部データベース |
|-----------------|------------------|-----------------|
| UUID | ✅ | ✅ |
| Nano ID | ✅ | ✅ |
| ソート | ✅ | ✅ |
| 数式 | ✅ | ✅ |
| シーケンス | ✅ | ✅ |
| JSON | ✅ | ✅ |
| コレクションセレクター | ✅ | ❌ |
| 暗号化 | ✅ | ✅ |

### システム情報フィールド

| フィールドタイプ | メインデータベース | 外部データベース |
|-----------------|------------------|-----------------|
| 作成日 | ✅ | ✅ |
| 最終更新日 | ✅ | ✅ |
| 作成者 | ✅ | ❌ |
| 最終更新者 | ✅ | ❌ |
| テーブルOID | ✅ | ❌ |

### 関連タイプ

| フィールドタイプ | メインデータベース | 外部データベース |
|-----------------|------------------|-----------------|
| 一対一 | ✅ | ✅ |
| 一対多 | ✅ | ✅ |
| 多対一 | ✅ | ✅ |
| 多対多 | ✅ | ✅ |
| 多対多(配列) | ✅ | ✅ |

:::info
添付ファイルフィールドはファイルコレクションに依存しており、これはメインデータベースでのみサポートされています。そのため、外部データベースでは現在添付ファイルフィールドをサポートしていません。
:::

## 4. バックアップと移行サポートの比較

| 機能 | メインデータベース | 外部データベース |
|-----|------------------|-----------------|
| バックアップと復元 | ✅ | ❌（ユーザー管理） |
| 移行管理 | ✅ | ❌（ユーザー管理） |

:::info
NocoBaseはメインデータベースのバックアップ、復元、構造移行機能を提供します。外部データベースについては、これらの操作は各自のデータベース環境に応じてユーザーが独立して完了する必要があります。NocoBaseは内蔵サポートを提供していません。
:::

## まとめ比較

| 比較項目 | メインデータベース | 外部データベース |
|---------|------------------|-----------------|
| データベースタイプ | PostgreSQL、MySQL、MariaDB、KingbaseES | PostgreSQL、MySQL、MariaDB、MSSQL、Oracle、KingbaseES |
| コレクションタイプサポート | すべてのコレクションタイプ | 一般コレクションとビューコレクションのみ |
| フィールドタイプサポート | すべてのフィールドタイプ | 添付ファイルフィールド以外のすべてのフィールドタイプ |
| バックアップと移行 | 内蔵サポート | ユーザー管理 |

## 推奨事項

- **NocoBaseを使用して新しいビジネスシステムを構築する場合**、**メインデータベース**を使用してください。これによりNocoBaseの完全な機能を使用できます。
- **NocoBaseを使用して他のシステムのデータベースに接続し、基本的なCRUD操作を実装する場合**、**外部データベース**を使用してください。