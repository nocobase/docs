# 一対一

従業員とプロフィールの関係は、一人の従業員に対して一つのプロフィールレコードしか存在せず、各プロフィールレコードも一人の従業員にしか対応しないため、この場合、従業員とプロフィールは一対一の関係です。

一対一の外部キーは、ソーステーブルまたはターゲットテーブルのいずれかに配置できます。「有る」を表す場合は、外部キーをターゲットテーブルに置く方が適切です。「所属関係」を表す場合は、外部キーをソーステーブルに置く方が適切です。

上記の例のように、従業員は1つのプロファイルしか持っておらず、プロファイルは従業員に属しているため、、この外部キーはプロフィールテーブルに配置するのが適しています。

## 一対一（有る）

特定の従業員に一つのプロフィールレコードがあることを示します。

ER関係

![alt text](https://static-docs.nocobase.com/4359e128936bbd7c9ff51bcff1d646dd.png)

フィールド設定

![alt text](https://static-docs.nocobase.com/7665a87e094b4fb50c9426a108f87105.png)

## 一対一（所属関係）

特定のプロフィールが特定の従業員に属することを示します。

ER関係

![](https://static-docs.nocobase.com/31e7cc3e630220cf1e98753ca24ac72d.png)

フィールド設定

![alt text](https://static-docs.nocobase.com/4f09eeb3c7717d61a349842da43c187c.png)

## パラメータ説明

### ソースコレクション

ソーステーブル、つまり現在のフィールドが存在するテーブルです。

### ターゲットコレクション

ターゲットテーブル、関連付けるテーブルを示します。

### 外部キー

二つのテーブル間の関連を確立するために使用されます。一対一の外部キーはソーステーブルまたはターゲットテーブルのいずれかに配置できます。「有る」を表す場合は、外部キーをターゲットテーブルに置く方が適切です。「所属関係」を表す場合は、外部キーをソーステーブルに置く方が適切です。

### ソースキー <- 外部キー（外部キーがターゲットテーブルにある場合）

外部キー制約が参照するフィールドで、ユニーク性を持つ必要があります。外部キーがターゲットにある場合は、「有る」を示します。

### ターゲットキー <- 外部キー（外部キーがソーステーブルにある場合）

外部キー制約が参照するフィールドで、ユニーク性を持つ必要があります。外部キーがソーステーブルにある場合は、「所属関係」を示します。

### ON DELETE

ON DELETE は、親テーブルのレコードを削除する際に関連する子テーブルの外部キー参照に対する操作ルールを指し、外部キー制約を定義する際のオプションです。一般的な ON DELETE オプションには以下が含まれます：

- **CASCADE**：親テーブルのレコードを削除すると、自動的に子テーブルの関連するすべてのレコードも削除されます。
- **SET NULL**：親テーブルのレコードを削除すると、子テーブルの関連する外部キー値が NULL に設定されます。
- **RESTRICT**：デフォルトオプションで、親テーブルのレコードを削除しようとすると、関連する子テーブルのレコードが存在する場合は削除を拒否します。
- **NO ACTION**：RESTRICT と類似しており、関連する子テーブルのレコードが存在する場合は親テーブルのレコードの削除を拒否します。

