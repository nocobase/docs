# 式のコレクション

## 「式」テンプレート表の作成

ワークフロー内で動的式演算ノードを使用する前に、データ表管理ツールで「式」テンプレート表を作成し、異なる式を保存する必要があります。

![式テンプレート表の作成](https://static-docs.nocobase.com/33afe3369a1ea7943f12a04d9d4443ce.png)

## 式データの入力

次に、表形式のブロックを作成し、テンプレート表にいくつかの公式データを追加します。「式」テンプレート表の各行は、特定の表データモデルに対する計算ルールとして理解できます。各行の公式データは、異なるデータ表のデータモデル内のフィールド値を変数として使用し、異なる式を計算ルールとして記述することができます。また、異なる計算エンジンを使用することも可能です。

![式データの入力](https://static-docs.nocobase.com/761047f8daabacccbc6a924a73564093.png)

:::info{title=ヒント}
公式を作成した後、ビジネスデータと公式を関連付ける必要があります。各行のビジネスデータを公式データ行に直接関連付けるのは煩雑なため、通常は分類のメタデータ表と公式表を多対一（または一対一）で関連付け、その後、ビジネスデータと分類メタデータを多対一で関連付けます。そうすれば、ビジネスデータを作成する際に特定の分類メタデータを指定するだけで、後続の使用でこの関連経路を通じて対応する公式データを見つけて使用できます。
:::

## プロセスでの関連データの読み込み

データ表イベントを例に、ワークフローを作成します。注文が作成されるとトリガーされ、注文に関連する商品データと商品関連の式データを事前に読み込む必要があります。

![データ表イベント_トリガー設定](https://static-docs.nocobase.com/f181f75b10007afd5de068f3458d2e04.png)

