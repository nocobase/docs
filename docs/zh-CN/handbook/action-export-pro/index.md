# 导出 Pro

<PluginInfo commercial="true" name="action-export-pro"></PluginInfo>

## 介绍

导出 Pro 插件在普通导出功能的基础上提供了增强功能。

## 安装

此插件依赖异步任务管理插件，使用前需先开启异步任务管理插件。

## 功能增强

- 支持异步导出操作，独立线程执行，支持大量数据导出。
- 支持附件导出。

## 使用手册

### 导出模式配置

在导出按钮上，可以配置导出模式，可选的三个导出模式

- 自动：根据导出时的数据量判断导出的模式，如果数据量小于 1000 条 （附件导出时为 100 条），则使用同步导出，如果数据量大于 1000 条（附件导出时为 100 条），则使用异步导出。
- 同步：使用同步导出，导出时会将会在主线程中运行，适合小规模数据，若在同步模式下执行大规模的数据导出，可能会导致系统阻塞、卡顿且无法处理其他用户的请求。
- 异步：使用异步导出，导出时将会在独立的后台线程中执行，不会阻塞当前页面。

### 异步导出

在执行导出之后，导出的流程将在独立的后台线程中执行，无需用户手动配置。在用户界面中，执行导出操作后，右上方会显示当前正在执行的导出任务，并且实时展示任务进度。

![index-2024-12-30-09-35-34](https://static-docs.nocobase.com/index-2024-12-30-09-35-34.png)

导出结束后，可在导出任务中下载导出文件。

### 附件导出

附件导出支持将附件相关的字段导出为压缩包格式。

#### 附件导出配置

![index-2024-12-30-09-37-09](https://static-docs.nocobase.com/index-2024-12-30-09-37-09.png)

- 配置要导出的附件字段，支持多选。
- 可以选择是否为每条记录生成一个文件夹。

文件的命名规则：

- 如果选择为每条记录生成一个文件夹，则文件的命名规则为： `{记录的标题字段值}/{附件字段名}[-{文件序号}].{文件后缀名}`。
- 如果选择不生成文件夹，则文件的命名规则为： `{记录的标题字段值}-{附件字段名}[-{文件序号}].{文件后缀名}`。

文件序号在附件字段中存在多个附件时，会自动生成。
