# 多应用（Multi-App）

<PluginInfo name="multi-app" licenseBundled="professional"></PluginInfo>

## 介绍

**多应用插件（Multi-App）** 允许在同一个实例中动态创建和管理多个独立应用，而无需单独部署。  
每个子应用都是完全独立的实例，拥有自己的数据库、插件和配置。

:::warning
多应用管理插件本身不提供用户共享能力。  
如需多应用间的用户打通，可结合 **[认证插件](/handbook/auth)** 使用。
:::

---

## 安装

在插件管理中找到 **多应用（Multi-app）** 插件并启用。

![](https://static-docs.nocobase.com/multi-app/Plugin-manager-NocoBase-10-16-2025_03_07_PM.png)

---

## 使用手册

### 一、子应用管理

在系统设置菜单中点击「多应用」，进入多应用管理页面：

![](https://static-docs.nocobase.com/multi-app/Multi-app-NocoBase-10-16-2025_03_48_PM.png)

---

### 二、子应用创建

点击「新增」按钮，创建一个新的子应用：

![](https://static-docs.nocobase.com/multi-app/Multi-app-NocoBase-10-16-2025_03_50_PM.png)

#### 表单字段说明

* **名称**: 子应用标识，全局唯一 
* **端口**: 子应用运行时使用的端口 
* **固定到菜单**: 将子应用的入口固定在顶部导航栏左侧 
* **数据库连接**: 子应用的数据源配置，支持三种方式：<br>• **新数据库**：使用当前数据服务，创建独立数据库<br>• **新的数据连接**：配置全新的数据库连接<br>• **Schema 模式**：在 PostgreSQL 中使用独立的 Schema 
* **升级**: 若数据库中已有旧版本数据，会自动升级到当前版本 

---

### 三、子应用运行与停止

点击 **Start** 按钮可启动子应用；  
> 如果在创建时勾选了 *“Start on first visit”*，则首次访问时会自动启动。  

点击 **View** 按钮，会在新标签页中打开该子应用。

![](https://static-docs.nocobase.com/multi-app/Multi-app-NocoBase-10-16-2025_04_00_PM.png)

---

### 四、子应用日志查看

点击 **日志（Logs）** 按钮，可查看子应用的运行日志。  
> 若子应用启动后无法访问（如数据库损坏等情况），可通过日志进行排查。

![](https://static-docs.nocobase.com/multi-app/Multi-app-NocoBase-10-16-2025_04_02_PM.png)

---

### 五、子应用删除

点击 **删除** 按钮可移除子应用。  
> 删除时可选择是否一并删除数据库，请谨慎操作，该操作不可恢复。

---

### 六、子应用访问

默认情况下，通过 **CNAME** 方式访问时，所有子应用的数据请求将通过主应用转发。  
如果希望直接访问子应用，可使用其端口直接访问。

---

### 七、命令行管理子应用

在项目根目录下，可以使用命令行通过 **PM2** 管理子应用实例：

```bash
yarn nocobase pm2 [command]
```


## 常见问题

#### 插件管理
子应用可以使用的插件和主应用一致（包括版本），但是可以独立配置和使用插件

#### 数据库隔离
子应用可以配置独立的数据库，如果想应用之间进行数据共享，可通过外部数据源实现

#### 数据备份和迁移
目前在主应用上数据备份不支持包含子应用的数据（只包含子应用基本信息），需手动在子应用内备份和迁移

#### 部署与更新
子应用的版本将自动跟随主应用进行升级，自动保证主子应用版本一致

#### 资源管理
每个子应用的资源占用和主应用基本一致，目前单个应用内存占用在500-600MB左右。
