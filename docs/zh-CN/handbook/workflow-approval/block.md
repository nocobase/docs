# 审批相关区块

## 数据详情中的审批区块

在已提交的数据详情弹窗中，可以配置审批区块，用于展示对应数据的审批记录，以及处理入口：

![详情审批区块_创建区块](https://static-docs.nocobase.com/6b40f47474609d1dfd33618d80228189.png)

### 发起人处理

审批区块中会展示基本的申请信息，以及审批处理记录。对于发起人，可以在弹窗中查看自己发起的申请内容详情，如果配置了可被撤回，且流程在进入首个审批节点后但还未被任何审批人处理，可以撤回已发起的申请：

![详情审批区块_发起人查看](https://static-docs.nocobase.com/5c7d4a6dca8de820d154487e41808c2a.png)

如果发起人执行了撤回操作，会在审批区块中显示撤回的记录，并且可以点击查看后会重新打开申请的弹窗：

![详情审批区块_发起人撤回后再次查看](https://static-docs.nocobase.com/df52cb5203c1fd0a2f7af1757fbf6ecd.png)

弹窗中的内容与之前的内容一致，可以修改后再次提交：

![详情审批区块_发起人撤回后再次提交](https://static-docs.nocobase.com/4b3a6119e9871760d2dbdc8a2a75ff2c.png)

### 审批人处理

审批人同样通过该区块查看审批的内容详情，在处理记录的节点列表中，如果当前登录用户为该节点的负责人之一，会在详情列中显示“查看”按钮，点击后会打开审批的弹窗：

![详情审批区块_审批人处理节点](https://static-docs.nocobase.com/b160090482823ff5dc87592d0d5cedec.png)

弹窗中将展示该审批节点中配置的审批人界面，通常会包含审批内容详情和操作栏：

![详情审批区块_审批人处理弹窗](https://static-docs.nocobase.com/26acffffd314e86a658334ae9bef9d9b.png)

审批人可以在弹窗中执行通过、拒绝或退回操作，操作后会在处理记录中生成对应的记录，如果操作是退回，则发起人可以再次修改申请内容后重新发起：

![详情审批区块_审批人退回](https://static-docs.nocobase.com/5da879b24923ed25c31be658636ada64.png)

通过或拒绝会根据节点配置的对应规则产生相应的状态：

![详情审批区块_审批人通过](https://static-docs.nocobase.com/b020b1f82fce7c27b905ecf0b4c0046d.png)

## 审批中心区块

审批插件提供了两个全局区块用于集中地管理部分审批流程，分别是“发起审批”和“审批待办”：

![审批中心区块_创建](https://static-docs.nocobase.com/fb3957320f082159f6f1f908937894b6.png)

“发起审批”区块用于发起人的视角，可以从区块的操作栏发起新的审批：

![审批中心区块_发起审批](https://static-docs.nocobase.com/a888630f892f15882eb1ec6b8826c528.png)

如果在审批触发器中配置了“在数据区块和审批中心都可以发起和审批”，那么在“申请”按钮的下拉菜单中会出现对应的审批流程。

当然，也可以在列表中查看已发起的审批的状态：

![审批中心区块_查看发起列表](https://static-docs.nocobase.com/4379ff809ae6a545dccab434cf6a6cfb.png)

点击“查看”打开的弹窗与数据详情中的审批区块内容类似，区别是发起人提交的内容和审批历史分别在不同的标签页展示：

![审批中心区块_发起人查看详情](https://static-docs.nocobase.com/234edf3af9a3fb9e3c7aa820c3befd66.png)

“审批待办”区块用于审批人视角，可以在列表中查看待处理的审批，点击对应的“查看”按钮将打开处理弹窗，与数据详情中的审批区块内容类似，区别是审批人的处理表单和审批历史分别在不同的标签页展示：

![审批中心区块_审批人查看已处理的详情](https://static-docs.nocobase.com/bc425bd18837d6a918c609849c38da5d.png)

如果是已处理过的，将以提交处理的内容展示，且不可修改。
