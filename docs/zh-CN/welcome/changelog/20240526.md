# v1.0.1-alpha.1: 2024-05-26

## 新增

### 文件管理器：增加文件大小和格式限制的配置（<a href="https://github.com/nocobase/nocobase/pull/4118" target="_blank">#4118</a>）。

![20240603115303](https://static-docs.nocobase.com/20240603115303.png)

详情可以进一步参考使用手册：[文件存储引擎](https://docs-cn.nocobase.com/handbook/file-manager/storage) 。

### 工作流：变量节点支持选择变量的中间层级数据对象作为变量的值。

![20240531211727](https://static-docs.nocobase.com/20240531211727.png)

### 链接操作：支持在链接路径上配置变量（<a href="https://github.com/nocobase/nocobase/pull/4506" target="_blank">#4506</a>）。

![20240603114544](https://static-docs.nocobase.com/20240603114544.png)

### 区块支持高度设置（<a href="https://github.com/nocobase/nocobase/pull/4441" target="_blank">#4441</a>）,详情参考 [区块高度](/handbook/ui/blocks/block-settings/block-height) 文档 。

![20240603115253](https://static-docs.nocobase.com/20240603115253.gif)
### Iframe支持变量（<a href="https://github.com/nocobase/nocobase/pull/4512" target="_blank">#4512</a>）。

![20240603114711](https://static-docs.nocobase.com/20240603114711.png)

![20240603114750](https://static-docs.nocobase.com/20240603114750.png)
## 优化

### 通过禁用日期变量选项，来避免产生误操作。([#4452](https://github.com/nocobase/nocobase/pull/4452))
> 日期的变量除了 current time 是时刻（字符串），其他的都是时段（数组），可以用于筛选，但并不能直接作为默认值。

![20240527150429](https://static-docs.nocobase.com/20240527150429.png)

### 修改用户名长度限制为 1-50。(<a href="https://github.com/nocobase/nocobase/pull/4502" target="_blank">#4502</a>)

### 联动规则赋值交互优化 (<a href="https://github.com/nocobase/nocobase/pull/4492" target="_blank">#4492</a>)

### 去掉前端中 isForeignKey 的过滤判断(<a href="https://github.com/nocobase/nocobase/pull/4499" target="_blank">#4499</a>)

### 调整表格区块的操作栏的右上角图标。(<a href="https://github.com/nocobase/nocobase/pull/4538" target="_blank">#4538</a>)

![20240603115131](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20240603115131.png)

### ErrorFallback (<a href="https://github.com/nocobase/nocobase/pull/4459" target="_blank">#4459</a>)

细化前端捕获错误的组件级别，避免因前端错误导致整个页面不可用。

![error-fallback](https://static-docs.nocobase.com/333997386-6b96a564-2713-45c3-b83b-52fa96ea888e.gif)

## 修复

### 配置权限弹窗中的数据范围中不应该支持“当前表单”和“当前弹窗记录”变量。([#4484](https://github.com/nocobase/nocobase/pull/4484))

![20240527145519](https://static-docs.nocobase.com/20240527145519.png)

### 支持直接选择变量的值作为关系字段的默认值。(<a href="https://github.com/nocobase/nocobase/pull/4439" target="_blank">#4439</a>)

![20240603121447](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20240603121447.png)

### 修复多次添加“自定义请求”操作时报错的问题。(<a href="https://github.com/nocobase/nocobase/pull/4458" target="_blank">#4458</a>)

![20240603115234](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20240603115234.png)

### 数据可视化：修复设置图表筛选字段默认值时，字段组件消失的问题。(<a href="https://github.com/nocobase/nocobase/pull/4509" target="_blank">#4509</a>)

### 工作流：运算节点表达式输入框样式丢失问题。(<a href="https://github.com/nocobase/nocobase/pull/4513" target="_blank">#4513</a>)

### 工作流：人工节点自定义表单创建字段类型错误问题。(<a href="https://github.com/nocobase/nocobase/pull/4519" target="_blank">#4519</a>)

### 工作流：自定义操作事件触发权限问题。(<a href="https://github.com/nocobase/nocobase/pull/4522" target="_blank">#4522</a>)

### 工作流：预加载关系字段配置对多数据源支持层级深度不够的问题。(<a href="https://github.com/nocobase/nocobase/pull/4526" target="_blank">#4526</a>)

### `json-templates` 库拼串错误问题。(<a href="https://github.com/nocobase/nocobase/pull/4525" target="_blank">#4525</a>)

### 文件管理器：腾讯云上传和删除报错的问题。(<a href="https://github.com/nocobase/nocobase/pull/4529" target="_blank">#4529</a>, <a href="https://github.com/nocobase/nocobase/pull/4537" target="_blank">#4537</a>)

### 表单联动规则赋值数字字段值为0.00时显示[object Object]。 (<a href="https://github.com/nocobase/nocobase/pull/4482" target="_blank">#4482</a>)

### 子表格缺失添加按钮控制项。(<a href="https://github.com/nocobase/nocobase/pull/4498" target="_blank">#4498</a>)

### 表格编辑表单中提交按钮缺失联动规则配置项。 (<a href="https://github.com/nocobase/nocobase/pull/4515" target="_blank">#4515</a>)

### 其它
- 修复表单提交后，子表格中的内容没有被清空的问题。(<a href="https://github.com/nocobase/nocobase/pull/4475" target="_blank">#4475</a>)
- 修复在子表格中使用“当前对象”变量异常的问题。(<a href="https://github.com/nocobase/nocobase/pull/4521" target="_blank">#4521</a>)
- 修复表单中的地图字段缺少“地图默认缩放级别”选项的问题。(<a href="https://github.com/nocobase/nocobase/pull/4527" target="_blank">#4527</a>)
- 修复在弹窗中使用区块模板添加区块不显示的问题。(<a href="https://github.com/nocobase/nocobase/pull/4531" target="_blank">#4531</a>)
- 修复表单数据模板的样式问题。(<a href="https://github.com/nocobase/nocobase/pull/4536" target="_blank">#4536</a>)
