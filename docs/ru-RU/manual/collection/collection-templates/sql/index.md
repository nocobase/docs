# SQL-таблицы

## Введение

![SQL-таблицы](https://static-docs.nocobase.com/c6221758f3aea2f45d0df7b815353697.png)

SQL Collection предоставляет способ получения данных с помощью SQL-запросов. После получения полей данных через SQL-запрос и настройки их метаданных пользователи могут использовать их так же, как обычные таблицы, в таблицах, диаграммах, рабочих процессах и т.д. Это подходит для сценариев связанных запросов, статистики и других.

## Создание

![Создание SQL-таблицы](https://static-docs.nocobase.com/64b3a663285be6377141901c2ff3e1f0.png)

1. Введите SQL-запрос в поле ввода SQL и нажмите «Выполнить» (Execute). Система попытается проанализировать, какие таблицы и поля используются в запросе, и извлечь метаданные полей из исходных таблиц.

![Анализ SQL-запроса](https://static-docs.nocobase.com/513f2161226dd1e705ab0cf0efb2be90.png)

2. Если система некорректно определила исходные таблицы и поля, можно вручную выбрать соответствующие таблицы и поля, чтобы использовать их метаданные. Сначала нужно выбрать исходную таблицу, чтобы затем выбрать поля этой таблицы в настройках источников полей.

![Ручной выбор таблицы и полей](https://static-docs.nocobase.com/966759acf8d6f7380d27feb4edcc15ed.png)

3. Если поле не имеет соответствующего исходного поля, система определит тип поля на основе типа данных. Если результат определения неверный, можно вручную выбрать тип поля.

![Выбор типа поля](https://static-docs.nocobase.com/0e752127ab3e46c0742522891310906b.png)

4. Во время настройки полей в области предварительного просмотра можно увидеть результат отображения.

![Предварительный просмотр](https://static-docs.nocobase.com/d741d8b43785e003d35fc0b53fc0e649.png)

5. После завершения настройки и проверки корректности необходимо нажать кнопку «Подтвердить» (Confirm) под полем ввода SQL для окончательной отправки.

## Редактирование

1. Если SQL-запрос изменился, можно нажать кнопку «Редактировать» (Edit), чтобы изменить SQL-запрос и перенастроить поля.
2. Для изменения метаданных полей можно использовать функцию «Настроить поля» (Configure fields), как для обычных таблиц, чтобы изменить настройки полей.

## Синхронизация

![Синхронизация полей](https://static-docs.nocobase.com/dd5c0ea1b3def4c8bf4d5fcdb81fac3a.png)

Если SQL-запрос не изменился, но структура таблицы в базе данных изменилась, можно синхронизировать и настроить поля, нажав «Настроить поля» (Configure fields) — «Синхронизировать с базой данных» (Sync from database).

## Сравнение SQL-таблиц и представлений базы данных

| Тип шаблона       | Применимые сценарии                                                                 | Принцип реализации | Поддержка операций добавления/удаления/изменения |
|-------------------|------------------------------------------------------------------------------------|--------------------|-----------------------------------------------|
| SQL               | Простые модели, легкие сценарии, когда неудобно работать с базой данных, нежелание поддерживать представления, полное управление через UI | SQL-подзапросы     | Не поддерживается                             |
| Представления базы данных | Сложные модели, требующие взаимодействия с базой данных, изменения данных, лучшей и стабильной поддержки базы данных | Представления базы данных | Частичная поддержка                           |
