# Панель конфигурации

Панель конфигурации диаграмм делится на три части: конфигурация данных, конфигурация диаграммы и предварительный просмотр диаграммы.

![Панель конфигурации](https://static-docs.nocobase.com/b397cf9ab751b1652ab7d2de81ec0f11.png)

## Конфигурация данных

![Конфигурация данных](https://static-docs.nocobase.com/801c019fc92c2fe756d622585b214d6e.png)

- Выпадающее меню вверху показывает текущую таблицу данных (Collection), которую можно переключить через меню.
- После настройки нажмите «Выполнить запрос» (Run query), чтобы получить данные по заданной конфигурации. Панель «Данные» (Data) отобразит результаты.

### Метрики (Measures)

![Метрики](https://static-docs.nocobase.com/35caab4b0dea7c2378e2fe226439aa51.png)

Поля метрик — это основные данные, которые отображаются на диаграмме. Метрики можно агрегировать с помощью функций, таких как `Сумма (Sum)`, `Количество (Count)`, `Среднее (Avg)`, `Максимум (Max)`, `Минимум (Min)`. Можно задать несколько полей метрик и установить для них псевдонимы.

### Измерения (Dimensions)

![Измерения](https://static-docs.nocobase.com/7d0568757e6d999d67c316c2ff28d8e7.png)

Поля измерений обычно используются для группировки данных диаграммы. Для полей типа даты поддерживаются форматы, показанные на изображении, форматирование выполняется с помощью функций базы данных (например, `date_format` в MySQL). Форматирование других типов данных описано в разделе [Преобразование данных](#преобразование-данных).

:::info
**Форматирование измерений (Dimensions Format) VS Преобразование данных (Transform)**

- Форматирование измерений происходит до получения финальных данных, группировка выполняется по отформатированным значениям, что часто требуется при фильтрации по временным периодам.
- Преобразование данных выполняется для дальнейшей обработки ответа, например, для улучшения читаемости. Преобразование происходит на стороне фронтенда.
:::

### Фильтрация (Filter)

![Фильтрация](https://static-docs.nocobase.com/42e35ace7a63776f6ba82325975128b5.png)

Конфигурация фильтров позволяет фильтровать данные перед группировкой. Доступны переменные «Текущий пользователь» и «Текущая дата» для создания динамических фильтров.

### Сортировка (Sort) и Ограничение (Limit)

![Сортировка и ограничение](https://static-docs.nocobase.com/a49a841116b5c9a42fb79d3431257651.png)

По умолчанию максимальное количество записей в наборе данных ограничено 2000.

### Кэширование

![Кэширование](https://static-docs.nocobase.com/3d1e3f3282384d50bd7be3a580a07c4f.png)

При включении кэширования диаграмма будет отображать кэшированные данные.

## Конфигурация диаграммы

![Конфигурация диаграммы](https://static-docs.nocobase.com/4b9b518258613b5a8c8d3e3cd7f6f9a8.png)

- Тип диаграммы (Chart Type) — тип диаграммы для отображения. NocoBase использует [G2Plot](https://g2plot.antv.antgroup.com/) как библиотеку диаграмм по умолчанию. Для расширения другими библиотеками см. [Руководство разработчика](../dev/index.md).
- Базовая конфигурация — после выбора типа диаграммы появляются соответствующие настройки визуализации. Поля обычно выбираются из выпадающего меню, включающего базовые поля коллекции и их псевдонимы.
- JSON-конфигурация — если базовых настроек недостаточно, можно использовать JSON для настройки дополнительных свойств диаграммы. См. [документацию G2Plot](https://g2plot.antv.antgroup.com/api/plot-api).

## Преобразование данных

![Преобразование данных](https://static-docs.nocobase.com/86511c44dd3825bdcc3954d4132cd7a0.png)

Преобразование данных позволяет дополнительно обрабатывать данные ответа от интерфейса. Поддерживаются типы данных: `number`, `date`, `time`, `datetime`. Для полей, не относящихся к этим типам, можно вручную выбрать один из них для применения соответствующих методов преобразования.
