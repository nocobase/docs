# Блоки фильтров

Блок фильтров в составе блока диаграмм позволяет осуществлять динамическую фильтрацию данных для нескольких диаграмм внутри одного блока.

## Включение/отключение

Для активации или деактивации блока фильтров перейдите в блок диаграмм и выберите "Добавить блок" → "Фильтр".

![](https://static-docs.nocobase.com/d0e6b116952fa6b719acb0f858b432c3.png)

## Настройка полей

### Поля коллекций

Для диаграмм внутри текущего блока можно создать поле фильтрации, выбрав соответствующие поля непосредственно из связанной коллекции.

![](https://static-docs.nocobase.com/e2ef150e9beb8c78004d9049a7536219.png)

Поля формы можно настроить следующим образом:

![](https://static-docs.nocobase.com/215f0b996e69bf2d5b99746e6d521c3d.png)

- Редактирование названия поля
- Редактирование описания
- Определение оператора для применения фильтра  
  ![](https://static-docs.nocobase.com/d6a593a330d27da4ea78124dfdb8450d.png)

- Установка значения по умолчанию с возможностью использования переменных (тип данных переменной должен соответствовать типу поля)
  ![](https://static-docs.nocobase.com/37dee4008f3283db24d491fb8f0404fa.png)

  Примеры:
  - Установка ID текущего пользователя для автоматической фильтрации данных
  - Установка текущей даты для фильтрации данных по умолчанию

### Пользовательские поля

Когда требуется использовать одно поле фильтра для разных полей в различных таблицах (например, одно поле даты для фильтрации разных полей даты в разных таблицах), можно создать пользовательское поле.

![](https://static-docs.nocobase.com/87544594246453d175ef265030c0801a.png)

При добавлении пользовательского поля необходимо:
1. Указать название поля
2. Выбрать соответствующий компонент поля
3. При необходимости использовать конфигурацию метаданных из существующих полей

![](https://static-docs.nocobase.com/ef09136d674d4b7356e819350bcac804.png)

Для реализации:
1. Откройте конфигурацию нужной диаграммы
2. В настройках фильтрации добавьте условия, используя переменные из "Текущего фильтра"
3. Убедитесь в совпадении типов данных

![](https://static-docs.nocobase.com/f9f2487c4da4b2024af1556743beab6c.png)

Для пользовательских полей также доступны:
- Настройка заголовка
- Добавление описания
- Установка значений по умолчанию

![](https://static-docs.nocobase.com/4a8feb12404f5cc5e74d589263307e5a.png)

## Настройка действий блока

- **Фильтр:** Применить условия фильтрации
- **Сброс:** Очистить форму фильтра
- **Свернуть/Развернуть:** Переключение между компактным и развернутым видом

![](https://static-docs.nocobase.com/8619ac90fa045b3a9c6d6610f7be1a81.png)

