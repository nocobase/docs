# Конфигурация триггера

## Создание рабочего процесса

Чтобы настроить "workflow" утверждения, начните с выбора типа «Утверждение» во время процесса создания "workflow":

![Утверждение триггера_Создание "workflow" утверждения](https://static-docs.nocobase.com/f52dda854f46a669e0c1c7fb487a17ea.png)

Далее в интерфейсе конфигурации "workflow" щелкните триггер, чтобы открыть всплывающее окно для дополнительных параметров конфигурации.

## Привязка таблиц данных

Плагин утверждения NocoBase разработан с учетом гибкости, что позволяет интегрировать его с любым пользовательским набором данных. Это означает, что нет необходимости повторно настраивать модель данных для процессов утверждения. Вместо этого вы можете повторно использовать существующие наборы данных. 
При настройке триггера первым шагом является выбор таблицы данных, чтобы определить, какие записи данных будут запускать "workflow" при создании или обновлении:

![Approval Trigger_Trigger Configuration_Select Data Table](https://static-docs.nocobase.com/8732a4419b1e28d2752b8f601132c82d.png)

После выбора таблицы данных привяжите "workflow" к кнопке отправки в форме, используемой для создания или редактирования данных в выбранной таблице:

![Initiate Approval_Bind Workflow](https://static-docs.nocobase.com/2872ff108c61d7bf6d0bfb19886774c6.png)

После отправки формы будет запущен соответствующий "workflow" утверждения. Отправленные данные будут сохранены в указанной таблице данных, а также будут сделаны моментальные снимки в потоке утверждения для будущего просмотра утверждающими лицами.

## Отозвано

Если процесс утверждения позволяет инициатору отозвать запрос, выберите опцию «Разрешено отозвать»:

![Approval Trigger_Trigger Configuration_Allow Withdrawal](https://static-docs.nocobase.com/09185712fc55bc536892136ce0ade4a8.png)

Если выбрана эта опция, инициатор может отозвать запрос на утверждение в любое время до того, как какой-либо утверждающий его обработает. Однако после обработки любых последующих узлов утверждения утверждение больше не может быть отозвано.

## Настройка интерфейса формы для инициирования утверждений

Наконец, вам нужно будет настроить интерфейс формы для инициатора. Этот интерфейс используется при инициировании утверждения из блока Approval Center или при повторной инициации после отзыва. Нажмите кнопку конфигурации, чтобы открыть всплывающее окно:

![Approval Trigger_Trigger Configuration_Initiator Form](https://static-docs.nocobase.com/ca8b7e362d912138cf7d73bb60b37ac1.png)

Вы можете добавить форму на основе таблицы привязанных данных или включить пояснительный текст (Markdown) для руководства инициатора. Форма обязательна; в противном случае инициатор не сможет продолжить работу при входе в этот интерфейс.

После добавления блока формы вы можете настроить соответствующие компоненты полей таблицы данных и расположить их по мере необходимости для организации содержимого, которое нужно заполнить, аналогично обычному интерфейсу конфигурации формы:

![Approval Trigger_Trigger Configuration_Initiator Form_Field Configuration](https://static-docs.nocobase.com/5a1e7f9c9d8de092c7b55585dad7d633.png)

В дополнение к кнопке «Отправить» вы также можете добавить кнопку «Сохранить черновик» для поддержки временного хранения данных во время процесса:

![Approval Trigger_Trigger Configuration_Initiator Form_Action Configuration](https://static-docs.nocobase.com/2f4850d2078e94538995a9df70d3d2d1.png)
