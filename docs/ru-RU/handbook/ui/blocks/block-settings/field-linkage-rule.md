# Field Linkage Rules

## Введение

Правила связей полей позволяют динамически изменять атрибуты полей в блоках формы/детализации на основе действий пользователя. В настоящее время правила связей поддерживаются в следующих блоках:

- [Блок формы](/handbook/ui/blocks/data-blocks/form#%D0%9F%D1%80%D0%B0%D0%B2%D0%B8%D0%BB%D0%B0-%D1%81%D0%B2%D1%8F%D0%B7%D0%B5%D0%B9)
- [Блок детализации](/handbook/ui/blocks/data-blocks/details#%D0%9F%D1%80%D0%B0%D0%B2%D0%B8%D0%BB%D0%B0-%D1%81%D0%B2%D1%8F%D0%B7%D0%B5%D0%B9)
- [Подформа](/handbook/ui/fields/specific/nester) (требуется версия v1.3.17-beta или выше)
- [Подтаблица](/handbook/ui/fields/specific/sub-table) (требуется версия v1.3.17-beta или выше)

## Инструкции по использованию

#### **Блок формы**

В блоках формы правила связей могут динамически изменять атрибуты полей на основе условий:

- **Управление видимостью полей**: Определять видимость текущего поля на основе значений других полей.
- **Установка обязательности полей**: Динамически делать поле обязательным или необязательным.
- **Присвоение значений**: Автоматически заполнять поля значениями на основе условий.
- **Настройка опций**: Динамически обновлять доступные варианты в выпадающих списках.
- **Ограничение диапазона дат**: В полях даты/времени ограничивать выбираемый диапазон.

#### **Блок детализации**

В блоках детализации правила связей в основном используются для управления видимостью полей.

![20250418161037](https://static-docs.nocobase.com/20250418161037.png)

## Связи атрибутов
### Присвоение значений

Пример: При отметке заказа как дополнительного, статус автоматически устанавливается в "Ожидает проверки".

![20250418161712](https://static-docs.nocobase.com/20250418161712.png)

### Обязательные поля

Пример: При статусе "Ожидает оплаты" сумма заказа становится обязательной.

![20250418163252](https://static-docs.nocobase.com/20250418163252.png)

### Видимость/Скрытие

Пример: Способ оплаты отображается только при статусе "Ожидает оплаты".

![20250418163733](https://static-docs.nocobase.com/20250418163733.png)

### Опции

> **Примечание**: Доступно с версии `v1.7.0-beta.2`.

Динамическая настройка опций для полей типа `select`, `radioGroup` и других на основе изменений в форме.

Пример: "Рассрочка" доступна только при сумме заказа свыше 10 000.

![20250418164806](https://static-docs.nocobase.com/20250418164806.png)

Пример работы:

<video width="100%" height="440" controls>
    <source src="https://static-docs.nocobase.com/20250418164831.mp4" type="video/mp4">
</video>

### Диапазон дат

> **Примечание**: Доступно с версии `v1.7.0-beta.2`.

Динамическое ограничение выбираемого диапазона дат на основе других полей формы.

Пример: Дата доставки не может быть раньше даты заказа.

![20250418165500](https://static-docs.nocobase.com/20250418165500.png)

Пример: Дата доставки ограничена сегодняшним днем и крайним сроком заказа.

![20250418170520](https://static-docs.nocobase.com/20250418170520.png)

Подробнее см. [Правила связей](/handbook/ui/linkage-rule).
