### **Блок формы**

#### **Введение**

Блок формы — это основной блок для создания интерфейсов ввода и редактирования данных. Он обладает высокой степенью настраиваемости и использует соответствующие компоненты в зависимости от модели данных для отображения необходимых полей. С помощью правил связывания блок формы может динамически отображать поля. Кроме того, его можно комбинировать с рабочими процессами для автоматического запуска процессов и обработки данных, что дополнительно повышает эффективность работы или позволяет реализовывать логическую оркестровку.

#### **Добавление блока**

#### **Параметры настройки блока**

![Параметры](https://static-docs.nocobase.com/20240416220148.png)

##### **Правила связывания**

Управление поведением полей формы с помощью правил связывания.

![Связывание](https://static-docs.nocobase.com/20240416220254.png)

Более подробно см. в разделе [Правила связывания](/handbook/ui/blocks/block-settings/field-linkage-rule).

##### **Шаблоны данных формы (поддерживаются только для форм создания новых записей)**

Цель шаблонов данных формы — упростить процесс ввода данных и повысить эффективность. Путем фильтрации одной записи или группы записей в диапазоне данных в качестве шаблона, выбранный шаблон данных будет подставлен в форму в качестве значений по умолчанию.

![Пример](https://static-docs.nocobase.com/20240408143719.png)

![Пример](https://static-docs.nocobase.com/20240424143911.png)

- Отфильтруйте одну запись или группу записей в качестве шаблонных данных.
- Выберите поле заголовка для идентификации шаблонных данных.
- Выберите поля шаблона — выбранные поля будут автоматически подставлены в форму.

##### **Синхронизация из полей формы**

Автоматически анализирует настроенные поля в текущем блоке формы как поля шаблона.  
Если в будущем будут внесены изменения в поля блока формы (например, изменение компонентов полей связи), вы можете снова открыть настройку шаблона и нажать кнопку синхронизации, чтобы обеспечить согласованность между формой и шаблоном.

Следующие поля **не** будут включены в шаблон данных:

- Первичный ключ
- Внешний ключ
- Поля с запретом дублирования
- Поля сортировки
- Поля последовательности
- Пароль
- Создано пользователем
- Дата создания
- Последнее обновление пользователем
- Дата последнего обновления

##### **Для полей связи**

- Обычные поля и поля связей `hasOne` и `hasMany` копируются.
- Поля связей `belongsTo` и `belongsToMany` ссылаются, но ссылки могут превращаться в копии. Например, при изменении селектора на подформу, связь изменяется со ссылки на копию (после копирования все поля становятся необязательными).

##### **Примеры сценариев**

**Описание сценария:** Платформа электронной коммерции регулярно добавляет новые товары, многие атрибуты которых схожи или идентичны уже существующим товарам.

**Решение:** Выберите существующий товар в качестве шаблона и используйте его атрибуты как шаблон данных формы. При создании нового товара пользователь может выбрать применение этого шаблона, что позволит быстро скопировать атрибуты из шаблона в новую запись, повысив эффективность ввода.

**Создание шаблона рекламной акции**

![Пример](https://static-docs.nocobase.com/20240408145855.png)

**Быстрое создание рекламных товаров**

- [Редактировать заголовок блока](/handbook/ui/blocks/block-settings/block-title)
- [Сохранить как шаблон блока](/handbook/block-template)

#### **Настройка полей**

##### **Поля текущей коллекции**

![Поля](https://static-docs.nocobase.com/20240416230739.png)

##### **Поля связанных коллекций**

Поля из связанных таблиц в форме доступны только для чтения и обычно используются в сочетании с полями связи для отображения нескольких значений связанных данных.

![Поля](https://static-docs.nocobase.com/20240416230811.png)

Параметры настройки полей формы см. в разделе [Поля формы](/handbook/ui/fields/generic/form-item).

#### **Настройка действий**

![Действия](https://static-docs.nocobase.com/20240417115249.png)

- [Отправить](/handbook/ui/actions/types/submit)
- [Сохранить данные](/handbook/ui/actions/types/save-record)
- [Пользовательский запрос](/handbook/action-custom-request)
- [Запустить рабочий процесс](/handbook/workflow/manual/triggers/cutom-action-trigger)
