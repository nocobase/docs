# Отношение «Один к одному» (One-to-One)

В отношениях между сотрудниками и личными профилями действует связь «один к одному»: 
каждый сотрудник может иметь только один персональный профиль, и каждый профиль может 
быть привязан только к одному сотруднику.

В таких связях внешний ключ можно разместить как в исходной коллекции, так и в целевой. 
Если связь описывает "имеет" (having one), внешний ключ уместнее размещать в целевой коллекции. 
Если связь означает "принадлежит" (belonging to), внешний ключ лучше поместить в исходную коллекцию.

Например, если сотрудник **имеет (having one)** персональный профиль, и этот профиль **принадлежит (belonging to)** сотруднику,
то логично поместить внешний ключ в коллекцию профилей.

## Один к одному — «Имеет» (Having One)

Означает, что сотрудник имеет одну запись профиля.

**ER-диаграмма:**

![alt text](https://static-docs.nocobase.com/4359e128936bbd7c9ff51bcff1d646dd.png)

**Настройка поля:**

![alt text](https://static-docs.nocobase.com/7665a87e094b4fb50c9426a108f87105.png)

## Один к одному — «Принадлежит» (Belonging)

Означает, что профиль принадлежит определённому сотруднику.

**ER-диаграмма:**

![alt text](https://static-docs.nocobase.com/31e7cc3e630220cf1e98753ca24ac72d.png)

**Настройка поля:**

![alt text](https://static-docs.nocobase.com/4f09eeb3c7717d61a349842da43c187c.png)

## Описание параметров

### Исходная коллекция (Source Collection)

Коллекция, в которой находится текущее поле.

### Целевая коллекция (Target Collection)

Коллекция, с которой устанавливается связь.

### Внешний ключ (Foreign Key)

Поле, которое устанавливает связь между двумя коллекциями. В отношениях один к одному внешний ключ может находиться как в исходной, так и в целевой коллекции:
- Если выражает «имеет», внешний ключ размещают в **целевой** коллекции;
- Если выражает «принадлежит», внешний ключ размещают в **исходной** коллекции.

### Ключ источника ← Внешний ключ (если ключ в целевой коллекции)

Поле, на которое ссылается внешний ключ. Оно должно быть уникальным. Такой подход описывает связь типа «имеет».

### Ключ цели ← Внешний ключ (если ключ в исходной коллекции)

Поле, на которое ссылается внешний ключ. Оно должно быть уникальным. Такой подход описывает связь типа «принадлежит».

### ON DELETE

**ON DELETE** определяет поведение при удалении записи из родительской коллекции. 
Эта опция задаётся при создании внешнего ключа и определяет, что произойдёт с дочерними записями:

- **CASCADE**: При удалении родительской записи автоматически удаляются связанные дочерние записи.
- **SET NULL**: Внешний ключ в дочерней коллекции устанавливается в `NULL`.
- **RESTRICT**: (по умолчанию) — не позволяет удалить запись, если есть связанные данные.
- **NO ACTION**: Поведение иденти
