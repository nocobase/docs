# Отношение «Один ко многим» (One-to-Many)

Отношения между классом и его учениками — это пример связи типа «один ко многим»: 
один класс может включать нескольких студентов, но каждый студент принадлежит только одному классу.

**ER-диаграмма:**

![alt text](https://static-docs.nocobase.com/9475f044d123d28ac8e56a077411f8dc.png)

**Настройка полей:**

![alt text](https://static-docs.nocobase.com/a608ce54821172dad7e8ab760107ff4e.png)

## Описание параметров

### Исходная коллекция (Source Collection)

Коллекция, в которой находится текущее поле (в данном примере — *классы*).

### Целевая коллекция (Target Collection)

Коллекция, с которой устанавливается связь (в данном примере — *студенты*).

### Ключ исходной коллекции (Source Key)

Поле в исходной коллекции, на которое ссылается внешний ключ. Оно должно быть уникальным.

### Внешний ключ (Foreign Key)

Поле в целевой коллекции, которое используется для установления связи между двумя коллекциями. 
Оно ссылается на `Source Key` в родительской коллекции.

### Ключ целевой коллекции (Target Key)

Поле в целевой коллекции, отображаемое для каждой строки в блоке связей. 
Обычно это уникальное или человеко-читаемое поле (например, имя).

### ON DELETE

Опция **ON DELETE** определяет поведение при удалении записи в родительской коллекции (в нашем примере — *класс*), к которой привязаны записи в дочерней коллекции (*студенты*).

Доступные варианты:

- **CASCADE**: При удалении записи в родительской коллекции автоматически удаляются все связанные записи в дочерней коллекции.
- **SET NULL**: При удалении родительской записи внешний ключ в дочерней коллекции устанавливается в `NULL`.
- **RESTRICT**: (по умолчанию) — не позволяет удалить родительскую запись, если есть связанные дочерние записи.
- **NO ACTION**: Поведение аналогично `RESTRICT` — удаление блокируется при наличии связанных записей.
