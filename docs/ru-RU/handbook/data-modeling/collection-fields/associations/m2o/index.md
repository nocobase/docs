# Отношение «Многие к одному» (Many-to-One)

В базе данных библиотеки есть две сущности: **книги** и **авторы**. 
Один автор может написать несколько книг, но каждая книга обычно принадлежит только одному автору.
В этом случае между авторами и книгами устанавливается связь типа «многие к одному».

**ER-диаграмма:**

![alt text](https://static-docs.nocobase.com/eaeeac974844db05c75cf0deeedf3652.png)

**Настройка полей:**

![alt text](https://static-docs.nocobase.com/3b4484ebb98d82f832f3dbf752bd84c9.png)

## Описание параметров

### Исходная коллекция (Source Collection)

Коллекция, в которой находится текущее поле (в нашем примере — *книги*).

### Целевая коллекция (Target Collection)

Коллекция, с которой устанавливается связь (в нашем примере — *авторы*).

### Внешний ключ (Foreign Key)

Поле в исходной коллекции, которое используется для установления связи между двумя коллекциями. 
Оно содержит значение, ссылающееся на запись в целевой коллекции.

### Ключ целевой коллекции (Target Key)

Поле в целевой коллекции, на которое ссылается внешний ключ. Это поле должно быть уникальным.

### ON DELETE

**ON DELETE** определяет поведение связей при удалении записи в целевой (родительской) коллекции.
Эта опция задаётся при создании внешнего ключа.

Варианты поведения:

- **CASCADE**: При удалении записи в целевой коллекции, все связанные записи в исходной коллекции удаляются автоматически.
- **SET NULL**: При удалении родительской записи значение внешнего ключа в связанных записях обнуляется (устанавливается в `NULL`).
- **RESTRICT**: (по умолчанию) — запрещает удаление записи в целевой коллекции, если к ней есть привязанные записи в исходной.
- **NO ACTION**: Поведение аналогично `RESTRICT` — удаление родительской записи блокируется, если есть связанные дочерние записи.
