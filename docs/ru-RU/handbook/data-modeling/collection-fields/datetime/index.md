# Типы полей даты и времени

## Классификация типов полей

Типы полей даты и времени можно разделить на следующие категории:

- **DateTime (с часовым поясом):** Значения стандартизированы в UTC (Всемирное координированное время) и могут корректироваться с учетом часовых поясов.
- **DateTime (без часового пояса):** Хранит дату и время без учета часового пояса.
- **Date (без времени):** Хранит только дату, без временной составляющей.
- **Time:** Хранит только время, без даты.
- **Unix Timestamp:** Количество секунд, прошедших с 1 января 1970 года.

## Примеры значений

| **Тип поля**                  | **Пример значения**        | **Описание**                                      |
|-------------------------------|---------------------------|--------------------------------------------------|
| DateTime (с часовым поясом)   | 2024-08-24T07:30:00.000Z  | Конвертируется в UTC с учетом часового пояса     |
| DateTime (без часового пояса) | 2024-08-24 15:30:00       | Хранит дату и время без учета пояса              |
| Date (без времени)            | 2024-08-24                | Только дата                                      |
| Time                          | 15:30:00                  | Только время                                     |
| Unix Timestamp                | 1724437800                | Секунды с 1970-01-01 00:00:00 UTC               |

## Сравнение в разных СУБД

| **Тип поля**                  | **NocoBase**              | **MySQL**                | **PostgreSQL**                     |
|-------------------------------|--------------------------|--------------------------|------------------------------------|
| DateTime (с поясом)           | Datetime с timezone      | TIMESTAMP/DATETIME       | TIMESTAMP WITH TIME ZONE           |
| DateTime (без пояса)          | Datetime без timezone    | DATETIME                 | TIMESTAMP WITHOUT TIME ZONE        |
| Date (без времени)            | Date                     | DATE                     | DATE                               |
| Time                          | Time                     | TIME                     | TIME WITHOUT TIME ZONE             |
| Unix Timestamp                | Unix timestamp           | INTEGER/BIGINT           | INTEGER/BIGINT                     |
| Time (с поясом)               | -                        | -                        | TIME WITH TIME ZONE                |

**Примечание:**
- TIMESTAMP в MySQL поддерживает диапазон от `1970-01-01 00:00:01 UTC` до `2038-01-19 03:14:07 UTC`. Для значений вне этого диапазона рекомендуется использовать DATETIME или BIGINT.

## Особенности хранения

### С часовым поясом

![Схема обработки](https://static-docs.nocobase.com/20240824191933.png)

**Важно:**
- NocoBase использует тип DATETIME в MySQL для полей с часовым поясом
- Значения конвертируются на основе TZ-переменной сервера
- Прямое отображение UTC-значений может вызвать путаницу

### Без часового пояса

![Схема обработки](https://static-docs.nocobase.com/20240824185600.png)

## UTC и локальное время

UTC (Всемирное координированное время) - глобальный стандарт времени. Разница между UTC и локальным временем может вызывать путаницу:

| **Часовой пояс** | **DateTime**              |
|------------------|--------------------------|
| UTC              | 2024-08-24T07:30:00.000Z |
| UTC+8            | 2024-08-24 15:30:00      |
| UTC+5            | 2024-08-24 12:30:00      |
| UTC-5            | 2024-08-24 02:30:00      |
| UTC+0            | 2024-08-24 07:30:00      |
| UTC-6            | 2024-08-23 01:30:00      |

Все эти значения представляют один и тот же момент времени в разных часовых поясах.
