# Пользовательский запрос
<PluginInfo name="action-custom-request"></PluginInfo>

## Обзор

## Установка

Плагин встроен в систему, установка не требуется.

## Инструкция по использованию

![20240426120014](https://static-docs.nocobase.com/20240426120014.png)

### Настройка прав

При включении опции **«Можно настраивать интерфейс»** становится доступна настройка пользовательских запросов.

![20240426114957](https://static-docs.nocobase.com/20240426114957.png)

Таблица `customRequests` является системной, а доступ к ней управляется через метод `acl.registerSnippet`.

```typescript
this.app.acl.registerSnippet({
  name: 'ui.customRequests', // Право на конфигурацию интерфейса, связанного с ui.*
  actions: ['customRequests:*'],
});
```

### Переменные

Можно задавать переменные как в URL, так и в теле запроса:

- Текущая запись
- Текущий пользователь
- Текущее время
- API токен (поддерживается с версии v1.3.22-beta и выше)

![20240426120953](https://static-docs.nocobase.com/20240426120953.png)

![20240426121051](https://static-docs.nocobase.com/20240426121051.png)

## Конфигурация операций

### Настройки запроса

![20240426120131](https://static-docs.nocobase.com/20240426120131.png)

### Контроль доступа

Каждому пользовательскому запросу можно задать права доступа по ролям. По умолчанию доступ открыт для всех пользователей.

![20240426120451](https://static-docs.nocobase.com/20240426120451.png)
