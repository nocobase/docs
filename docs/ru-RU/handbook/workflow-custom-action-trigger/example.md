# Пример

Представьте, что у нас есть коллекция «Sample». Для образцов, помеченных как «Collected», необходима операция «Send to Testing». Эта операция сначала проверяет основную информацию образца, генерирует запись «Testing», а затем обновляет статус образца на «Testing». Весь этот процесс слишком сложен, чтобы его можно было обработать простым нажатием кнопок «Create, Read, Update, Delete». 
В таких сценариях идеальным решением являются события настраиваемых операций.

Для начала создайте коллекцию «Sample» и коллекцию «Testing» и введите некоторые основные тестовые данные в коллекцию Sample:

![Example_Sample_Data_Table](https://static-docs.nocobase.com/20240509172234.png)

Далее вам нужно будет создать "workflow" «Custom action Event». Если вам требуется немедленная обратная связь во время операции, выберите синхронный режим (имейте в виду, что синхронный режим не поддерживает асинхронные узлы, такие как вмешательство человека):

![Example_Create_Workflow](https://static-docs.nocobase.com/20240509173106.png)

В конфигурации триггера выберите «Sample» в качестве коллекции:

![Example_Trigger_Configuration](https://static-docs.nocobase.com/20240509173148.png)

Теперь организуйте логику процесса в соответствии с потребностями вашего бизнеса. Например, вы можете настроить ее так, чтобы операция «Отправить на тестирование» была разрешена только в том случае, если параметр индекса превышает `90`; в противном случае выдается соответствующее предупреждение:

![Example_Business_Logic_Arrangement](https://static-docs.nocobase.com/20240509174159.png)

:::info{title=Note}
Узел "[Response Message](../../nodes/response-message.md)" может использоваться в синхронных событиях настраиваемых операций для отправки сообщений обратной связи клиенту. Эта функция недоступна в асинхронном режиме.
:::

После настройки и включения рабочего процесса вернитесь в интерфейс таблицы и добавьте кнопку «Запустить рабочий процесс» в столбце операций:

![Example_Add_Operation_Button](https://static-docs.nocobase.com/20240509174525.png)

Далее в меню конфигурации кнопки выберите опцию привязки "workflow" и откройте окно конфигурации:

![Example_Open_Workflow_Binding_Popup](https://static-docs.nocobase.com/20240509174633.png)

Добавьте "workflow", который был включен ранее:

![Example_Select_Workflow](https://static-docs.nocobase.com/20240509174723.png)

После отправки переименуйте кнопку, чтобы отразить действие, например «Тестирование», и настройка завершена.

Чтобы использовать эту функцию, выберите любой образец данных из таблицы и нажмите кнопку «Отправить на тестирование», чтобы запустить событие пользовательской операции. Согласно заранее установленной логике, если параметр индекса образца ниже 90, вы увидите предупреждающее сообщение, подобное этому:

![Example_Inspection_Criteria_Not_Met](https://static-docs.nocobase.com/20240509175026.png)

Если параметр индекса больше 90, процесс будет продолжаться, как и ожидалось, создавая запись «Тестирование записи» и обновляя статус образца на «Тестирование»:

![Example_Inspection_Successful](https://static-docs.nocobase.com/20240509175247.png)

И вот вам — простое событие пользовательской операции. Этот подход можно аналогичным образом применить к другим сложным бизнес-операциям, таким как обработка заказов или отправка отчетов, используя пользовательские события операций для достижения желаемых результатов.
