# Синхронизация данных пользователей из WeCom

<PluginInfo commercial="true" name="wecom"></PluginInfo>

## Введение

Плагин **WeCom** позволяет синхронизировать данные пользователей и подразделений из WeCom с NocoBase.

## Создание и настройка приложения WeCom

1. Создайте кастомное приложение в админ-панели WeCom
2. Получите следующие параметры:
   - **ID предприятия** (Corporate ID)
   - **ID приложения** (AgentID) 
   - **Секретный ключ** (Secret)

Подробная инструкция доступна в разделе [Аутентификация пользователей - WeCom](./auth).

## Добавление источника синхронизации в NocoBase

1. Перейдите в раздел: Пользователи и права > Синхронизация > Добавить
2. Заполните необходимые данные:

![](https://static-docs.nocobase.com/202412041251867.png)

## Настройка синхронизации адресной книги

1. В админ-панели WeCom перейдите: Безопасность и управление > Инструменты управления
2. Выберите "Синхронизация адресной книги":

![](https://static-docs.nocobase.com/202412041249958.png)

3. Настройте доверенные IP-адреса предприятия:

![](https://static-docs.nocobase.com/202412041250776.png)

После завершения этих шагов можно начинать синхронизацию данных.

## Настройка сервера приема событий

Для оперативного обновления данных при изменениях в WeCom необходимо:

1. Скопировать адрес для callback-уведомлений:

![](https://static-docs.nocobase.com/202412041256547.png)

2. Ввести этот адрес в настройках WeCom
3. Получить Token и EncodingAESKey
4. Завершить настройку источника данных в NocoBase:

![](https://static-docs.nocobase.com/202412041257947.png)

Теперь система будет автоматически синхронизировать изменения пользователей и подразделений.
