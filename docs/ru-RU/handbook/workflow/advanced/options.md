# Расширенные настройки

## Режимы выполнения

Выполнение рабочего процесса зависит от выбранного при создании типа триггера и может происходить в режиме **«Асинхронно»** или **«Синхронно»**. 

- В **асинхронном режиме** после срабатывания события рабочий процесс попадает в очередь выполнения и обрабатывается по одному фоновым планировщиком.
- В **синхронном режиме** после срабатывания рабочий процесс не попадает в очередь, а сразу запускается и возвращает результат немедленно после завершения.

По умолчанию асинхронно выполняются события: коллекции, после действия, пользовательские действия, по расписанию и согласование. Событие «перед действием» по умолчанию выполняется синхронно. 

При этом события коллекции, после действия и пользовательские действия поддерживают оба режима, и при создании рабочего процесса можно выбрать нужный:

![Синхронный режим: создание синхронного рабочего процесса](https://static-docs.nocobase.com/39bc0821f50c1bde4729c531c6236795.png)

Примечание:

Синхронные рабочие процессы ограничены своим режимом и **не могут использовать узлы, возвращающие статус «в ожидании»**, такие как «Ручной процесс» и другие подобные.

## Автоматическое удаление истории

При частом запуске рабочих процессов можно уменьшить нагрузку на базу данных и снизить количество шумных записей, настроив автоматическое удаление истории выполнения.

Аналогично, в окне создания и редактирования рабочего процесса можно указать, нужно ли автоматически удалять историю для этого процесса:

![Настройка автоматического удаления истории](https://static-docs.nocobase.com/b2e4c08e7a01e213069912fe04baa7bd.png)

Удаление истории можно настраивать в зависимости от статуса выполнения. Чаще всего рекомендуется выбирать только статус **«Успешно»**, чтобы сохранить историю неудачных запусков для последующей диагностики.

Рекомендуется **не включать** автоматическое удаление истории при отладке рабочих процессов, чтобы иметь возможность анализировать логику выполнения по истории.

Примечание:

Удаление истории выполнения **не влияет** на счётчик уже выполненных рабочих процессов.
