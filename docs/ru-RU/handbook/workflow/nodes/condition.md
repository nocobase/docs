# Условие

Аналогично оператору `if` в языках программирования, узел «Условие» определяет направление дальнейшего выполнения рабочего процесса на основе результата настроенного условия.

## Создание узла

Существует два режима работы узла «Условие»: «Продолжить, если „истина“» и «Продолжить, если „истина“ или „ложь“». При создании узла необходимо выбрать один из этих режимов, и после создания изменить его в настройках уже нельзя.

![Выбор режима для условия](https://static-docs.nocobase.com/3de27308c1179523d8606c66bf3a5fb4.png)

В режиме **«Продолжить, если „истина“»** рабочий процесс продолжит выполнение последующих узлов только в случае, если результат проверки условия — «истина». В противном случае выполнение будет прервано, и рабочий процесс завершится досрочно со статусом «ошибка».

![Режим «Продолжить, если „истина“»](https://static-docs.nocobase.com/0f6ae1afe61d501f8eb1f6dedb3d4ad7.png)

Этот режим подходит для сценариев, в которых дальнейшее выполнение недопустимо при невыполнении условия. Например, при настройке кнопки формы для отправки заказа, привязанной к событию «Перед действием», если на складе недостаточно товара, процесс не должен продолжаться и создавать заказ, а должен завершиться с ошибкой.

В режиме **«Продолжить, если „истина“ или „ложь“»** узел условия создаёт две ветви рабочего процесса — одну для случая «истина», другую — для случая «ложь». В каждой ветви можно независимо настроить последующие узлы. После завершения выполнения любой из ветвей управление автоматически возвращается в основную ветвь (на уровень выше узла условия), и выполнение продолжается.

![Режим «Продолжить, если „истина“ или „ложь“»](https://static-docs.nocobase.com/974a1fcd8603629b64ffce6c55d59282.png)

Этот режим подходит для сценариев, в которых при выполнении и невыполнении условия нужно выполнять разные действия. Например, проверить, существует ли запись, и если не существует — добавить её, а если существует — обновить.

## Настройка узла

### Вычислительный движок

В настоящее время поддерживаются три движка:

- **Базовый**: вычисляет логический результат с помощью простых бинарных операций и группировки с помощью «И» и «ИЛИ».
- **Math.js**: вычисляет логический результат на основе выражений, поддерживаемых движком [Math.js](https://mathjs.org/).
- **Formula.js**: вычисляет логический результат на основе выражений, поддерживаемых движком [Formula.js](https://formulajs.info/).

Во всех трёх случаях в качестве операндов можно использовать переменные из контекста рабочего процесса.
