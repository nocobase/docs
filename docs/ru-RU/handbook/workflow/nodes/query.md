# Запрос записи

Используется для поиска и получения записей данных, соответствующих определённым условиям, из коллекции.

Можно настроить запрос одной или нескольких записей. Результат запроса можно использовать как переменную в последующих узлах. При запросе нескольких записей результатом будет массив. При пустом результате можно выбрать, следует ли продолжать выполнение последующих узлов.

## Создание узла

В интерфейсе настройки рабочего процесса нажмите кнопку «+» и добавьте узел «Запросить запись»:

![Запросить запись — Добавление](https://static-docs.nocobase.com/c1ef2b851b437806faf7a39c6ab9d33a.png)

## Настройка узла

![Запросить запись — Настройка узла](https://static-docs.nocobase.com/20240520131324.png)

### Коллекция

Выберите коллекцию, из которой нужно выполнить запрос.

### Тип результата

Существует два типа результата: «Одна запись» и «Несколько записей»:

- **Одна запись**: результатом будет объект первой найденной записи или `null`, если подходящих записей нет.
- **Несколько записей**: результатом будет массив найденных записей или пустой массив (`[]`), если записи не найдены. Может использоваться для обработки в узле цикла.

### Условия фильтрации

Аналогично условиям фильтрации при обычном запросе к коллекции. Можно использовать переменные контекста рабочего процесса.

### Сортировка

При запросе одной или нескольких записей можно задать правила сортировки для получения нужного результата. Например, чтобы получить самую свежую запись, отсортируйте по полю «Дата создания» в порядке убывания.

### Пагинация

Если набор результатов может быть большим, можно использовать пагинацию для ограничения количества возвращаемых записей. Например, чтобы получить 10 самых свежих записей, отсортируйте по полю «Время создания» по убыванию и установите пагинацию: 1 страница, 10 записей на странице.

### Обработка пустого результата

В режиме одной записи, если нет подходящих данных, результат будет `null`. В режиме нескольких записей — пустой массив (`[]`). Можно выбрать опцию «Прервать выполнение рабочего процесса, если результат запроса пуст». При включении этой опции, если результат пуст, последующие узлы выполняться не будут, и рабочий процесс завершится досрочно со статусом «ошибка».
