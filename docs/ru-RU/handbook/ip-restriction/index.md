# Ограничение по IP-адресам

<PluginInfo licenseBundled="true" name="ip-restriction"></PluginInfo>

## Введение

NocoBase позволяет администраторам настраивать белые и чёрные списки IP-адресов пользователей, чтобы ограничить несанкционированные внешние подключения или блокировать известные вредоносные IP-адреса, тем самым снижая риски безопасности. Также поддерживается просмотр журналов отказов в доступе для выявления подозрительных IP-адресов.

## Настройка правил

![2025-01-23-10-07-34-20250123100733](https://static-docs.nocobase.com/2025-01-23-10-07-34-20250123100733.png)

### Режимы фильтрации по IP

- **Чёрный список**: если IP-адрес пользователя совпадает с адресом из списка, система **запрещает** доступ; все остальные IP-адреса по умолчанию **разрешены**.
- **Белый список**: если IP-адрес пользователя совпадает с адресом из списка, система **разрешает** доступ; все остальные IP-адреса по умолчанию **запрещены**.

### Список IP-адресов

Используется для определения IP-адресов, которым разрешён или запрещён доступ к системе. Его функция зависит от выбранного режима фильтрации. Поддерживается ввод как отдельных IP-адресов, так и CIDR-сетей. Несколько адресов можно разделять запятыми или переносами строк.

## Просмотр журналов

После отказа в доступе IP-адрес пользователя записывается в системный журнал, и соответствующий файл журнала можно скачать для анализа.

![2025-01-17-13-33-51-20250117133351](https://static-docs.nocobase.com/2025-01-17-13-33-51-20250117133351.png)

Пример записи в журнале:

![2025-01-14-14-42-06-20250114144205](https://static-docs.nocobase.com/2025-01-14-14-42-06-20250114144205.png)

## Рекомендации по настройке

### Рекомендации для режима чёрного списка

- Добавляйте известные вредоносные IP-адреса, чтобы предотвратить возможные сетевые атаки.
- Регулярно проверяйте и обновляйте чёрный список, удаляя устаревшие или ненужные IP-адреса.

### Рекомендации для режима белого списка

- Добавляйте доверенные внутренние IP-адреса (например, офисные сетевые сегменты), чтобы обеспечить безопасный доступ к критически важным системам.
- Избегайте включения в белый список динамически выделяемых IP-адресов, чтобы предотвратить перебои в доступе.

### Общие рекомендации

- Используйте CIDR-сети для упрощения настройки, например, вместо добавления отдельных IP-адресов укажите сеть `192.168.0.0/24`.
- Регулярно создавайте резервные копии конфигурации списка IP-адресов, чтобы быстро восстановиться после ошибок или сбоев системы.
- Регулярно отслеживайте журналы доступа, выявляйте подозрительные IP-адреса и своевременно корректируйте чёрный или белый список.
