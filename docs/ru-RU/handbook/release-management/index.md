### Управление выпусками

#### Введение

На практике для обеспечения безопасности данных и стабильности приложения обычно используются несколько сред, например, среда разработки, промежуточная среда (предрелизная) и производственная среда. В этом документе приведены примеры двух распространённых процессов низко- и безкодовой разработки, а также подробно описано, как реализовать управление выпусками в NocoBase.

#### Установка

Для управления выпусками необходимы три плагина. Убедитесь, что все следующие плагины активированы.

##### Переменные окружения

- Встроенный плагин, по умолчанию установлен и активирован.
- Обеспечивает централизованную настройку и управление переменными окружения и ключами, используется для хранения конфиденциальных данных, повторно используемых конфигурационных параметров, изоляции по средам и т.д. ([Просмотреть документацию](environment-variables)).

##### Менеджер резервного копирования

- Доступен только в Professional-версии и выше ([Подробнее](https://www.nocobase.com/en/commercial)).
- Поддерживает создание резервных копий и восстановление, включая расписание резервного копирования, обеспечивая безопасность данных и быстрое восстановление. ([Просмотреть документацию](/handbook/backups)).

##### Менеджер миграций

- Доступен только в Professional-версии и выше ([Подробнее](https://www.nocobase.com/en/commercial)).
- Используется для переноса конфигураций приложения из одной среды в другую ([Просмотреть документацию](/handbook/migration-manager)).

#### Распространённые процессы безкодовой разработки

##### Одна среда разработки, односторонний выпуск

Этот подход подходит для простых процессов разработки. Используются одна среда разработки, одна предрелизная среда и одна производственная среда. Изменения передаются из среды разработки в предрелизную среду, а затем развертываются в производственной среде. В этом процессе конфигурации можно изменять только в среде разработки — в предрелизной и производственной средах изменения запрещены.

![20250106234710](https://static-docs.nocobase.com/20250106234710.png)

При настройке правил миграции, при необходимости, выберите **«Перезаписать»** для встроенных таблиц в ядре и плагинах; для всех остальных можно оставить настройки по умолчанию, если нет особых требований.

![20250105194845](https://static-docs.nocobase.com/20250105194845.png)

##### Несколько сред разработки, объединённый выпуск

Этот подход подходит для командной разработки или сложных проектов. Несколько параллельных сред разработки могут использоваться независимо, а все изменения объединяются в одну предрелизную среду для тестирования и проверки, после чего развертываются в производственной среде. В этом процессе конфигурации можно изменять только в средах разработки — в предрелизной и производственной средах изменения запрещены.

![20250107103829](https://static-docs.nocobase.com/20250107103829.png)

При настройке правил миграции, при необходимости, выберите **«Вставить или обновить»** для встроенных таблиц в ядре и плагинах; для всех остальных можно оставить настройки по умолчанию, если нет особых требований.

![20250105194942](https://static-docs.nocobase.com/20250105194942.png)

#### Откат изменений

Перед выполнением миграции система автоматически создаёт резервную копию текущего приложения. Если миграция завершилась с ошибкой или результат не соответствует ожиданиям, вы можете выполнить откат и восстановление с помощью [Менеджера резервного копирования](/handbook/backups).

![20250105195029](https://static-docs.nocobase.com/20250105195029.png)
