# Настройка триггера

#### Создание workflow

Для создания workflow выберите тип триггера "Событие после действия":

![Создание workflow с триггером пост-действия](https://static-docs.nocobase.com/13c87035ec1bb7332514676d3e896007.png)

#### Режим выполнения

При настройке событий после действия доступны два режима выполнения:

![Выбор синхронного или асинхронного режима](https://static-docs.nocobase.com/bc83525c7e539d578f9e2e20baf9ab69.png)

Используйте синхронный режим, если процесс должен выполняться и предоставлять обратную связь сразу после действия пользователя. В остальных случаях подходит асинхронный режим по умолчанию, где действие пользователя завершается мгновенно, а workflow продолжает выполняться в фоновом режиме.

#### Настройка таблицы данных

Для начала настройки перейдите на холст workflow и кликните на триггер, чтобы открыть окно параметров. Сначала выберите таблицу данных для привязки:

![Выбор таблицы данных](https://static-docs.nocobase.com/35c49a91eba731127edcf76719c97634.png)

#### Выбор режима триггера

Затем определите режим срабатывания - локальный или глобальный:

![Выбор режима триггера](https://static-docs.nocobase.com/317809c48b2f2a2d38aedc7d08abdadc.png)

- **Локальный режим**: workflow срабатывает только на явно привязанных кнопках действий. Подходит для кастомизации под конкретные формы.
- **Глобальный режим**: workflow активируется любой кнопкой действия в таблице, независимо от происхождения формы.

В локальном режиме можно привязать:
- Кнопки "Отправить" и "Сохранить" в новых формах
- Кнопки "Отправить" и "Сохранить" в формах редактирования
- Кнопку "Обновить данные" в строках таблиц

#### Выбор типа действия

В глобальном режиме укажите тип действия:
- "Создание записи"
- "Обновление записи"

Workflow запускается после успешного выполнения выбранной операции.

#### Предзагрузка связанных данных

Если последующие шаги требуют связанных данных, выберите соответствующие поля отношений для предзагрузки:

![Предзагрузка связей](https://static-docs.nocobase.com/5cded063509c7ba1d34f49bec8d68227.png)

Эти данные будут доступны во всем workflow после срабатывания.
