# create-nocobase-app

Остальные шаги не отличаются от [create-nocobase-app](/welcome/getting-started/installation/create-nocobase-app).

<embed src="./env-note.md"></embed>
- При развёртывании в продакшн-среде, чтобы уменьшить размер проекта, можно установить только необходимые зависимости командой: `yarn install --production`
<br />

[>>> Для получения дополнительной информации смотрите полный список 'Переменные окружения' <<<](/welcome/getting-started/env)

## Управление процессами приложения

В NocoBase уже встроен менеджер процессов [PM2](https://pm2.keymetrics.io/) для управления приложением.  
В продакшн-среде вы можете просто использовать команду:

```bash
yarn start
```
Если требуется запустить процесс в фоновом режиме, добавьте флаг -d, например:
```bash
# Запустить в фоновом режиме
yarn start -d
```

Перезапустить

```bash
yarn nocobase pm2-restart
```

Остановить

```bash
yarn nocobase pm2-stop
```

Посмотреть другие команды PM2

```bash
yarn nocobase pm2 -h
```

## Настройка Nginx

В продакшн-среде вы можете настроить проксирование статических файлов через Nginx.  
NocoBase предоставляет команду `create-nginx-conf` для генерации конфигурационных файлов Nginx.

```bash
yarn nocobase create-nginx-conf
```

Файл конфигурации будет сохранён по пути `./storage/nocobase.conf`. При необходимости отредактируйте его под вашу инфраструктуру, а затем добавьте в каталог `/etc/nginx/sites-enabled`, например:

```bash
ln -s /app/nocobase/storage/nocobase.conf /etc/nginx/sites-enabled/nocobase.conf
```

**Примечания**

- При развёртывании в подкаталоге необходимо задать переменную окружения `APP_PUBLIC_PATH`. После этого **необходимо заново выполнить** команду `create-nginx-conf`;
- Отредактируйте сгенерированный файл `nocobase.conf` в соответствии с вашими требованиями, например, укажите нужное доменное имя;
- Путь `/app/nocobase/` — это пример расположения приложения, его нужно изменить в соответствии с вашей структурой проекта;
- Каталог `/etc/nginx/sites-enabled` — это путь по умолчанию для конфигураций Nginx. В вашем окружении он может отличаться — проверьте командой `nginx -V`;
- Если вы не используете Nginx, вы всё равно можете взять данную конфигурацию за основу и адаптировать её под используемый веб-сервер.

