# v1.0.1-alpha.1: 2024-06-07

## Новые функции

### Блоки поддерживают настройку высоты (<a href="https://github.com/nocobase/nocobase/pull/4441" target="_blank">#4441</a>)

![20240603115253](https://static-docs.nocobase.com/20240603115253.gif)

Документация:

- [Настройка высоты блока](/handbook/ui/blocks/block-settings/block-height)

### Действие "Ссылка": переход по указанному URL  (<a href="https://github.com/nocobase/nocobase/pull/4506" target="_blank">#4506</a>)

Поддержка переменных в URL и параметрах запроса.

<video width="100%" height="440" controls>

 <source src="https://static-docs.nocobase.com/20240603224044.mp4" type="video/mp4">

</video>

Документация:

- [Действие "Ссылка"](/handbook/ui/actions/types/link)

### Add a new variable called "URL search params" (<a href="https://github.com/nocobase/nocobase/pull/4506" target="_blank">#4506</a>)

Доступна только при наличии строки запроса в URL страницы, что упрощает использование вместе с[действием "Ссылка"](/handbook/ui/actions/types/link).

![20240603170651](https://static-docs.nocobase.com/20240603170651.png)

Документация:

- [Параметры URL-запроса](/handbook/ui/variables#url-search-params)
- [Действие "Ссылка"](/handbook/ui/actions/types/link)

### Поддержка переменных в iframe (<a href="https://github.com/nocobase/nocobase/pull/4512" target="_blank">#4512</a>)

![20240603114711](https://static-docs.nocobase.com/20240603114711.png)

![20240603114750](https://static-docs.nocobase.com/20240603114750.png)

Документация:

- [Блок iframe](/handbook/block-iframe)

### Настройка размера и типа файлов в хранилищах (<a href="https://github.com/nocobase/nocobase/pull/4118" target="_blank">#4118</a>)

![20240603115303](https://static-docs.nocobase.com/20240603115303.png)

Документация:

- [Файловые хранилища](/handbook/file-manager/storage)

### Рабочие процессы: поддержка выбора части пути объектов данных как значения переменных

![20240531211727](https://static-docs.nocobase.com/20240531211727.png)

### Поддержка предпросмотра URL-полей  (<a href="https://github.com/nocobase/nocobase/pull/4559" target="_blank">#4559</a>)

В текущей версии поддерживается только предпросмотр изображений.

![337101796-916a6c97-bc08-4560-9526-53e482e2ac6c](https://static-docs.nocobase.com/337101796-916a6c97-bc08-4560-9526-53e482e2ac6c.gif)

### Визуализация данных: поддержка переменных "Параметры URL-запроса" и "Текущая роль"  (<a href="https://github.com/nocobase/nocobase/pull/4586" target="_blank">#4586</a>)

![data-visualization-filter-block](https://static-docs.nocobase.com/202406071148997.png)

![data-visualization-filter](https://static-docs.nocobase.com/202406071149567.png)

## Улучшения

### Оптимизация импорта и экспорта (<a href="https://github.com/nocobase/nocobase/pull/4468" target="_blank">#4468</a>)

Улучшена стабильность функции импорта и экспорта, увеличен лимит импорта и экспорта до 2000 записей. Поддержка расширенной логики импорта и экспорта пользовательских типов полей.

![20240611112948](https://static-docs.nocobase.com/20240611112948.png)

### Избегание ошибочных действий путем отключения опции переменной даты (<a href="https://github.com/nocobase/nocobase/pull/4452" target="_blank">#4452</a>)

За исключением "текущего времени", переменные, представляющие даты, являются интервалами (массивами), а не моментами (строками). Они могут использоваться для фильтрации, но не могут напрямую использоваться как значения по умолчанию.

![20240527150429](https://static-docs.nocobase.com/20240527150429.png)

### Оптимизация взаимодействия правила связи (<a href="https://github.com/nocobase/nocobase/pull/4492" target="_blank">#4492</a>)

Поля с множественным выбором не показывают опции назначения. Если выбрано поле с одиночным выбором и выполнено назначение, затем переключение на поле с множественным выбором очистит конфигурацию.

![20240603143309](https://static-docs.nocobase.com/20240603143309.png)

### Корректировка иконки в правом верхнем углу столбца действий в блоке таблицы (<a href="https://github.com/nocobase/nocobase/pull/4538" target="_blank">#4538</a>)

![20240603115131](https://static-docs.nocobase.com/20240603115131.png)

### Обработка ошибок  (<a href="https://github.com/nocobase/nocobase/pull/4459" target="_blank">#4459</a>)

Уточнение обработки ошибок для различных компонентов на стороне клиента, чтобы предотвратить выход из строя всей страницы из-за ошибки на стороне клиента.

![error-fallback](https://static-docs.nocobase.com/20240604122043_rec_.gif)

### Сбор информации для отладки и быстрая загрузка логов при ошибке на стороне клиента （<a href="https://github.com/nocobase/nocobase/pull/4524" target="_blank">#4524</a>）

![error-fallback-log](https://static-docs.nocobase.com/202406041224009.png)

### Другие улучшения

- Изменение ограничения длины имени пользователя на 1-50 символов (<a href="https://github.com/nocobase/nocobase/pull/4502" target="_blank">#4502</a>)
- Не скрывать поля внешнего ключа（<a href="https://github.com/nocobase/nocobase/pull/4499" target="_blank">#4499</a>）

## Исправления ошибок

### Область данных в диалоговом окне настройки разрешений не должна поддерживать переменные "Текущая форма" и "Текущая всплывающая запись". (<a href="https://github.com/nocobase/nocobase/pull/4484" target="_blank">#4484</a>)

![20240527145519](https://static-docs.nocobase.com/20240527145519.png)

### Поддержка прямого выбора значения переменной в качестве значения по умолчанию для поля связи (<a href="https://github.com/nocobase/nocobase/pull/4439" target="_blank">#4439</a>)

![20240603121447](https://static-docs.nocobase.com/20240603121447.png)

### Исправлена ошибка при многократном добавлении действия "Пользовательский запрос". (<a href="https://github.com/nocobase/nocobase/pull/4458" target="_blank">#4458</a>)

![20240603115234](https://static-docs.nocobase.com/20240603115234.png)

### Другие

- Исправлена проблема, из-за которой содержимое вложенной таблицы не очищалось после отправки формы. (<a href="https://github.com/nocobase/nocobase/pull/4475" target="_blank">#4475</a>)
- Исправлена проблема с неправильным использованием переменной "Текущий объект" во вложенной таблице. (<a href="https://github.com/nocobase/nocobase/pull/4521" target="_blank">#4521</a>)
- добавлена опция "Устанавливать уровень масштабирования по умолчанию" для полей карты. (<a href="https://github.com/nocobase/nocobase/pull/4527" target="_blank">#4527</a>)
- Исправлена проблема, из-за которой блок не отображался при добавлении блока с использованием шаблонов блоков во всплывающем окне. (<a href="https://github.com/nocobase/nocobase/pull/4531" target="_blank">#4531</a>)
- Исправлена проблема со стилем шаблонов данных формы. (<a href="https://github.com/nocobase/nocobase/pull/4536" target="_blank">#4536</a>)
- Рабочий процесс: стиль поля выражений исчез в узле вычислений. (<a href="https://github.com/nocobase/nocobase/pull/4513" target="_blank">#4513</a>)
- Рабочий процесс: неверный тип поля при создании в пользовательской форме узла вручную. (<a href="https://github.com/nocobase/nocobase/pull/4519" target="_blank">#4519</a>)
- Рабочий процесс: проблема с разрешением на запуск пользовательского события действия. (<a href="https://github.com/nocobase/nocobase/pull/4522" target="_blank">#4522</a>)
- Рабочий процесс: неправильная настройка глубины предварительной загрузки для нескольких источников данных. (<a href="https://github.com/nocobase/nocobase/pull/4526" target="_blank">#4526</a>)
- ошибка в библиотеке json-шаблонов. (<a href="https://github.com/nocobase/nocobase/pull/4525" target="_blank">#4525</a>)
- Файловый менеджер: ошибка при загрузке или удалении файла на COS. (<a href="https://github.com/nocobase/nocobase/pull/4529" target="_blank">#4529</a>, <a href="https://github.com/nocobase/nocobase/pull/4537" target="_blank">#4537</a>)
- Правило привязки формы отображает [object Объект] при присвоении числовому полю значения 0,00. (<a href="https://github.com/nocobase/nocobase/pull/4482" target="_blank">#4482</a>)
- В подтаблице отсутствует элемент настройки элемента управления для кнопки "Добавить новую". (<a href="https://github.com/nocobase/nocobase/pull/4498" target="_blank">#4498</a>)
- В кнопке "Отправить" в форме редактирования таблицы отсутствует элемент настройки правила привязки. (<a href="https://github.com/nocobase/nocobase/pull/4515" target="_blank">#4515</a>)
- Визуализация данных: устранена проблема с невидимостью компонентов полей при установке значений по умолчанию для полей фильтра диаграммы (<a href="https://github.com/nocobase/nocobase/pull/4509" target="_blank">#4509</a>)
- Проверка подлинности: устранена проблема, из-за которой страница регистрации не была найдена для недавно созданного базового средства проверки подлинности. (<a href="https://github.com/nocobase/nocobase/pull/4556" target="_blank">#4556</a>)
- Локализация: исправлена ошибка, из-за которой заголовки страниц не переводились при переводе текстов меню. (<a href="https://github.com/nocobase/nocobase/pull/4557" target="_blank">#4557</a>)
- Map: исправлена ошибка, из-за которой AMap отображал ошибку ключа, несмотря на правильную настройку. (<a href="https://github.com/nocobase/nocobase/pull/4574" target="_blank">#4574</a>)
