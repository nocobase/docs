# RelationRepository (Репозиторий для связей)

`RelationRepository` - это объект `Repository` для работы с реляционными связями, позволяющий выполнять операции над связанными данными без их предварительной загрузки. На основе `RelationRepository` реализованы специализированные репозитории для каждого типа связей:

- [`HasOneRepository`](#has-one-repository) (один-к-одному)
- `HasManyRepository` (один-ко-многим)
- `BelongsToRepository` (многие-к-одному)
- `BelongsToManyRepository` (многие-ко-многим)

## Конструктор

**Сигнатура**

- `constructor(sourceCollection: Collection, association: string, sourceKeyValue: string | number)`

**Параметры**

| Название параметра | Тип               | Значение по умолчанию | Описание                                                  |
|--------------------|-------------------|-----------------------|-----------------------------------------------------------|
| `sourceCollection` | `Collection`      | -                     | Коллекция, содержащая ссылку в отношении                  |
| `association`      | `string`          | -                     | Название связи                                            |
| `sourceKeyValue`   | `string \| number`| -                     | Ключевое значение соответствующей ссылки в отношении      |

## Свойства базового класса

### `db: Database`

Объект базы данных

### `sourceCollection`

Коллекция, содержащая ссылку в отношении

### `targetCollection`

Коллекция, на которую ссылается отношение

### `association`

Объект ассоциации Sequelize, соответствующий текущей связи

### `associationField`

Поле в коллекции, соответствующее текущей связи

### `sourceKeyValue`

Ключевое значение соответствующей ссылки в отношении

## Основные особенности

1. Позволяет работать со связанными данными без их явной загрузки
2. Предоставляет единый интерфейс для разных типов связей
3. Автоматически определяет тип связи и соответствующее поведение
4. Поддерживает транзакции на уровне базы данных
5. Интегрирован с системой коллекций NocoBase
