# Массив

## {{after}}

Возвращает все элементы массива, следующие после указанного индекса. Противоположность вспомогательной функции [before](#before).

**Параметры**

* `array` **{Array}**: Коллекция
* `n` **{Number}**: Начальный индекс (количество элементов, которые нужно исключить)
* `returns` **{Array}**: Массив, исключающий `n` первых элементов.

**Пример**

```handlebars
<!-- array: ['a', 'b', 'c'] -->
{{after array 1}}
<!-- результат: '["c"]' -->
```

## {{arrayify}}

Преобразует заданное значение `value` в массив.

**Параметры**

* `value` **{any}**
* `returns` **{Array}**

**Пример**

```handlebars
{{arrayify "foo"}}
<!-- результат: [ "foo" ] -->
```

## {{before}}

Возвращает все элементы коллекции, расположенные до указанного количества. Противоположность [after](#after).

**Параметры**

* `array` **{Array}**
* `n` **{Number}**
* `returns` **{Array}**: Массив, исключающий элементы после указанного числа.

**Пример**

```handlebars
<!-- array: ['a', 'b', 'c'] -->
{{before array 2}}
<!-- результат: '["a", "b"]' -->
```

## {{eachIndex}}

**Параметры**

* `array` **{Array}**
* `options` **{Object}**
* `returns` **{String}**

**Пример**

```handlebars
<!-- array: ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h'] -->
{{#eachIndex array}}
  {{item}} — это {{index}}
{{/eachIndex}}
```

## {{filter}}

Блочный хелпер, который фильтрует заданный массив и отображает блок для значений, оцениваемых как `true`, в противном случае возвращается блок `else`.

**Параметры**

* `array` **{Array}**
* `value` **{any}**
* `options` **{Object}**
* `returns` **{String}**

**Пример**

```handlebars
<!-- array: ['a', 'b', 'c'] -->
{{#filter array "foo"}}AAA{{else}}BBB{{/filter}}
<!-- результат: 'BBB' -->
```

## {{first}}

Возвращает первый элемент или первые `n` элементов массива.

**Параметры**

* `array` **{Array}**
* `n` **{Number}**: Количество элементов для возврата, начиная с `0`.
* `returns` **{Array}**

**Пример**

```handlebars
{{first "['a', 'b', 'c', 'd', 'e']" 2}}
<!-- результат: '["a", "b"]' -->
```

## {{forEach}}

Перебирает каждый элемент массива и предоставляет текущий элемент в качестве контекста внутреннему блоку. Помимо текущего элемента массива, хелпер предоставляет следующие переменные:

* `index` — индекс текущего элемента
* `total` — общее количество элементов
* `isFirst` — `true`, если элемент первый
* `isLast` — `true`, если элемент последний

Также доступна приватная переменная `@index`, а дополнительные приватные переменные могут быть заданы через хэш-аргументы.

**Параметры**

* `array` **{Array}**
* `returns` **{String}**

**Пример**

```handlebars
<!-- accounts = [
{'name': 'John', 'email': 'john@example.com'},
{'name': 'Malcolm', 'email': 'malcolm@example.com'},
{'name': 'David', 'email': 'david@example.com'}
] -->

{{#forEach accounts}}
  <a href="mailto:{{ email }}" title="Отправить письмо {{ name }}">
    {{ name }}
  </a>{{#unless isLast}}, {{/unless}}
{{/forEach}}
```

## {{inArray}}

Блочный хелпер, который отображает блок, если массив содержит заданное `value`. Можно указать блок `else`, который будет отображаться, если значение не найдено.

**Параметры**

* `array` **{Array}**
* `value` **{any}**
* `options` **{Object}**
* `returns` **{String}**

**Пример**

```handlebars
<!-- array: ['a', 'b', 'c'] -->
{{#inArray array "d"}}
  foo
{{else}}
  bar
{{/inArray}}
<!-- результат: 'bar' -->
```

## {{isArray}}

Возвращает `true`, если `value` является массивом ES5.

**Параметры**

* `value` **{any}**: Значение для проверки.
* `returns` **{Boolean}**

**Пример**

```handlebars
{{isArray "abc"}}
<!-- результат: false -->

<!-- array: [1, 2, 3] -->
{{isArray array}}
<!-- результат: true -->
```

## {{itemAt}}

Возвращает элемент из `array` по индексу `idx`.

**Параметры**

* `array` **{Array}**
* `idx` **{Number}**
* `returns` **{any}** `value`

**Пример**

```handlebars
<!-- array: ['a', 'b', 'c'] -->
{{itemAt array 1}}
<!-- результат: 'b' -->
```

## {{join}}

Объединяет все элементы массива в строку, при этом можно указать разделитель (по умолчанию — запятая).

**Параметры**

* `array` **{Array}**
* `separator` **{String}**: Разделитель. По умолчанию: `,`.
* `returns` **{String}**

**Пример**

```handlebars
<!-- array: ['a', 'b', 'c'] -->
{{join array}}
<!-- результат: 'a, b, c' -->

{{join array '-'}}
<!-- результат: 'a-b-c' -->
```

## {{equalsLength}}

Возвращает `true`, если длина заданного `value` равна указанному `length`. Может использоваться как блочный или встроенный хелпер.

**Параметры**

* `value` **{Array|String}**
* `length` **{Number}**
* `options` **{Object}**
* `returns` **{String}**

## {{last}}

Возвращает последний элемент или последние `n` элементов массива или строки. Противоположность [first](#first).

**Параметры**

* `value` **{Array|String}**: Массив или строка.
* `n` **{Number}**: Количество элементов для возврата с конца.
* `returns` **{Array}**

**Пример**

```handlebars
<!-- value = ['a', 'b', 'c', 'd', 'e'] -->

{{last value}}
<!-- результат: ['e'] -->

{{last value 2}}
<!-- результат: ['d', 'e'] -->

{{last value 3}}
<!-- результат: ['c', 'd', 'e'] -->
```

## {{length}}

Возвращает длину заданной строки или массива.

**Параметры**

* `value` **{Array|Object|String}**
* `returns` **{Number}**: Длина значения.

**Пример**

```handlebars
{{length '["a", "b", "c"]'}}
<!-- результат: 3 -->

<!-- myArray = ['a', 'b', 'c', 'd', 'e']; -->
{{length myArray}}
<!-- результат: 5 -->

<!-- myObject = {'a': 'a', 'b': 'b'}; -->
{{length myObject}}
<!-- результат: 2 -->
```

## {{lengthEqual}}

Псевдоним для [equalsLength](#equalsLength)

## {{map}}

Возвращает новый массив, созданный путём вызова функции `fn` для каждого элемента заданного массива `array`.

**Параметры**

* `array` **{Array}**: исходный массив
* `fn` **{Function}**: функция, применяемая к каждому элементу
* `returns` **{Array}**: новый массив с результатами применения функции

**Пример**

```handlebars
<!-- array: ['a', 'b', 'c'], и "double" — предполагаемая функция, удваивающая символы -->
{{map array double}}
<!-- результат: '["aa", "bb", "cc"]' -->
```

## {{pluck}}

Преобразует массив объектов в массив значений указанного свойства `prop`. Для доступа к вложенным свойствам можно использовать точечную нотацию (в виде строки).

**Параметры**

* `collection` **{Array|Object}**: массив или объект для обработки
* `prop` **{String}**: имя свойства (поддерживается `dot.notation`)
* `returns` **{Array}**: массив значений свойства

**Пример**

```handlebars
<!-- items: [{data: {title: 'aa'}}, {data: {title: 'bb'}}, {data: {title: 'cc'}}] -->
{{pluck items "data.title"}}
<!-- результат: '["aa", "bb", "cc"]' -->
```

## {{reverse}}

Разворачивает элементы массива или символы строки в обратном порядке.

**Параметры**

* `value` **{Array|String}**: массив или строка
* `returns` **{Array|String}**: развернутый массив или строка

**Пример**

```handlebars
<!-- value: 'abcd' -->
{{reverse value}}
<!-- результат: 'dcba' -->

<!-- value: ['a', 'b', 'c', 'd'] -->
{{reverse value}}
<!-- результат: ['d', 'c', 'b', 'a'] -->
```

## {{some}}

Блочный хелпер, который отображает содержимое блока, если функция-итератор `iter` возвращает `true` хотя бы для одного элемента массива.

**Параметры**

* `array` **{Array}**: массив для проверки
* `iter` **{Function}**: функция-итератор (предикат)
* `options` **{Options}**: объект опций Handlebars
* `returns` **{String}**: результат рендеринга

**Пример**

```handlebars
<!-- array: [1, 'b', 3] -->
{{#some array isString}}
  Отобразить, если в массиве есть строка.
{{else}}
  Отобразить, если нет.
{{/some}}
<!-- результат: 'Отобразить, если в массиве есть строка.' -->
```

## {{sort}}

Сортирует заданный массив. Если передан массив объектов, можно указать имя свойства `key` для сортировки. Также можно передать функцию сортировки.

**Параметры**

* `array` **{Array}**: массив для сортировки
* `key` **{String|Function}**: свойство объекта или функция сортировки

**Пример**

```handlebars
<!-- array: ['b', 'a', 'c'] -->
{{sort array}}
<!-- результат: '["a", "b", "c"]' -->
```

## {{sortBy}}

Сортирует массив. Поддерживает сортировку по одному или нескольким свойствам или с помощью функции сортировки.

**Параметры**

* `array` **{Array}**: массив для сортировки
* `props` **{String|Function}**: одно или несколько свойств или функции сортировки

**Пример**

```handlebars
<!-- array: [{a: 'zzz'}, {a: 'aaa'}] -->
{{sortBy array "a"}}
<!-- результат: '[{"a":"aaa"}, {"a":"zzz"}]' -->
```

## {{withAfter}}

Использует элементы массива, находящиеся **после** указанного индекса, как контекст внутри блока. Противоположность [withBefore](#withBefore).

**Параметры**

* `array` **{Array}**
* `idx` **{Number}**: индекс, после которого берутся элементы
* `options` **{Object}**: опции Handlebars
* `returns` **{String}**: результат рендеринга

**Пример**

```handlebars
<!-- array: ['a', 'b', 'c', 'd', 'e'] -->
{{#withAfter array 3}}
  {{this}}
{{/withAfter}}
<!-- результат: "de" -->
```

## {{withBefore}}

Использует элементы массива, находящиеся **до** указанного индекса, как контекст внутри блока. Противоположность [withAfter](#withAfter).

**Параметры**

* `array` **{Array}**
* `idx` **{Number}**: индекс, до которого берутся элементы
* `options` **{Object}**
* `returns` **{String}**

**Пример**

```handlebars
<!-- array: ['a', 'b', 'c', 'd', 'e'] -->
{{#withBefore array 3}}
  {{this}}
{{/withBefore}}
<!-- результат: 'ab' -->
```

## {{withFirst}}

Использует первый элемент коллекции как контекст внутри блока. Противоположность [withLast](#withLast).

**Параметры**

* `array` **{Array}**
* `idx` **{Number}**: (не используется, вероятно, ошибка в документации)
* `options` **{Object}**
* `returns` **{String}**

**Пример**

```handlebars
<!-- array: ['a', 'b', 'c'] -->
{{#withFirst array}}
  {{this}}
{{/withFirst}}
<!-- результат: 'a' -->
```

## {{withGroup}}

Блочный хелпер, который разбивает массив на группы заданного размера.

**Параметры**

* `array` **{Array}**: массив для группировки
* `size` **{Number}**: размер каждой группы
* `options` **{Object}**: опции Handlebars
* `returns` **{String}**

**Пример**

```handlebars
<!-- array: ['a','b','c','d','e','f','g','h'] -->
{{#withGroup array 4}}
  {{#each this}}
    {{.}}
  {{/each}}
  <br>
{{/withGroup}}
<!-- результат:
'a','b','c','d'<br>
'e','f','g','h'<br> -->
```

## {{withLast}}

Использует последний элемент (или `n` последних) массива как контекст внутри блока. Противоположность [withFirst](#withFirst).

**Параметры**

* `array` **{Array}**
* `idx` **{Number}**: количество элементов с конца (по умолчанию 1)
* `options` **{Object}**
* `returns` **{String}**

**Пример**

```handlebars
<!-- array: ['a', 'b', 'c'] -->
{{#withLast array}}
  {{this}}
{{/withLast}}
<!-- результат: 'c' -->
```

## {{withSort}}

Блочный хелпер, который сортирует коллекцию и использует отсортированную коллекцию как контекст внутри блока.

**Параметры**

* `array` **{Array}**
* `prop` **{String}**: свойство для сортировки (опционально)
* `options` **{Object}**: можно указать `reverse="true"` для обратной сортировки
* `returns` **{String}**

**Пример**

```handlebars
<!-- array: ['b', 'a', 'c'] -->
{{#withSort array}}{{this}}{{/withSort}}
<!-- результат: 'abc' -->
```

## {{unique}}

Блочный хелпер, возвращающий массив с удалёнными дубликатами. Наиболее полезен в сочетании с хелпером [each](#each).

**Параметры**

* `array` **{Array}**: исходный массив
* `options` **{Object}**
* `returns` **{Array}**: массив без дубликатов

**Пример**

```handlebars
<!-- array: ['a', 'a', 'c', 'b', 'e', 'e'] -->
{{#each (unique array)}}{{.}}{{/each}}
<!-- результат: 'acbe' -->
```
