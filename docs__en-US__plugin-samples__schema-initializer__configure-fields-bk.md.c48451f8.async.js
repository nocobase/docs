"use strict";(self.webpackChunknocobase_docs=self.webpackChunknocobase_docs||[]).push([[84314],{225110:function(s,i,n){n.r(i);var d=n(572269),r=n(793359),x=n(861788),I=n(719977),v=n(20190),t=n(24268),h=n(496057),p=n(585939),m=n(28484),_=n(635206),j=n(375553),f=n(156266),g=n(572333),E=n(841118),F=n(39297),B=n(868526),b=n(605019),l=n(614651),c=n(280936),o=n(667294),e=n(302384),a=n(785893);function u(){return(0,a.jsx)(l.dY,{children:(0,a.jsx)(o.Suspense,{fallback:(0,a.jsx)(c.Z,{}),children:(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"markdown",children:[(0,a.jsxs)("h1",{id:"\u5B9E\u73B0\u6570\u636E\u5B57\u6BB5-initializer",children:[(0,a.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u5B9E\u73B0\u6570\u636E\u5B57\u6BB5-initializer",children:(0,a.jsx)("span",{className:"icon icon-link"})}),"\u5B9E\u73B0\u6570\u636E\u5B57\u6BB5 Initializer"]}),(0,a.jsxs)("h2",{id:"\u573A\u666F\u8BF4\u660E",children:[(0,a.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u573A\u666F\u8BF4\u660E",children:(0,a.jsx)("span",{className:"icon icon-link"})}),"\u573A\u666F\u8BF4\u660E"]}),(0,a.jsxs)("p",{children:[e.texts[0].value,(0,a.jsx)("code",{children:e.texts[1].value}),e.texts[2].value,(0,a.jsx)("code",{children:e.texts[3].value}),e.texts[4].value,(0,a.jsx)("code",{children:e.texts[5].value}),e.texts[6].value]}),(0,a.jsx)("p",{children:(0,a.jsx)("img",{src:"https://static-docs.nocobase.com/img_v3_02b4_111734a2-755f-4100-949d-96803ad1912g.jpg",alt:"img_v3_02b4_111734a2-755f-4100-949d-96803ad1912g"})}),(0,a.jsxs)("h2",{id:"\u793A\u4F8B\u8BF4\u660E",children:[(0,a.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u793A\u4F8B\u8BF4\u660E",children:(0,a.jsx)("span",{className:"icon icon-link"})}),"\u793A\u4F8B\u8BF4\u660E"]}),(0,a.jsxs)("p",{children:[e.texts[7].value,(0,a.jsx)(l.rU,{to:"/plugin-samples/schema-initializer/data-block",children:e.texts[8].value}),e.texts[9].value,(0,a.jsx)("code",{children:e.texts[10].value}),e.texts[11].value,(0,a.jsx)("code",{children:e.texts[12].value}),e.texts[13].value]}),(0,a.jsxs)("p",{children:[e.texts[14].value,(0,a.jsx)("a",{href:"https://github.com/nocobase/plugin-samples/tree/main/packages/plugins/%40nocobase-sample/plugin-initializer-configure-fields",children:e.texts[15].value}),e.texts[16].value]}),(0,a.jsxs)("video",{width:"100%",controls:!0,children:[e.texts[17].value,(0,a.jsx)("source",{src:"https://static-docs.nocobase.com/20240522-190508.mp4",type:"video/mp4"})]}),(0,a.jsxs)("h2",{id:"\u521D\u59CB\u5316\u63D2\u4EF6",children:[(0,a.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u521D\u59CB\u5316\u63D2\u4EF6",children:(0,a.jsx)("span",{className:"icon icon-link"})}),"\u521D\u59CB\u5316\u63D2\u4EF6"]}),(0,a.jsxs)("p",{children:[e.texts[18].value,(0,a.jsx)(l.rU,{to:"/development/your-fisrt-plugin",children:e.texts[19].value}),e.texts[20].value]}),(0,a.jsx)(t.Z,{lang:"bash",children:e.texts[21].value}),(0,a.jsx)("p",{children:e.texts[22].value}),(0,a.jsx)(t.Z,{lang:"bash",children:e.texts[23].value}),(0,a.jsx)("p",{children:e.texts[24].value}),(0,a.jsx)(t.Z,{lang:"bash",children:e.texts[25].value}),(0,a.jsxs)("p",{children:[e.texts[26].value,(0,a.jsx)("a",{href:"http://localhost:13000/admin/pm/list/local/",children:e.texts[27].value}),e.texts[28].value]}),(0,a.jsxs)("h2",{id:"\u529F\u80FD\u5B9E\u73B0",children:[(0,a.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u529F\u80FD\u5B9E\u73B0",children:(0,a.jsx)("span",{className:"icon icon-link"})}),"\u529F\u80FD\u5B9E\u73B0"]}),(0,a.jsx)("p",{children:e.texts[29].value}),(0,a.jsxs)("ul",{children:[(0,a.jsxs)("li",{children:[(0,a.jsx)(l.rU,{to:"/development/client/ui-schema/initializer",children:e.texts[30].value}),e.texts[31].value]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("a",{href:"https://client.docs.nocobase.com/core/ui-schema/schema-initializer",children:e.texts[32].value}),e.texts[33].value]}),(0,a.jsxs)("li",{children:[(0,a.jsx)(l.rU,{to:"/development/client/ui-schema/what-is-ui-schema",children:e.texts[34].value}),e.texts[35].value]}),(0,a.jsxs)("li",{children:[(0,a.jsx)(l.rU,{to:"/development/client/ui-schema/designable",children:e.texts[36].value}),e.texts[37].value]})]}),(0,a.jsxs)("h3",{id:"1-copy-\u4EE3\u7801\u5E76\u4FEE\u6539\u63D2\u4EF6\u540D\u79F0",children:[(0,a.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#1-copy-\u4EE3\u7801\u5E76\u4FEE\u6539\u63D2\u4EF6\u540D\u79F0",children:(0,a.jsx)("span",{className:"icon icon-link"})}),"1. Copy \u4EE3\u7801\u5E76\u4FEE\u6539\u63D2\u4EF6\u540D\u79F0"]}),(0,a.jsxs)("p",{children:[e.texts[38].value,(0,a.jsx)(l.rU,{to:"/plugin-samples/schema-initializer/data-block",children:e.texts[39].value}),e.texts[40].value,(0,a.jsx)("code",{children:e.texts[41].value}),e.texts[42].value,(0,a.jsx)("code",{children:e.texts[43].value}),e.texts[44].value]}),(0,a.jsxs)("p",{children:[e.texts[45].value,(0,a.jsx)("code",{children:e.texts[46].value}),e.texts[47].value]}),(0,a.jsx)(t.Z,{lang:"diff",children:e.texts[48].value}),(0,a.jsxs)("p",{children:[e.texts[49].value,(0,a.jsx)("code",{children:e.texts[50].value}),e.texts[51].value,(0,a.jsx)("code",{children:e.texts[52].value}),e.texts[53].value,(0,a.jsx)("code",{children:e.texts[54].value}),e.texts[55].value]}),(0,a.jsxs)("h3",{id:"2-\u521B\u5EFA-configure-fields-\u5BF9\u5E94\u7684-initializer",children:[(0,a.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#2-\u521B\u5EFA-configure-fields-\u5BF9\u5E94\u7684-initializer",children:(0,a.jsx)("span",{className:"icon icon-link"})}),"2. \u521B\u5EFA ",(0,a.jsx)("code",{children:e.texts[56].value})," \u5BF9\u5E94\u7684 initializer"]}),(0,a.jsxs)("p",{children:[e.texts[57].value,(0,a.jsx)("code",{children:e.texts[58].value}),e.texts[59].value]}),(0,a.jsx)(t.Z,{lang:"tsx",children:e.texts[60].value}),(0,a.jsxs)("ul",{children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("a",{href:"https://client.docs.nocobase.com/core/ui-schema/schema-initializer",children:e.texts[61].value}),e.texts[62].value]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{children:e.texts[63].value}),e.texts[64].value,(0,a.jsx)("a",{href:"https://ant.design/components/icon/",children:e.texts[65].value})]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{children:e.texts[66].value}),e.texts[67].value]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("a",{href:"https://client.docs.nocobase.com/core/ui-schema/schema-initializer#built-in-components-and-types",children:e.texts[68].value}),e.texts[69].value,(0,a.jsxs)("ul",{children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{children:e.texts[70].value}),e.texts[71].value]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{children:e.texts[72].value}),e.texts[73].value]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{children:e.texts[74].value}),e.texts[75].value]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{children:e.texts[76].value}),e.texts[77].value]})]})]})]}),(0,a.jsxs)("h3",{id:"3-\u6CE8\u518C-configure-fields-initializer",children:[(0,a.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#3-\u6CE8\u518C-configure-fields-initializer",children:(0,a.jsx)("span",{className:"icon icon-link"})}),"3. \u6CE8\u518C ",(0,a.jsx)("code",{children:e.texts[78].value})," initializer"]}),(0,a.jsxs)("p",{children:[e.texts[79].value,(0,a.jsx)("code",{children:e.texts[80].value}),e.texts[81].value]}),(0,a.jsx)(t.Z,{lang:"tsx",children:e.texts[82].value}),(0,a.jsxs)("h3",{id:"4-\u4FEE\u6539-getinfoblockschema-\u533A\u5757",children:[(0,a.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#4-\u4FEE\u6539-getinfoblockschema-\u533A\u5757",children:(0,a.jsx)("span",{className:"icon icon-link"})}),"4. \u4FEE\u6539 ",(0,a.jsx)("code",{children:e.texts[83].value})," \u533A\u5757"]}),(0,a.jsxs)("p",{children:[e.texts[84].value,(0,a.jsx)("code",{children:e.texts[85].value}),e.texts[86].value,(0,a.jsx)("code",{children:e.texts[87].value}),e.texts[88].value]}),(0,a.jsx)(t.Z,{lang:"diff",children:e.texts[89].value}),(0,a.jsxs)("p",{children:[e.texts[90].value,(0,a.jsx)("code",{children:e.texts[91].value}),e.texts[92].value,(0,a.jsx)("code",{children:e.texts[93].value}),e.texts[94].value,(0,a.jsx)("code",{children:e.texts[95].value}),e.texts[96].value,(0,a.jsx)("code",{children:e.texts[97].value}),e.texts[98].value,(0,a.jsx)("code",{children:e.texts[99].value}),e.texts[100].value,(0,a.jsx)("code",{children:e.texts[101].value}),e.texts[102].value,(0,a.jsx)("a",{href:"https://client.docs.nocobase.com/core/ui-schema/schema-initializer#useschemainitializerrender",children:e.texts[103].value}),e.texts[104].value,(0,a.jsx)("code",{children:e.texts[105].value}),e.texts[106].value]}),(0,a.jsxs)("h3",{id:"5-\u4FEE\u6539-infoblock-\u7EC4\u4EF6",children:[(0,a.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#5-\u4FEE\u6539-infoblock-\u7EC4\u4EF6",children:(0,a.jsx)("span",{className:"icon icon-link"})}),"5. \u4FEE\u6539 ",(0,a.jsx)("code",{children:e.texts[107].value})," \u7EC4\u4EF6"]}),(0,a.jsxs)("p",{children:[e.texts[108].value,(0,a.jsx)("code",{children:e.texts[109].value}),e.texts[110].value,(0,a.jsx)("code",{children:e.texts[111].value}),e.texts[112].value]}),(0,a.jsx)(t.Z,{lang:"tsx",children:e.texts[113].value}),(0,a.jsxs)("p",{children:[(0,a.jsx)("code",{children:e.texts[114].value}),e.texts[115].value,(0,a.jsx)("code",{children:e.texts[116].value}),e.texts[117].value,(0,a.jsx)("code",{children:e.texts[118].value}),e.texts[119].value,(0,a.jsx)("code",{children:e.texts[120].value}),e.texts[121].value]}),(0,a.jsxs)("video",{width:"100%",controls:!0,children:[e.texts[122].value,(0,a.jsx)("source",{src:"https://static-docs.nocobase.com/20240522-190759.mp4",type:"video/mp4"})]}),(0,a.jsxs)("h3",{id:"6-\u8BFB\u53D6\u6570\u636E\u8868\u5B57\u6BB5\u4F5C\u4E3A-configure-fields-\u7684\u5B50\u9879",children:[(0,a.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#6-\u8BFB\u53D6\u6570\u636E\u8868\u5B57\u6BB5\u4F5C\u4E3A-configure-fields-\u7684\u5B50\u9879",children:(0,a.jsx)("span",{className:"icon icon-link"})}),"6. \u8BFB\u53D6\u6570\u636E\u8868\u5B57\u6BB5\u4F5C\u4E3A ",(0,a.jsx)("code",{children:e.texts[123].value})," \u7684\u5B50\u9879"]}),(0,a.jsxs)("p",{children:[e.texts[124].value,(0,a.jsx)("code",{children:e.texts[125].value}),e.texts[126].value]}),(0,a.jsx)(t.Z,{lang:"tsx",children:e.texts[127].value}),(0,a.jsxs)("ul",{children:[(0,a.jsxs)("li",{children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("a",{href:"https://client.docs.nocobase.com/core/data-source/collection-provider#usecollection",children:e.texts[128].value}),e.texts[129].value,(0,a.jsx)("code",{children:e.texts[130].value}),e.texts[131].value,(0,a.jsx)("a",{href:"https://client.docs.nocobase.com/core/data-block/data-block-provider",children:e.texts[132].value}),e.texts[133].value,(0,a.jsx)("a",{href:"https://client.docs.nocobase.com/core/data-source/collection-provider",children:e.texts[134].value}),e.texts[135].value]}),(0,a.jsx)("ul",{children:(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{children:e.texts[136].value}),e.texts[137].value]})})]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("p",{children:e.texts[138].value}),(0,a.jsxs)("ul",{children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{children:e.texts[139].value}),e.texts[140].value]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{children:e.texts[141].value}),e.texts[142].value,(0,a.jsx)("code",{children:e.texts[143].value}),e.texts[144].value,(0,a.jsx)("code",{children:e.texts[145].value}),e.texts[146].value,(0,a.jsx)("code",{children:e.texts[147].value}),e.texts[148].value,(0,a.jsx)("a",{href:"https://client.docs.nocobase.com/core/data-source/collection-field",children:e.texts[149].value})]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{children:e.texts[150].value}),e.texts[151].value,(0,a.jsx)("a",{href:"https://client.docs.nocobase.com/core/ui-schema/schema-initializer#type-switch--schemainitializerswitch",children:e.texts[152].value}),e.texts[153].value,(0,a.jsx)("code",{children:e.texts[154].value}),e.texts[155].value]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{children:e.texts[156].value}),e.texts[157].value]})]})]})]}),(0,a.jsx)("p",{children:(0,a.jsx)("img",{src:"https://static-docs.nocobase.com/img_v3_02b4_7d5c145e-cb15-4d93-9004-bde406e42a5g.jpg",alt:"img_v3_02b4_7d5c145e-cb15-4d93-9004-bde406e42a5g"})}),(0,a.jsxs)("h3",{id:"7-\u5B9E\u73B0-switch-\u7684\u6DFB\u52A0\u548C\u5220\u9664",children:[(0,a.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#7-\u5B9E\u73B0-switch-\u7684\u6DFB\u52A0\u548C\u5220\u9664",children:(0,a.jsx)("span",{className:"icon icon-link"})}),"7. \u5B9E\u73B0 ",(0,a.jsx)("code",{children:e.texts[158].value})," \u7684\u6DFB\u52A0\u548C\u5220\u9664"]}),(0,a.jsxs)("p",{children:[e.texts[159].value,(0,a.jsx)("code",{children:e.texts[160].value}),e.texts[161].value]}),(0,a.jsx)(t.Z,{lang:"diff",children:e.texts[162].value}),(0,a.jsxs)("ul",{children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("a",{href:"https://client.docs.nocobase.com/core/ui-schema/designable#usedesignable",children:e.texts[163].value}),e.texts[164].value]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("a",{href:"https://client.docs.nocobase.com/core/ui-schema/schema-initializer#useschemainitializer",children:e.texts[165].value}),e.texts[166].value,(0,a.jsx)("ul",{children:(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{children:e.texts[167].value}),e.texts[168].value,(0,a.jsx)("code",{children:e.texts[169].value}),e.texts[170].value,(0,a.jsx)("code",{children:e.texts[171].value}),e.texts[172].value,(0,a.jsx)("code",{children:e.texts[173].value}),e.texts[174].value,(0,a.jsx)("code",{children:e.texts[175].value}),e.texts[176].value,(0,a.jsx)("code",{children:e.texts[177].value}),e.texts[178].value,(0,a.jsx)("code",{children:e.texts[179].value}),e.texts[180].value,(0,a.jsx)("code",{children:e.texts[181].value}),e.texts[182].value]})})]})]}),(0,a.jsx)(t.Z,{lang:"tsx",children:e.texts[183].value}),(0,a.jsxs)("p",{children:[e.texts[184].value,(0,a.jsx)("code",{children:e.texts[185].value}),e.texts[186].value,(0,a.jsx)("code",{children:e.texts[187].value}),e.texts[188].value]}),(0,a.jsxs)("p",{children:[e.texts[189].value,(0,a.jsx)("code",{children:e.texts[190].value}),e.texts[191].value]}),(0,a.jsxs)("h3",{id:"8-\u5B8C\u5584\u5B50\u8282\u70B9-schema-\u548C\u7EC4\u4EF6",children:[(0,a.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#8-\u5B8C\u5584\u5B50\u8282\u70B9-schema-\u548C\u7EC4\u4EF6",children:(0,a.jsx)("span",{className:"icon icon-link"})}),"8. \u5B8C\u5584\u5B50\u8282\u70B9 Schema \u548C\u7EC4\u4EF6"]}),(0,a.jsx)(t.Z,{lang:"ts",children:e.texts[192].value}),(0,a.jsxs)("p",{children:[e.texts[193].value,(0,a.jsx)("code",{children:e.texts[194].value}),e.texts[195].value,(0,a.jsx)("code",{children:e.texts[196].value}),e.texts[197].value,(0,a.jsx)("code",{children:e.texts[198].value}),e.texts[199].value,(0,a.jsx)("code",{children:e.texts[200].value}),e.texts[201].value,(0,a.jsx)("code",{children:e.texts[202].value}),e.texts[203].value,(0,a.jsx)("code",{children:e.texts[204].value}),e.texts[205].value]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("code",{children:e.texts[206].value}),e.texts[207].value,(0,a.jsx)("code",{children:e.texts[208].value}),e.texts[209].value,(0,a.jsx)("code",{children:e.texts[210].value}),e.texts[211].value,(0,a.jsx)("a",{href:"https://client.docs.nocobase.com/core/data-source/collection#collectiongetfieldname",children:e.texts[212].value}),e.texts[213].value]}),(0,a.jsxs)("p",{children:[e.texts[214].value,(0,a.jsx)("code",{children:e.texts[215].value}),e.texts[216].value,(0,a.jsx)("code",{children:e.texts[217].value}),e.texts[218].value]}),(0,a.jsx)(t.Z,{lang:"ts",children:e.texts[219].value}),(0,a.jsxs)("video",{width:"100%",controls:!0,children:[e.texts[220].value,(0,a.jsx)("source",{src:"https://static-docs.nocobase.com/20240522-190508.mp4",type:"video/mp4"})]}),(0,a.jsxs)("h2",{id:"\u6253\u5305\u548C\u4E0A\u4F20\u5230\u751F\u4EA7\u73AF\u5883",children:[(0,a.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u6253\u5305\u548C\u4E0A\u4F20\u5230\u751F\u4EA7\u73AF\u5883",children:(0,a.jsx)("span",{className:"icon icon-link"})}),"\u6253\u5305\u548C\u4E0A\u4F20\u5230\u751F\u4EA7\u73AF\u5883"]}),(0,a.jsxs)("p",{children:[e.texts[221].value,(0,a.jsx)(l.rU,{to:"/development/your-fisrt-plugin#%E6%9E%84%E5%BB%BA%E5%B9%B6%E6%89%93%E5%8C%85%E6%8F%92%E4%BB%B6",children:e.texts[222].value}),e.texts[223].value]}),(0,a.jsx)("p",{children:e.texts[224].value}),(0,a.jsx)(t.Z,{lang:"bash",children:e.texts[225].value}),(0,a.jsxs)("p",{children:[e.texts[226].value,(0,a.jsx)("code",{children:e.texts[227].value}),e.texts[228].value]}),(0,a.jsx)(t.Z,{lang:"bash",children:e.texts[229].value}),(0,a.jsxs)("p",{children:[e.texts[230].value,(0,a.jsx)("code",{children:e.texts[231].value}),e.texts[232].value,(0,a.jsx)(l.rU,{to:"/welcome/getting-started/plugin",children:e.texts[233].value}),e.texts[234].value]})]})})})})}i.default=u},302384:function(s,i,n){n.r(i),n.d(i,{texts:function(){return d}});const d=[{value:"\u5982\u679C\u65B0\u521B\u5EFA\u7684\u533A\u5757\u662F\u4E00\u4E2A\u590D\u6742\u7684\u6570\u636E\u533A\u5757\uFF0C\u90A3\u4E48\u5B83\u5185\u90E8\u53EF\u80FD\u5305\u542B\u591A\u4E2A\u52A8\u6001\u6DFB\u52A0\u7684\u90E8\u5206\uFF0C\u5176\u4E2D\u91CD\u70B9\u5C31\u662F\u901A\u8FC7 ",paraId:0,tocIndex:1},{value:"Configure fields",paraId:0,tocIndex:1},{value:" \u5BF9\u5E94\u7684 initializer \u52A8\u6001\u6DFB\u52A0\u5B57\u6BB5\u3002\u4F8B\u5982 ",paraId:0,tocIndex:1},{value:"Form",paraId:0,tocIndex:1},{value:" \u533A\u5757\uFF0C\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7 ",paraId:0,tocIndex:1},{value:"Configure fields",paraId:0,tocIndex:1},{value:" \u6765\u914D\u7F6E\u663E\u793A\u7684\u5B57\u6BB5\u3002",paraId:0,tocIndex:1},{value:"\u672C\u5B9E\u4F8B\u4F1A\u5728 ",paraId:1,tocIndex:2},{value:"\u6DFB\u52A0\u6570\u636E\u533A\u5757 Data Block",paraId:2,tocIndex:2},{value:" \u57FA\u7840\u4E0A\u7EE7\u7EED\u5B9E\u73B0\u7C7B\u4F3C ",paraId:1,tocIndex:2},{value:"Form",paraId:1,tocIndex:2},{value:" \u533A\u5757\u7684\u6548\u679C\uFF0C\u901A\u8FC7 ",paraId:1,tocIndex:2},{value:"Configure fields",paraId:1,tocIndex:2},{value:" \u6765\u914D\u7F6E\u663E\u793A\u7684\u5B57\u6BB5\u3002",paraId:1,tocIndex:2},{value:"\u672C\u6587\u6863\u5B8C\u6574\u7684\u793A\u4F8B\u4EE3\u7801\u53EF\u4EE5\u5728 ",paraId:3,tocIndex:2},{value:"plugin-samples",paraId:3,tocIndex:2},{value:" \u4E2D\u67E5\u770B\u3002",paraId:3,tocIndex:2},{value:`
  `,paraId:4},{value:"\u6211\u4EEC\u6309\u7167 ",paraId:5,tocIndex:3},{value:"\u7F16\u5199\u7B2C\u4E00\u4E2A\u63D2\u4EF6",paraId:6,tocIndex:3},{value:" \u6587\u6863\u8BF4\u660E\uFF0C\u5982\u679C\u6CA1\u6709\u4E00\u4E2A\u9879\u76EE\uFF0C\u53EF\u4EE5\u5148\u521B\u5EFA\u4E00\u4E2A\u9879\u76EE\uFF0C\u5982\u679C\u5DF2\u7ECF\u6709\u4E86\u6216\u8005\u662F clone \u7684\u6E90\u7801\uFF0C\u5219\u8DF3\u8FC7\u8FD9\u4E00\u6B65\u3002",paraId:5,tocIndex:3},{value:`yarn create nocobase-app my-nocobase-app -d postgres
cd my-nocobase-app
yarn install
yarn nocobase install
`,paraId:7,tocIndex:3},{value:"\u7136\u540E\u521D\u59CB\u5316\u4E00\u4E2A\u63D2\u4EF6\uFF0C\u5E76\u6DFB\u52A0\u5230\u7CFB\u7EDF\u4E2D\uFF1A",paraId:8,tocIndex:3},{value:`yarn pm create @nocobase-sample/plugin-initializer-configure-fields
yarn pm enable @nocobase-sample/plugin-initializer-configure-fields
`,paraId:9,tocIndex:3},{value:"\u7136\u540E\u542F\u52A8\u9879\u76EE\u5373\u53EF\uFF1A",paraId:10,tocIndex:3},{value:`yarn dev
`,paraId:11,tocIndex:3},{value:"\u7136\u540E\u767B\u5F55\u540E\u8BBF\u95EE ",paraId:12,tocIndex:3},{value:"http://localhost:13000/admin/pm/list/local/",paraId:12,tocIndex:3},{value:" \u5C31\u53EF\u4EE5\u770B\u5230\u63D2\u4EF6\u5DF2\u7ECF\u5B89\u88C5\u5E76\u542F\u7528\u4E86\u3002",paraId:12,tocIndex:3},{value:"\u5728\u5B9E\u73B0\u672C\u793A\u4F8B\u4E4B\u524D\uFF0C\u6211\u4EEC\u9700\u8981\u5148\u4E86\u89E3\u4E00\u4E9B\u57FA\u7840\u77E5\u8BC6\uFF1A",paraId:13,tocIndex:4},{value:"SchemaInitializer \u6559\u7A0B",paraId:14,tocIndex:4},{value:"\uFF1A\u7528\u4E8E\u5411\u754C\u9762\u5185\u6DFB\u52A0\u5404\u79CD\u533A\u5757\u3001\u5B57\u6BB5\u3001\u64CD\u4F5C\u7B49",paraId:15,tocIndex:4},{value:"SchemaInitializer API",paraId:15,tocIndex:4},{value:"\uFF1A\u7528\u4E8E\u5411\u754C\u9762\u5185\u6DFB\u52A0\u5404\u79CD\u533A\u5757\u3001\u5B57\u6BB5\u3001\u64CD\u4F5C\u7B49",paraId:15,tocIndex:4},{value:"UI Schema",paraId:16,tocIndex:4},{value:"\uFF1A\u7528\u4E8E\u5B9A\u4E49\u754C\u9762\u7684\u7ED3\u6784\u548C\u6837\u5F0F",paraId:15,tocIndex:4},{value:"Designable \u8BBE\u8BA1\u5668",paraId:17,tocIndex:4},{value:"\uFF1A\u7528\u4E8E\u4FEE\u6539 Schema",paraId:15,tocIndex:4},{value:"\u524D\u9762\u5DF2\u7ECF\u8BF4\u660E\u672C\u793A\u4F8B\u4F1A\u5728 ",paraId:18,tocIndex:5},{value:"\u6DFB\u52A0\u6570\u636E\u533A\u5757 Data Block",paraId:19,tocIndex:5},{value:" \u57FA\u7840\u4E0A\u7EE7\u7EED\u5B9E\u73B0\uFF0C\u6240\u4EE5\u6211\u4EEC\u53EF\u4EE5\u590D\u5236 ",paraId:18,tocIndex:5},{value:"packages/plugins/@nocobase-sample/plugin-initializer-block-data/src/client",paraId:18,tocIndex:5},{value:" \u76EE\u5F55\u8986\u76D6 ",paraId:18,tocIndex:5},{value:"packages/plugins/@nocobase-sample/plugin-initializer-configure-fields/src/client",paraId:18,tocIndex:5},{value:"\u3002",paraId:18,tocIndex:5},{value:"\u7136\u540E\u4FEE\u6539 ",paraId:20,tocIndex:5},{value:"packages/plugins/@nocobase-sample/plugin-initializer-configure-fields/src/client/index.tsx",paraId:20,tocIndex:5},{value:"\uFF1A",paraId:20,tocIndex:5},{value:`import { Plugin } from '@nocobase/client';
import { InfoBlock, infoBlockSettings, infoBlockInitializerItem } from './InfoBlock';

- export class PluginInitializerBlockDataClient extends Plugin {
+ export class PluginInitializerConfigureFieldsClient extends Plugin {
  async load() {
    // ...
  }
}

- export default PluginInitializerBlockDataClient;
+ export default PluginInitializerConfigureFieldsClient;
`,paraId:21,tocIndex:5},{value:"\u4E3A\u4E86\u907F\u514D\u548C\u5176\u4ED6\u793A\u4F8B\u51B2\u7A81\uFF0C\u628A\u6240\u6709 ",paraId:22,tocIndex:5},{value:"InfoBlock",paraId:22,tocIndex:5},{value:" \u6539\u4E3A\u4E86 ",paraId:22,tocIndex:5},{value:"InfoBlock2",paraId:22,tocIndex:5},{value:"\uFF0C\u4F46\u662F\u672C\u793A\u4F8B\u6587\u6863\u4E2D\u4ECD\u7136\u6309\u7167 ",paraId:22,tocIndex:5},{value:"InfoBlock",paraId:22,tocIndex:5},{value:" \u6765\u8BF4\u660E\u3002",paraId:22,tocIndex:5},{value:"Configure fields",paraId:4},{value:"\u6211\u4EEC\u65B0\u5EFA ",paraId:23,tocIndex:6},{value:"packages/plugins/@nocobase-sample/plugin-initializer-configure-fields/src/client/configureFields.tsx",paraId:23,tocIndex:6},{value:" \u6587\u4EF6\uFF1A",paraId:23,tocIndex:6},{value:`import { Grid, SchemaInitializer, useSchemaInitializer } from "@nocobase/client";

export const configureFields = new SchemaInitializer({
  name: 'info:configureFields',
  icon: 'SettingOutlined',
  title: 'Configure fields',
  items: [
    {
      type: 'itemGroup',
      name: 'fields',
      title: 'Display fields',
      useChildren() {
        const { insert } = useSchemaInitializer();

        return []
      },
    }
  ]
});
`,paraId:24,tocIndex:6},{value:"SchemaInitializer",paraId:25,tocIndex:6},{value:"\uFF1A\u7528\u4E8E\u521B\u5EFA\u4E00\u4E2A Schema Initializer \u5B9E\u4F8B",paraId:25,tocIndex:6},{value:"icon",paraId:25,tocIndex:6},{value:"\uFF1A\u56FE\u6807\uFF0C\u66F4\u591A\u56FE\u6807\u53EF\u53C2\u8003 Ant Design ",paraId:25,tocIndex:6},{value:"Icons",paraId:25,tocIndex:6},{value:"title",paraId:25,tocIndex:6},{value:"\uFF1A\u6309\u94AE\u6807\u9898",paraId:25,tocIndex:6},{value:"items",paraId:25,tocIndex:6},{value:`\uFF1A\u6309\u94AE\u4E0B\u7684\u5B50\u9879
`,paraId:25,tocIndex:6},{value:"type: 'itemGroup'",paraId:26,tocIndex:6},{value:"\uFF1A\u5B50\u9879\u7C7B\u578B\uFF0C\u7528\u4E8E\u5305\u88C5\u591A\u4E2A\u5B50\u9879",paraId:26,tocIndex:6},{value:"name: 'fields'",paraId:26,tocIndex:6},{value:"\uFF1A\u5B50\u9879\u540D\u79F0",paraId:26,tocIndex:6},{value:"title: 'Display fields'",paraId:26,tocIndex:6},{value:"\uFF1A\u5B50\u9879\u6807\u9898",paraId:26,tocIndex:6},{value:"useChildren",paraId:26,tocIndex:6},{value:"\uFF1A\u5B50\u9879\u7684\u5B50\u9879\uFF0C\u8FD4\u56DE\u4E00\u4E2A\u6570\u7EC4\uFF0C\u6570\u7EC4\u4E2D\u7684\u6BCF\u4E00\u9879\u90FD\u662F\u4E00\u4E2A\u5B50\u9879",paraId:26,tocIndex:6},{value:"Configure fields",paraId:4},{value:"\u7136\u540E\u4FEE\u6539 ",paraId:27,tocIndex:7},{value:"packages/plugins/@nocobase-sample/plugin-initializer-configure-fields/src/client/index.tsx",paraId:27,tocIndex:7},{value:" \u6587\u4EF6\uFF0C\u5BFC\u5165\u5E76\u6CE8\u518C\u8FD9\u4E2A initializer\uFF1A",paraId:27,tocIndex:7},{value:`import { configureFields } from './configureFields'

export class PluginInitializerConfigureFieldsClient extends Plugin {
  async load() {
    this.app.schemaInitializerManager.add(configureFields)
  }
}
`,paraId:28,tocIndex:7},{value:"getInfoBlockSchema()",paraId:4},{value:"\u6211\u4EEC\u4FEE\u6539 ",paraId:29,tocIndex:8},{value:"packages/plugins/@nocobase-sample/plugin-initializer-configure-fields/src/client/InfoBlock.tsx",paraId:29,tocIndex:8},{value:" \u6587\u4EF6\uFF0C\u5C06 ",paraId:29,tocIndex:8},{value:"getInfoBlockSchema()",paraId:29,tocIndex:8},{value:" \u533A\u5757\u4FEE\u6539\u4E3A\uFF1A",paraId:29,tocIndex:8},{value:`function getInfoBlockSchema({ dataSource, collection }) {
  return {
    // ...
    properties: {
      info: {
        type: 'void',
        'x-component': 'InfoBlock',
+       properties: {
+         fields: {
+           type: 'void',
+           'x-component': 'Grid',
+           'x-initializer': 'info:configureFields',
+         }
+       }
      }
    }
  }
}
`,paraId:30,tocIndex:8},{value:"\u6211\u4EEC\u5728 ",paraId:31,tocIndex:8},{value:"InfoBlock",paraId:31,tocIndex:8},{value:" \u7684\u5B50\u8282\u70B9\u4E2D\u6DFB\u52A0\u4E86\u4E00\u4E2A ",paraId:31,tocIndex:8},{value:"fields",paraId:31,tocIndex:8},{value:" \u5B57\u6BB5\uFF0C\u4E3A\u4E86\u66F4\u597D\u7684\u5E03\u5C40\uFF0C\u6211\u4EEC\u4F7F\u7528 ",paraId:31,tocIndex:8},{value:"Grid",paraId:31,tocIndex:8},{value:" \u7EC4\u4EF6\u5305\u88F9\u4E86\u4E00\u4E0B\uFF0C\u5E76\u4E14\u6307\u5B9A\u4E86 ",paraId:31,tocIndex:8},{value:"x-initializer",paraId:31,tocIndex:8},{value:" \u4E3A ",paraId:31,tocIndex:8},{value:"info:configureFields",paraId:31,tocIndex:8},{value:"\uFF0C\u56E0\u4E3A ",paraId:31,tocIndex:8},{value:"Grid",paraId:31,tocIndex:8},{value:" \u5185\u7F6E\u4E86 ",paraId:31,tocIndex:8},{value:"useSchemaInitializerRender()",paraId:31,tocIndex:8},{value:" \u7684\u6E32\u67D3\u903B\u8F91\uFF0C\u6240\u4EE5\u6211\u4EEC\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528\uFF0C\u5982\u679C\u662F\u4E00\u4E2A\u81EA\u5B9A\u4E49\u7684\u7EC4\u4EF6\uFF0C\u9700\u8981\u81EA\u5DF1\u901A\u8FC7 ",paraId:31,tocIndex:8},{value:"useSchemaInitializerRender()",paraId:31,tocIndex:8},{value:" \u5B9E\u73B0\u6E32\u67D3\u903B\u8F91\u3002",paraId:31,tocIndex:8},{value:"InfoBlock",paraId:4},{value:"\u6211\u4EEC\u4FEE\u6539 ",paraId:32,tocIndex:9},{value:"packages/plugins/@nocobase-sample/plugin-initializer-configure-fields/src/client/InfoBlock.tsx",paraId:32,tocIndex:9},{value:" \u6587\u4EF6\uFF0C\u5C06 ",paraId:32,tocIndex:9},{value:"InfoBlock",paraId:32,tocIndex:9},{value:" \u7EC4\u4EF6\u4FEE\u6539\u4E3A\uFF1A",paraId:32,tocIndex:9},{value:`export const InfoBlock = ({ children }) => {
  return <div>{children}</div>
}
`,paraId:33,tocIndex:9},{value:"properties",paraId:34,tocIndex:9},{value:" \u7684\u5185\u5BB9\u4F1A\u88AB\u4F20\u5165\u5230 ",paraId:34,tocIndex:9},{value:"InfoBlock",paraId:34,tocIndex:9},{value:" \u7EC4\u4EF6\u7684 ",paraId:34,tocIndex:9},{value:"children",paraId:34,tocIndex:9},{value:" \u4E2D\uFF0C\u6240\u4EE5\u6211\u4EEC\u76F4\u63A5\u5C06 ",paraId:34,tocIndex:9},{value:"children",paraId:34,tocIndex:9},{value:" \u6E32\u67D3\u51FA\u6765\u5373\u53EF\u3002",paraId:34,tocIndex:9},{value:`
  `,paraId:4},{value:"Configure fields",paraId:4},{value:"\u6211\u4EEC\u7EE7\u7EED\u4FEE\u6539 ",paraId:35,tocIndex:10},{value:"packages/plugins/@nocobase-sample/plugin-initializer-configure-fields/src/client/configureFields.tsx",paraId:35,tocIndex:10},{value:" \u6587\u4EF6\uFF1A",paraId:35,tocIndex:10},{value:`interface GetFieldInitializerItemOptions {
  collectionField: CollectionFieldOptions;
}

function getFieldInitializerItem(options: GetFieldInitializerItemOptions) {
  const { collectionField } = options;
  const title = collectionField.uiSchema?.title || collectionField.name;
  const name = collectionField.name;
  return {
    name: collectionField.name,
    title: collectionField.uiSchema?.title || collectionField.name,
    type: 'switch',
    onClick() {
      // TODO
    }
  } as SchemaInitializerItemType;
}

export const configureFields = new SchemaInitializer({
  name: 'info:configureFields',
  icon: 'SettingOutlined',
  title: 'Configure fields',
  items: [
    {
      type: 'itemGroup',
      name: 'fields',
      title: 'Display fields',
      useChildren() {
        const collection = useCollection();

        const schemaItems = collection
          .getFields()
          .map<SchemaInitializerItemType>(getFieldInitializerItem({
            collectionField,
          }))

        return schemaItems;
      },
    }
  ]
});
`,paraId:36,tocIndex:10},{value:"useCollection()",paraId:37,tocIndex:10},{value:"\uFF1A\u7528\u4E8E\u83B7\u53D6\u5F53\u524D\u6570\u636E\u8868\u7684\u5B9E\u4F8B\u3002\u5728 ",paraId:37,tocIndex:10},{value:"getInfoBlockSchema()",paraId:37,tocIndex:10},{value:" \u4E2D\u6211\u4EEC\u4F7F\u7528\u4E86 ",paraId:37,tocIndex:10},{value:"DataBlockProvider",paraId:37,tocIndex:10},{value:" \uFF0C\u5176\u5185\u90E8\u5305\u542B\u4E86 ",paraId:37,tocIndex:10},{value:"CollectionProvider",paraId:37,tocIndex:10},{value:" \uFF0C\u6240\u4EE5\u6211\u4EEC\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528\u3002",paraId:37,tocIndex:10},{value:"collection.getFields()",paraId:38,tocIndex:10},{value:"\uFF1A\u83B7\u53D6\u6570\u636E\u8868\u7684\u5B57\u6BB5",paraId:38,tocIndex:10},{value:"getFieldInitializerItem\uFF1A\u7528\u4E8E\u83B7\u53D6\u5B57\u6BB5\u7684 Schema Initializer Item",paraId:39,tocIndex:10},{value:"name",paraId:40,tocIndex:10},{value:"\uFF1A\u5B50\u9879\u540D\u79F0\uFF0C\u7528\u4E8E\u552F\u4E00\u6807\u8BC6",paraId:40,tocIndex:10},{value:"title",paraId:40,tocIndex:10},{value:"\uFF1A\u5B50\u9879\u6807\u9898\uFF0C\u7528\u4E8E\u663E\u793A\uFF0C\u5982\u679C\u5B57\u6BB5\u6709 ",paraId:40,tocIndex:10},{value:"uiSchema.title",paraId:40,tocIndex:10},{value:" \u5219\u4F7F\u7528 ",paraId:40,tocIndex:10},{value:"uiSchema.title",paraId:40,tocIndex:10},{value:"\uFF0C\u5426\u5219\u4F7F\u7528\u5B57\u6BB5\u540D\u79F0\uFF0C\u5173\u4E8E ",paraId:40,tocIndex:10},{value:"field.uiSchema",paraId:40,tocIndex:10},{value:" \u7684\u6570\u636E\u7ED3\u6784\u53EF\u4EE5\u53C2\u8003 ",paraId:40,tocIndex:10},{value:"CollectionField",paraId:40,tocIndex:10},{value:"type: 'switch'",paraId:40,tocIndex:10},{value:"\uFF1A\u5B50\u9879\u7C7B\u578B\uFF0C",paraId:40,tocIndex:10},{value:"Switch \u7C7B\u578B",paraId:40,tocIndex:10},{value:"\uFF0C\u5176\u6838\u5FC3\u662F\u8981\u5B9E\u73B0 ",paraId:40,tocIndex:10},{value:"onClick",paraId:40,tocIndex:10},{value:" \u65B9\u6CD5\uFF0C\u5F53\u70B9\u51FB\u540E\u5982\u679C\u5DF2\u7ECF\u5B58\u5728\u5219\u5220\u9664\uFF0C\u5982\u679C\u4E0D\u5B58\u5728\u5219\u6DFB\u52A0\u3002",paraId:40,tocIndex:10},{value:"onClick",paraId:40,tocIndex:10},{value:"\uFF1A\u70B9\u51FB\u4E8B\u4EF6\uFF0C\u6211\u4EEC\u8FD9\u91CC\u6682\u65F6\u4E0D\u5B9E\u73B0\uFF0C\u540E\u7EED\u4F1A\u5B9E\u73B0\u3002",paraId:40,tocIndex:10},{value:"switch",paraId:4},{value:"\u6211\u4EEC\u4FEE\u6539 ",paraId:41,tocIndex:11},{value:"packages/plugins/@nocobase-sample/plugin-initializer-configure-fields/src/client/configureFields.tsx",paraId:41,tocIndex:11},{value:" \u6587\u4EF6\uFF1A",paraId:41,tocIndex:11},{value:`+ import { CollectionFieldOptions, ISchema, SchemaInitializer, SchemaInitializerItemType, SchemaSettings, useCollection, useDesignable, useSchemaInitializer } from "@nocobase/client";

export const configureFields = new SchemaInitializer({
  name: 'info:configureFields',
  icon: 'SettingOutlined',
  title: 'Configure fields',
  items: [
    {
      type: 'itemGroup',
      name: 'fields',
      title: 'Display fields',
      useChildren() {
+       const { insert } = useSchemaInitializer();
+       const { remove } = useDesignable();
+       const schema = useFieldSchema();
        const collection = useCollection();

        const schemaItems = collection
          .getFields()
          .map<SchemaInitializerItemType>((collectionField) => getFieldInitializerItem({
            collectionField,
+           schema,
+           remove,
+           insert
+         }))

        return schemaItems;
      },
    }
  ]
});
`,paraId:42,tocIndex:11},{value:"useDesignable()",paraId:43,tocIndex:11},{value:"\uFF1A\u53EF\u4EE5\u589E\u5220\u6539\u67E5 Schema \u7684\u65B9\u6CD5",paraId:43,tocIndex:11},{value:"useSchemaInitializer()",paraId:43,tocIndex:11},{value:`\uFF1A\u7528\u4E8E\u63D0\u4F9B SchemaInitializer \u4E0A\u4E0B\u6587
`,paraId:43,tocIndex:11},{value:"insert",paraId:44,tocIndex:11},{value:"\uFF1A\u7528\u4E8E\u63D2\u5165 Schema\u3002\u8FD9\u91CC\u4E4B\u6240\u4EE5\u4F7F\u7528 ",paraId:44,tocIndex:11},{value:"useSchemaInitializer()",paraId:44,tocIndex:11},{value:" \u6240\u63D0\u4F9B\u7684 insert \u65B9\u6CD5\uFF0C\u800C\u4E0D\u662F ",paraId:44,tocIndex:11},{value:"useDesignable()",paraId:44,tocIndex:11},{value:" \u63D0\u4F9B\u7684 insert \u65B9\u6CD5\uFF0C\u662F\u56E0\u4E3A Schema \u662F\u6709\u5C42\u7EA7\u7684\uFF0C",paraId:44,tocIndex:11},{value:"useSchemaInitializer()",paraId:44,tocIndex:11},{value:" \u83B7\u53D6\u7684\u662F ",paraId:44,tocIndex:11},{value:"SchemaInitializer",paraId:44,tocIndex:11},{value:" \u6240\u5728\u5C42\u7EA7\uFF0C\u800C ",paraId:44,tocIndex:11},{value:"useDesignable()",paraId:44,tocIndex:11},{value:" \u83B7\u53D6\u7684\u662F\u5F53\u524D Schema \u6240\u5728\u5C42\u7EA7\uFF0C\u6211\u4EEC\u9700\u8981\u63D2\u5165\u5230 ",paraId:44,tocIndex:11},{value:"SchemaInitializer",paraId:44,tocIndex:11},{value:" \u6240\u5728\u5C42\u7EA7\u7684\u5144\u5F1F\u5C42\uFF0C\u6240\u4EE5\u5E94\u8BE5\u4F7F\u7528 ",paraId:44,tocIndex:11},{value:"useSchemaInitializer()",paraId:44,tocIndex:11},{value:" \u63D0\u4F9B\u7684 insert \u65B9\u6CD5\u3002",paraId:44,tocIndex:11},{value:`function getInfoItemSchema(collectionFieldName: string) {
  return {
     type: 'void',
    'x-collection-field': collectionFieldName,
    // TODO
  }
}

interface GetFieldInitializerItemOptions {
  collectionField: CollectionFieldOptions;
  schema: ISchema;
  remove: (schema: ISchema) => void;
  insert: (schema: ISchema) => void;
}

function getFieldInitializerItem(options: GetFieldInitializerItemOptions) {
  const { collectionField, schema, remove, insert } = options;
  const title = collectionField.uiSchema?.title || collectionField.name;
  const name = collectionField.name;
  const collectionFieldSchema = Object.values(schema.properties || {}).find((item) => item['x-collection-field'] === name);
  return {
    name,
    type: 'switch',
    title,
    checked: !!collectionFieldSchema,
    onClick() {
      if (collectionFieldSchema) {
        remove(collectionFieldSchema)
        return;
      }
      insert(getInfoItemSchema(name))
    }
  } as SchemaInitializerItemType;
}
`,paraId:45,tocIndex:11},{value:"\u9996\u5148 ",paraId:46,tocIndex:11},{value:"getInfoItemSchema",paraId:46,tocIndex:11},{value:" \u7528\u4E8E\u8FD4\u56DE\u4E00\u4E2A\u5B57\u6BB5\u7684 Schema\uFF0C\u5176\u4E2D\u4E00\u4E2A\u5173\u952E\u70B9\u662F ",paraId:46,tocIndex:11},{value:"x-collection-field",paraId:46,tocIndex:11},{value:" \u5B57\u6BB5\uFF0C\u7528\u4E8E\u6807\u8BC6\u8FD9\u4E2A Schema \u662F\u54EA\u4E2A\u5B57\u6BB5\u7684\u3002",paraId:46,tocIndex:11},{value:"\u7136\u540E\u6211\u4EEC\u901A\u8FC7\u8BFB\u53D6 ",paraId:47,tocIndex:11},{value:"schema.properties",paraId:47,tocIndex:11},{value:" \u4E2D\u7684\u6570\u636E\uFF0C\u627E\u5230\u5BF9\u5E94\u7684\u5B57\u6BB5\u7684 Schema\uFF0C\u5982\u679C\u5B58\u5728\u5219\u5220\u9664\uFF0C\u5982\u679C\u4E0D\u5B58\u5728\u5219\u63D2\u5165\u3002",paraId:47,tocIndex:11},{value:`export const infoItemSettings = new SchemaSettings({
  name: 'fieldSettings:info',
  items: [
    {
      name: 'remove',
      type: 'remove',
      componentProps: {
        removeParentsIfNoChildren: true,
        breakRemoveOn(s) {
          return s['x-component'] === 'Grid';
        },
      },
    }
  ]
})

export const InfoItem = () => {
  const fieldSchema = useFieldSchema();
  const collection = useCollection();
  const collectionFieldName = fieldSchema.name;
  return <pre>{JSON.stringify(collection.getField(collectionFieldName), null, 2)}</pre>
}

function getInfoItemSchema(collectionFieldName: string) {
  return {
    type: 'void',
    'x-collection-field': collectionFieldName,
    'x-component': 'Grid.Row',
    properties: {
      [uid()]: {
        type: 'void',
        'x-component': 'Grid.Col',
        properties: {
          [collectionFieldName]: {
            type: 'void',
            'x-component': 'InfoItem',
            'x-decorator': 'CardItem',
            'x-settings': infoItemSettings.name,
          },
        },
      },
    },
  } as ISchema;
}
`,paraId:48,tocIndex:12},{value:"\u6211\u4EEC\u5728 ",paraId:49,tocIndex:12},{value:"getInfoBlockSchema()",paraId:49,tocIndex:12},{value:" \u4E2D\u4F7F\u7528 ",paraId:49,tocIndex:12},{value:"Grid",paraId:49,tocIndex:12},{value:" \u7EC4\u4EF6\u4F5C\u4E3A\u7236\u7EA7\uFF0C\u90A3\u4E48\u5B50\u8282\u70B9\u5C31\u9700\u8981\u4F7F\u7528 ",paraId:49,tocIndex:12},{value:"Grid.Row",paraId:49,tocIndex:12},{value:" \u548C ",paraId:49,tocIndex:12},{value:"Grid.Col",paraId:49,tocIndex:12},{value:" \u7EC4\u4EF6\uFF0C\u7136\u540E\u5728 ",paraId:49,tocIndex:12},{value:"Grid.Col",paraId:49,tocIndex:12},{value:" \u4E2D\u4F7F\u7528 ",paraId:49,tocIndex:12},{value:"InfoItem",paraId:49,tocIndex:12},{value:" \u7EC4\u4EF6\u3002",paraId:49,tocIndex:12},{value:"InfoItem",paraId:50,tocIndex:12},{value:" \u5C31\u662F\u5177\u4F53\u7684\u5B57\u6BB5\u4FE1\u606F\u5C55\u793A\u7EC4\u4EF6\uFF0C\u6211\u4EEC\u8FD9\u91CC\u505A\u7684\u4E8B\u60C5\u5F88\u7B80\u5355\uFF0C\u9996\u5148\u8BFB\u53D6\u5F53\u524D\u5B57\u6BB5\u7684 Schema\uFF0C\u5176\u4E2D ",paraId:50,tocIndex:12},{value:"schema.name",paraId:50,tocIndex:12},{value:" \u5BF9\u5E94 ",paraId:50,tocIndex:12},{value:"collectionFieldName",paraId:50,tocIndex:12},{value:"\uFF0C\u7136\u540E\u901A\u8FC7 ",paraId:50,tocIndex:12},{value:"collection.getField(collectionFieldName)",paraId:50,tocIndex:12},{value:" \u83B7\u53D6\u5B57\u6BB5\u7684\u8BE6\u7EC6\u4FE1\u606F\uFF0C\u7136\u540E\u5C55\u793A\u51FA\u6765\u3002",paraId:50,tocIndex:12},{value:"\u7136\u540E\u6211\u4EEC\u5C06 ",paraId:51,tocIndex:12},{value:"InfoItem",paraId:51,tocIndex:12},{value:" \u548C ",paraId:51,tocIndex:12},{value:"infoItemSettings",paraId:51,tocIndex:12},{value:" \u7EC4\u4EF6\u6CE8\u518C\u5230\u7CFB\u7EDF\u4E2D\uFF1A",paraId:51,tocIndex:12},{value:`export class PluginInitializerComplexDataBlockClient extends Plugin {
  async load() {
    this.app.addComponents({ InfoBlock, InfoItem });
    this.app.schemaSettingsManager.add(infoBlockSettings, infoItemSettings);
  }
}
`,paraId:52,tocIndex:12},{value:`
  `,paraId:4},{value:"\u6309\u7167 ",paraId:53,tocIndex:13},{value:"\u6784\u5EFA\u5E76\u6253\u5305\u63D2\u4EF6",paraId:54,tocIndex:13},{value:" \u6587\u6863\u8BF4\u660E\uFF0C\u6211\u4EEC\u53EF\u4EE5\u6253\u5305\u63D2\u4EF6\u5E76\u4E0A\u4F20\u5230\u751F\u4EA7\u73AF\u5883\u3002",paraId:53,tocIndex:13},{value:"\u5982\u679C\u662F clone \u7684\u6E90\u7801\uFF0C\u9700\u8981\u5148\u6267\u884C\u4E00\u6B21\u5168\u91CF build\uFF0C\u5C06\u63D2\u4EF6\u7684\u4F9D\u8D56\u4E5F\u6784\u5EFA\u597D\u3002",paraId:55,tocIndex:13},{value:`yarn build
`,paraId:56,tocIndex:13},{value:"\u5982\u679C\u662F\u4F7F\u7528\u7684 ",paraId:57,tocIndex:13},{value:"create-nocobase-app",paraId:57,tocIndex:13},{value:" \u521B\u5EFA\u7684\u9879\u76EE\uFF0C\u53EF\u4EE5\u76F4\u63A5\u6267\u884C\uFF1A",paraId:57,tocIndex:13},{value:`yarn build @nocobase-sample/plugin-initializer-configure-fields --tar
`,paraId:58,tocIndex:13},{value:"\u8FD9\u6837\u5C31\u53EF\u4EE5\u770B\u5230 ",paraId:59,tocIndex:13},{value:"storage/tar/@nocobase-sample/plugin-initializer-configure-fields.tar.gz",paraId:59,tocIndex:13},{value:" \u6587\u4EF6\u4E86\uFF0C\u7136\u540E\u901A\u8FC7",paraId:59,tocIndex:13},{value:"\u4E0A\u4F20\u7684\u65B9\u5F0F",paraId:60,tocIndex:13},{value:"\u8FDB\u884C\u5B89\u88C5\u3002",paraId:59,tocIndex:13}]}}]);
