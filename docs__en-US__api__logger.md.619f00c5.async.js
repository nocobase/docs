"use strict";(self.webpackChunknocobase_docs=self.webpackChunknocobase_docs||[]).push([[6375],{213145:function(i,a,s){s.r(a);var d=s(572269),_=s(793359),x=s(861788),h=s(719977),u=s(20190),r=s(24268),g=s(496057),m=s(585939),p=s(28484),j=s(635206),I=s(375553),v=s(156266),f=s(572333),E=s(841118),L=s(39297),P=s(868526),O=s(605019),t=s(614651),o=s(280936),l=s(667294),n=s(115505),e=s(785893);function c(){return(0,e.jsx)(t.dY,{children:(0,e.jsx)(l.Suspense,{fallback:(0,e.jsx)(o.Z,{}),children:(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"markdown",children:[(0,e.jsxs)("h1",{id:"nocobaselogger",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#nocobaselogger",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"@nocobase/logger"]}),(0,e.jsxs)("h2",{id:"create-logger",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#create-logger",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Create Logger"]}),(0,e.jsxs)("h3",{id:"createlogger",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#createlogger",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"createLogger()"]}),(0,e.jsx)("p",{children:n.texts[0].value}),(0,e.jsxs)("h4",{id:"signature",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#signature",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Signature"]}),(0,e.jsx)("ul",{children:(0,e.jsx)("li",{children:(0,e.jsx)("code",{children:n.texts[1].value})})}),(0,e.jsxs)("h4",{id:"type",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#type",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Type"]}),(0,e.jsx)(r.Z,{lang:"ts",children:n.texts[2].value}),(0,e.jsxs)("h4",{id:"details",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#details",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Details"]}),(0,e.jsxs)("ul",{children:[(0,e.jsxs)("li",{children:[(0,e.jsx)("code",{children:n.texts[3].value}),n.texts[4].value]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("code",{children:n.texts[5].value}),n.texts[6].value]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("code",{children:n.texts[7].value}),n.texts[8].value]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("code",{children:n.texts[9].value}),n.texts[10].value]})]}),(0,e.jsxs)("h3",{id:"createsystemlogger",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#createsystemlogger",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"createSystemLogger()"]}),(0,e.jsxs)("p",{children:[n.texts[11].value,(0,e.jsx)(t.rU,{to:"../plugins/logger/index.md#system-log",children:n.texts[12].value}),n.texts[13].value]}),(0,e.jsxs)("h4",{id:"signature-1",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#signature-1",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Signature"]}),(0,e.jsx)("ul",{children:(0,e.jsx)("li",{children:(0,e.jsx)("code",{children:n.texts[14].value})})}),(0,e.jsxs)("h4",{id:"type-1",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#type-1",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Type"]}),(0,e.jsx)(r.Z,{lang:"ts",children:n.texts[15].value}),(0,e.jsxs)("h4",{id:"details-1",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#details-1",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Details"]}),(0,e.jsx)("ul",{children:(0,e.jsxs)("li",{children:[(0,e.jsx)("code",{children:n.texts[16].value}),n.texts[17].value,(0,e.jsx)("code",{children:n.texts[18].value}),n.texts[19].value]})}),(0,e.jsxs)("h3",{id:"appcreatelogger",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#appcreatelogger",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"app.createLogger()"]}),(0,e.jsxs)("h4",{id:"definition",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#definition",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Definition"]}),(0,e.jsx)(r.Z,{lang:"ts",children:n.texts[20].value}),(0,e.jsxs)("p",{children:[n.texts[21].value,(0,e.jsx)("code",{children:n.texts[22].value}),n.texts[23].value]}),(0,e.jsxs)("h3",{id:"plugincreatelogger",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#plugincreatelogger",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"plugin.createLogger()"]}),(0,e.jsxs)("p",{children:[n.texts[24].value,(0,e.jsx)("code",{children:n.texts[25].value}),n.texts[26].value]}),(0,e.jsxs)("h4",{id:"definition-1",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#definition-1",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Definition"]}),(0,e.jsx)(r.Z,{lang:"ts",children:n.texts[27].value}),(0,e.jsxs)("h2",{id:"configuration",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#configuration",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Configuration"]}),(0,e.jsxs)("h3",{id:"getloggerlevel",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#getloggerlevel",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"getLoggerLevel()"]}),(0,e.jsx)("p",{children:(0,e.jsx)("code",{children:n.texts[28].value})}),(0,e.jsx)("p",{children:n.texts[29].value}),(0,e.jsxs)("h3",{id:"getloggerfilepath",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#getloggerfilepath",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"getLoggerFilePath()"]}),(0,e.jsx)("p",{children:(0,e.jsx)("code",{children:n.texts[30].value})}),(0,e.jsx)("p",{children:n.texts[31].value}),(0,e.jsxs)("h3",{id:"getloggertransports",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#getloggertransports",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"getLoggerTransports()"]}),(0,e.jsx)("p",{children:(0,e.jsx)("code",{children:n.texts[32].value})}),(0,e.jsx)("p",{children:n.texts[33].value}),(0,e.jsxs)("h3",{id:"getloggerformat",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#getloggerformat",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"getLoggerFormat()"]}),(0,e.jsx)("p",{children:(0,e.jsx)("code",{children:n.texts[34].value})}),(0,e.jsx)("p",{children:n.texts[35].value}),(0,e.jsxs)("h2",{id:"logger-transports",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#logger-transports",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Logger Transports"]}),(0,e.jsxs)("h3",{id:"transports",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#transports",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Transports"]}),(0,e.jsx)("p",{children:n.texts[36].value}),(0,e.jsxs)("ul",{children:[(0,e.jsx)("li",{children:(0,e.jsx)("code",{children:n.texts[37].value})}),(0,e.jsx)("li",{children:(0,e.jsx)("code",{children:n.texts[38].value})}),(0,e.jsx)("li",{children:(0,e.jsx)("code",{children:n.texts[39].value})})]}),(0,e.jsx)(r.Z,{lang:"ts",children:n.texts[40].value}),(0,e.jsxs)("h2",{id:"references",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#references",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"References"]}),(0,e.jsxs)("ul",{children:[(0,e.jsx)("li",{children:(0,e.jsx)(t.rU,{to:"/handbook/logger",children:n.texts[41].value})}),(0,e.jsx)("li",{children:(0,e.jsx)(t.rU,{to:"../plugins/logger/index.md",children:n.texts[42].value})})]})]})})})})}a.default=c},115505:function(i,a,s){s.r(a),s.d(a,{texts:function(){return d}});const d=[{value:"Creates a custom logger.",paraId:0,tocIndex:2},{value:"createLogger(options: LoggerOptions)",paraId:1,tocIndex:3},{value:`interface LoggerOptions
  extends Omit<winston.LoggerOptions, 'transports' | 'format'> {
  dirname?: string;
  filename?: string;
  format?: 'logfmt' | 'json' | 'delimiter' | 'console' | winston.Logform.Format;
  transports?: ('console' | 'file' | 'dailyRotateFile' | winston.transport)[];
}
`,paraId:2,tocIndex:4},{value:"dirname",paraId:3,tocIndex:5},{value:": Log directory",paraId:3,tocIndex:5},{value:"filename",paraId:3,tocIndex:5},{value:": Log file name",paraId:3,tocIndex:5},{value:"format",paraId:3,tocIndex:5},{value:": Log format",paraId:3,tocIndex:5},{value:"transports",paraId:3,tocIndex:5},{value:": Log transports",paraId:3,tocIndex:5},{value:"Creates system runtime logs printed in a specified method. Refer to ",paraId:4,tocIndex:6},{value:"Logger plugin - System log",paraId:5,tocIndex:6},{value:".",paraId:4,tocIndex:6},{value:"createSystemLogger(options: SystemLoggerOptions)",paraId:6,tocIndex:7},{value:`export interface SystemLoggerOptions extends LoggerOptions {
  seperateError?: boolean; // print error seperately, default true
}
`,paraId:7,tocIndex:8},{value:"seperateError",paraId:8,tocIndex:9},{value:": Whether to print ",paraId:8,tocIndex:9},{value:"error",paraId:8,tocIndex:9},{value:" level logs separately",paraId:8,tocIndex:9},{value:`class Application {
  createLogger(options: LoggerOptions) {
    const { dirname } = options;
    return createLogger({
      ...options,
      dirname: getLoggerFilePath(this.name || 'main', dirname || ''),
    });
  }
}
`,paraId:9,tocIndex:11},{value:"When ",paraId:10,tocIndex:11},{value:"dirname",paraId:10,tocIndex:11},{value:" is a relative path, the log files will be output to the directory named after the current application.",paraId:10,tocIndex:11},{value:"Usage is the same as ",paraId:11,tocIndex:12},{value:"app.createLogger()",paraId:11,tocIndex:12},{value:".",paraId:11,tocIndex:12},{value:`class Plugin {
  createLogger(options: LoggerOptions) {
    return this.app.createLogger(options);
  }
}
`,paraId:12,tocIndex:13},{value:"getLoggerLevel(): 'debug' | 'info' | 'warn' | 'error'",paraId:13,tocIndex:15},{value:"Gets the log level currently configured in the system.",paraId:14,tocIndex:15},{value:"getLoggerFilePath(...paths: string[]): string",paraId:15,tocIndex:16},{value:"Concatenates directory paths based on the log directory currently configured in the system.",paraId:16,tocIndex:16},{value:"getLoggerTransports(): ('console' | 'file' | 'dailyRotateFile')[]",paraId:17,tocIndex:17},{value:"Gets the log output methods currently configured in the system.",paraId:18,tocIndex:17},{value:"getLoggerFormat(): 'logfmt' | 'json' | 'delimiter' | 'console'",paraId:19,tocIndex:18},{value:"Gets the log format currently configured in the system.",paraId:20,tocIndex:18},{value:"Predefined output methods.",paraId:21,tocIndex:20},{value:"Transports.console",paraId:22,tocIndex:20},{value:"Transports.file",paraId:22,tocIndex:20},{value:"Transports.dailyRotateFile",paraId:22,tocIndex:20},{value:`import { Transports } from '@nocobase/logger';

const transport = Transports.console({
  //...
});
`,paraId:23,tocIndex:20},{value:"Development - Logger",paraId:24,tocIndex:21},{value:"Logger Plugin",paraId:25,tocIndex:21}]}}]);
