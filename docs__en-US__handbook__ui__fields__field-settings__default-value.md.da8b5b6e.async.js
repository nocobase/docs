"use strict";(self.webpackChunknocobase_docs=self.webpackChunknocobase_docs||[]).push([[79580],{239677:function(i,s,n){n.r(s);var t=n(572269),u=n(793359),h=n(861788),_=n(719977),x=n(20190),d=n(24268),m=n(496057),v=n(585939),p=n(28484),f=n(635206),b=n(375553),j=n(156266),I=n(572333),y=n(841118),E=n(39297),D=n(868526),g=n(605019),l=n(614651),o=n(280936),r=n(667294),a=n(767426),e=n(785893);function c(){return(0,e.jsx)(l.dY,{children:(0,e.jsx)(r.Suspense,{fallback:(0,e.jsx)(o.Z,{}),children:(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"markdown",children:[(0,e.jsxs)("h1",{id:"default-value",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#default-value",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Default Value"]}),(0,e.jsxs)("h2",{id:"introduction",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#introduction",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Introduction"]}),(0,e.jsx)("p",{children:a.texts[0].value}),(0,e.jsxs)("h2",{id:"where-can-default-values-be-configured",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#where-can-default-values-be-configured",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Where Can Default Values Be Configured?"]}),(0,e.jsxs)("h3",{id:"data-table-fields",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#data-table-fields",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Data Table Fields"]}),(0,e.jsx)("p",{children:(0,e.jsx)("img",{src:"https://static-docs.nocobase.com/20240411095933.png",alt:"20240411095933"})}),(0,e.jsxs)("h3",{id:"fields-in-new-forms",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#fields-in-new-forms",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Fields in New Forms"]}),(0,e.jsx)("p",{children:a.texts[1].value}),(0,e.jsx)("p",{children:(0,e.jsx)("img",{src:"https://static-docs.nocobase.com/20240411100030.png",alt:"20240411100030"})}),(0,e.jsxs)("h3",{id:"adding-subforms",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#adding-subforms",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Adding Subforms"]}),(0,e.jsx)("p",{children:a.texts[2].value}),(0,e.jsx)("p",{children:a.texts[3].value}),(0,e.jsx)("p",{children:(0,e.jsx)("img",{src:"https://static-docs.nocobase.com/20240411100341.png",alt:"20240411100341"})}),(0,e.jsx)("p",{children:a.texts[4].value}),(0,e.jsx)("p",{children:(0,e.jsx)("img",{src:"https://static-docs.nocobase.com/20240411100424.png",alt:"20240411100424"})}),(0,e.jsx)("p",{children:(0,e.jsx)("img",{src:"https://static-docs.nocobase.com/20240411100634.png",alt:"20240411100634"})}),(0,e.jsx)("p",{children:a.texts[5].value}),(0,e.jsx)("p",{children:(0,e.jsx)("img",{src:"https://static-docs.nocobase.com/20240411100729.png",alt:"20240411100729"})}),(0,e.jsxs)("h3",{id:"default-values-for-relationship-data",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#default-values-for-relationship-data",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Default Values for Relationship Data"]}),(0,e.jsx)("p",{children:a.texts[6].value}),(0,e.jsx)("p",{children:(0,e.jsx)("img",{src:"https://static-docs.nocobase.com/20240411101025.png",alt:"20240411101025"})}),(0,e.jsxs)("h2",{id:"default-value-variables",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#default-value-variables",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Default Value Variables"]}),(0,e.jsxs)("h3",{id:"what-variables-are-available",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#what-variables-are-available",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"What Variables Are Available?"]}),(0,e.jsxs)("ul",{children:[(0,e.jsx)("li",{children:a.texts[7].value}),(0,e.jsx)("li",{children:a.texts[8].value}),(0,e.jsx)("li",{children:a.texts[9].value}),(0,e.jsx)("li",{children:a.texts[10].value}),(0,e.jsx)("li",{children:a.texts[11].value}),(0,e.jsx)("li",{children:a.texts[12].value})]}),(0,e.jsxs)("p",{children:[a.texts[13].value,(0,e.jsx)(l.rU,{to:"/handbook/ui/variables",children:a.texts[14].value}),a.texts[15].value]}),(0,e.jsxs)("h3",{id:"field-default-value-variables",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#field-default-value-variables",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Field Default Value Variables"]}),(0,e.jsx)("p",{children:a.texts[16].value}),(0,e.jsxs)("h4",{id:"relational-field-default-value-variables",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#relational-field-default-value-variables",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Relational Field Default Value Variables"]}),(0,e.jsxs)("ul",{children:[(0,e.jsx)("li",{children:a.texts[17].value}),(0,e.jsx)("li",{children:a.texts[18].value}),(0,e.jsx)("li",{children:a.texts[19].value}),(0,e.jsx)("li",{children:(0,e.jsx)("strong",{children:a.texts[20].value})})]}),(0,e.jsx)(d.Z,{lang:"typescript",children:a.texts[21].value}),(0,e.jsxs)("h4",{id:"non-relational-default-value-variables",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#non-relational-default-value-variables",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Non-relational Default Value Variables"]}),(0,e.jsxs)("ul",{children:[(0,e.jsx)("li",{children:a.texts[22].value}),(0,e.jsx)("li",{children:a.texts[23].value})]}),(0,e.jsxs)("h3",{id:"field-hierarchy-optional-fields",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#field-hierarchy-optional-fields",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Field Hierarchy (Optional Fields)"]}),(0,e.jsx)("p",{children:(0,e.jsx)("img",{src:"https://static-docs.nocobase.com/20240411101157.png",alt:"20240411101157"})}),(0,e.jsxs)("ul",{children:[(0,e.jsxs)("li",{children:[(0,e.jsx)("p",{children:a.texts[24].value}),(0,e.jsxs)("ul",{children:[(0,e.jsx)("li",{children:a.texts[25].value}),(0,e.jsx)("li",{children:a.texts[26].value})]})]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("p",{children:a.texts[27].value}),(0,e.jsxs)("ul",{children:[(0,e.jsx)("li",{children:a.texts[28].value}),(0,e.jsx)("li",{children:a.texts[29].value}),(0,e.jsx)("li",{children:a.texts[30].value}),(0,e.jsx)("li",{children:a.texts[31].value})]})]})]}),(0,e.jsxs)("h2",{id:"special-cases",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#special-cases",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Special Cases"]}),(0,e.jsxs)("h3",{id:"many-to-many-is-equivalent-to-a-one-to-manymany-to-one-combination",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#many-to-many-is-equivalent-to-a-one-to-manymany-to-one-combination",children:(0,e.jsx)("span",{className:"icon icon-link"})}),'"Many-to-many" is equivalent to a "one-to-many/many-to-one" combination']}),(0,e.jsx)("p",{children:a.texts[32].value}),(0,e.jsx)("p",{children:(0,e.jsx)("img",{src:"https://static-docs.nocobase.com/20240411101558.png",alt:"20240411101558"})}),(0,e.jsx)("p",{children:a.texts[33].value}),(0,e.jsx)("p",{children:(0,e.jsx)("img",{src:"https://static-docs.nocobase.com/20240411103021.png",alt:"20240411103021"})}),(0,e.jsxs)("h3",{id:"why-dont-one-to-one-and-one-to-many-relationships-have-default-values",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#why-dont-one-to-one-and-one-to-many-relationships-have-default-values",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Why Don't One-to-one and One-to-many Relationships Have Default Values?"]}),(0,e.jsx)("p",{children:a.texts[34].value}),(0,e.jsxs)("h3",{id:"why-cant-subforms-or-subtables-with-many-to-one-and-many-to-many-relationships-have-default-values",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#why-cant-subforms-or-subtables-with-many-to-one-and-many-to-many-relationships-have-default-values",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Why Can't Subforms or Subtables with Many-to-one and Many-to-many Relationships Have Default Values?"]}),(0,e.jsx)("p",{children:a.texts[35].value}),(0,e.jsx)("p",{children:a.texts[36].value}),(0,e.jsx)("p",{children:a.texts[37].value})]})})})})}s.default=c},767426:function(i,s,n){n.r(s),n.d(s,{texts:function(){return t}});const t=[{value:"Default values are the initial values for fields in a new state. You can set default values when configuring fields in a data table, or you can specify default values for fields in a new form block. These values can be constants or variables.",paraId:0,tocIndex:1},{value:"Most fields in new forms support setting default values.",paraId:1,tocIndex:4},{value:"Whether adding subforms in new or edit forms, the added sub-data will have default values.",paraId:2,tocIndex:5},{value:'Subform "Add new"',paraId:3,tocIndex:5},{value:'Subtable "Add new"',paraId:4,tocIndex:5},{value:"When editing existing data, if the data is empty, it will not be filled with default values; only newly added data will be filled with default values and will not be saved.",paraId:5,tocIndex:5},{value:'Default values are only available for "many-to-one" and "many-to-many" relationship types when using selector components (Select, RecordPicker).',paraId:6,tocIndex:6},{value:"Date variables;",paraId:7,tocIndex:8},{value:"Current user;",paraId:7,tocIndex:8},{value:"Current record (the concept only applies to existing data);",paraId:7,tocIndex:8},{value:"Current form (ideally, only fields in the form are listed);",paraId:7,tocIndex:8},{value:"Current object (concept for each row of data in a subform);",paraId:7,tocIndex:8},{value:'Form selected records (currently limited to the "Table Block + Add Record Form" combination);',paraId:7,tocIndex:8},{value:"For more information on variables, refer to ",paraId:8,tocIndex:8},{value:"Variables",paraId:9,tocIndex:8},{value:".",paraId:8,tocIndex:8},{value:"There are two types: non-relational field variables and relational field variables.",paraId:10,tocIndex:9},{value:"The variable object must be a collection record;",paraId:11,tocIndex:10},{value:"It must be from a table on the inheritance path, either the current table or a parent-child table;",paraId:11,tocIndex:10},{value:'The "Form selected records" variable is only available for "many-to-many" and "one-to-many/many-to-one" relationship fields;',paraId:11,tocIndex:10},{value:"For multiple levels, flatten and deduplicate the data",paraId:11,tocIndex:10},{value:`// Table selected records:
[{id:1},{id:2},{id:3},{id:4}]

// Table selected records/one-to-one:
[{one-to-one: {id:2}}, {one-to-one: {id:3}}, {one-to-one: {id:3}}]
// Flatten and deduplicate
[{id: 2}, {id: 3}]

// Table selected records/many-to-many:
[{many-to-many: [{id: 1}, {id:2}]}, {many-to-many: {[id:3}, {id:4}]}]
// Flatten
[{id:1},{id:2},{id:3},{id:4}]
`,paraId:12,tocIndex:10},{value:"The type must be consistent or compatible, such as strings being compatible with numbers, and all objects that provide a toString method;",paraId:13,tocIndex:11},{value:"JSON fields are special and can store any type of data;",paraId:13,tocIndex:11},{value:"Non-relational default value variables",paraId:14,tocIndex:12},{value:"When selecting fields with multiple levels, only one-to-one relationships are supported; many-to-many relationships are not supported;",paraId:15,tocIndex:12},{value:"JSON fields are special and may have fewer restrictions;",paraId:15,tocIndex:12},{value:"Relational default value variables",paraId:16,tocIndex:12},{value:"hasOne: only supports one-to-one relationships;",paraId:17,tocIndex:12},{value:"hasMany: supports both one-to-one (internally converted) and many-to-many relationships;",paraId:17,tocIndex:12},{value:"belongsToMany: supports both one-to-one (internally converted) and many-to-many relationships;",paraId:17,tocIndex:12},{value:"belongsTo: generally for one-to-one relationships, but when the parent relationship is hasMany, it also supports many-to-many (as hasMany/belongsTo is essentially a many-to-many relationship);",paraId:17,tocIndex:12},{value:"Model",paraId:18,tocIndex:14},{value:`When setting default value variables for a many-to-many relationship, if the variable has multiple records, the selected data will have multiple records, as shown below:
When the data table in the table block and the relationship field data table are the same.`,paraId:19,tocIndex:14},{value:"For example, in an A.B relationship, if b1 is associated with a1, it cannot be associated with a2. If b1 is associated with a2, it will disassociate from a1. In this case, the data is not shared, while default values operate on a shared mechanism (both can be associated), so one-to-one and one-to-many cannot have default values.",paraId:20,tocIndex:15},{value:"Because subforms and subtables focus on directly editing relationship data (including adding or removing), and relationship default values work on a shared mechanism where both can be associated but cannot modify the relationship data. Therefore, it is not suitable to provide default values in this scenario.",paraId:21,tocIndex:16},{value:"Additionally, subforms or subtables have subfields, so it would be unclear whether the default value is for rows or columns.",paraId:22,tocIndex:16},{value:"Considering this, it is more appropriate not to allow setting default values for any type of subform or subtable relationship.",paraId:23,tocIndex:16}]}}]);
