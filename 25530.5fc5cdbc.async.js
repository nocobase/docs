"use strict";(self.webpackChunknocobase_docs=self.webpackChunknocobase_docs||[]).push([[25530],{25530:function(Ye,be,b){b.d(be,{Z:function(){return Ot}});var se=b(87462),$=b(4942),pe=b(71002),le=b(1413),Se=b(74902),Ie=b(15671),Pe=b(43144),Y=b(97326),te=b(32531),X=b(29388),J=b(94184),L=b.n(J),H=b(15105),ce=b(64217),ne=b(80334),v=b(67294),de=v.createContext(null);function ue(o){var c=o.dropPosition,f=o.dropLevelOffset,e=o.indent,d={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(c){case-1:d.top=0,d.left=-f*e;break;case 1:d.bottom=0,d.left=-f*e;break;case 0:d.bottom=0,d.left=e;break}return v.createElement("div",{style:d})}function z(o){if(o==null)throw new TypeError("Cannot destructure "+o)}var A=b(97685),u=b(91),N=b(8410),w=b(85344),S=b(82225),P=function(c){for(var f=c.prefixCls,e=c.level,d=c.isStart,s=c.isEnd,p="".concat(f,"-indent-unit"),t=[],n=0;n<e;n+=1){var r;t.push(v.createElement("span",{key:n,className:L()(p,(r={},(0,$.Z)(r,"".concat(p,"-start"),d[n]),(0,$.Z)(r,"".concat(p,"-end"),s[n]),r))}))}return v.createElement("span",{"aria-hidden":"true",className:"".concat(f,"-indent")},t)},W=v.memo(P),O=b(35381),k=b(1089),q=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],_="open",re="close",ee="---",G=function(o){(0,te.Z)(f,o);var c=(0,X.Z)(f);function f(){var e;(0,Ie.Z)(this,f);for(var d=arguments.length,s=new Array(d),p=0;p<d;p++)s[p]=arguments[p];return e=c.call.apply(c,[this].concat(s)),e.state={dragNodeHighlight:!1},e.selectHandle=void 0,e.cacheIndent=void 0,e.onSelectorClick=function(t){var n=e.props.context.onNodeClick;n(t,(0,k.F)(e.props)),e.isSelectable()?e.onSelect(t):e.onCheck(t)},e.onSelectorDoubleClick=function(t){var n=e.props.context.onNodeDoubleClick;n(t,(0,k.F)(e.props))},e.onSelect=function(t){if(!e.isDisabled()){var n=e.props.context.onNodeSelect;n(t,(0,k.F)(e.props))}},e.onCheck=function(t){if(!e.isDisabled()){var n=e.props,r=n.disableCheckbox,a=n.checked,l=e.props.context.onNodeCheck;if(!(!e.isCheckable()||r)){var g=!a;l(t,(0,k.F)(e.props),g)}}},e.onMouseEnter=function(t){var n=e.props.context.onNodeMouseEnter;n(t,(0,k.F)(e.props))},e.onMouseLeave=function(t){var n=e.props.context.onNodeMouseLeave;n(t,(0,k.F)(e.props))},e.onContextMenu=function(t){var n=e.props.context.onNodeContextMenu;n(t,(0,k.F)(e.props))},e.onDragStart=function(t){var n=e.props.context.onNodeDragStart;t.stopPropagation(),e.setState({dragNodeHighlight:!0}),n(t,(0,Y.Z)(e));try{t.dataTransfer.setData("text/plain","")}catch(r){}},e.onDragEnter=function(t){var n=e.props.context.onNodeDragEnter;t.preventDefault(),t.stopPropagation(),n(t,(0,Y.Z)(e))},e.onDragOver=function(t){var n=e.props.context.onNodeDragOver;t.preventDefault(),t.stopPropagation(),n(t,(0,Y.Z)(e))},e.onDragLeave=function(t){var n=e.props.context.onNodeDragLeave;t.stopPropagation(),n(t,(0,Y.Z)(e))},e.onDragEnd=function(t){var n=e.props.context.onNodeDragEnd;t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,(0,Y.Z)(e))},e.onDrop=function(t){var n=e.props.context.onNodeDrop;t.preventDefault(),t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,(0,Y.Z)(e))},e.onExpand=function(t){var n=e.props,r=n.loading,a=n.context.onNodeExpand;r||a(t,(0,k.F)(e.props))},e.setSelectHandle=function(t){e.selectHandle=t},e.getNodeState=function(){var t=e.props.expanded;return e.isLeaf()?null:t?_:re},e.hasChildren=function(){var t=e.props.eventKey,n=e.props.context.keyEntities,r=(0,O.Z)(n,t)||{},a=r.children;return!!(a||[]).length},e.isLeaf=function(){var t=e.props,n=t.isLeaf,r=t.loaded,a=e.props.context.loadData,l=e.hasChildren();return n===!1?!1:n||!a&&!l||a&&r&&!l},e.isDisabled=function(){var t=e.props.disabled,n=e.props.context.disabled;return!!(n||t)},e.isCheckable=function(){var t=e.props.checkable,n=e.props.context.checkable;return!n||t===!1?!1:n},e.syncLoadData=function(t){var n=t.expanded,r=t.loading,a=t.loaded,l=e.props.context,g=l.loadData,h=l.onNodeLoad;r||g&&n&&!e.isLeaf()&&!e.hasChildren()&&!a&&h((0,k.F)(e.props))},e.isDraggable=function(){var t=e.props,n=t.data,r=t.context.draggable;return!!(r&&(!r.nodeDraggable||r.nodeDraggable(n)))},e.renderDragHandler=function(){var t=e.props.context,n=t.draggable,r=t.prefixCls;return n!=null&&n.icon?v.createElement("span",{className:"".concat(r,"-draggable-icon")},n.icon):null},e.renderSwitcherIconDom=function(t){var n=e.props.switcherIcon,r=e.props.context.switcherIcon,a=n||r;return typeof a=="function"?a((0,le.Z)((0,le.Z)({},e.props),{},{isLeaf:t})):a},e.renderSwitcher=function(){var t=e.props.expanded,n=e.props.context.prefixCls;if(e.isLeaf()){var r=e.renderSwitcherIconDom(!0);return r!==!1?v.createElement("span",{className:L()("".concat(n,"-switcher"),"".concat(n,"-switcher-noop"))},r):null}var a=L()("".concat(n,"-switcher"),"".concat(n,"-switcher_").concat(t?_:re)),l=e.renderSwitcherIconDom(!1);return l!==!1?v.createElement("span",{onClick:e.onExpand,className:a},l):null},e.renderCheckbox=function(){var t=e.props,n=t.checked,r=t.halfChecked,a=t.disableCheckbox,l=e.props.context.prefixCls,g=e.isDisabled(),h=e.isCheckable();if(!h)return null;var K=typeof h!="boolean"?h:null;return v.createElement("span",{className:L()("".concat(l,"-checkbox"),n&&"".concat(l,"-checkbox-checked"),!n&&r&&"".concat(l,"-checkbox-indeterminate"),(g||a)&&"".concat(l,"-checkbox-disabled")),onClick:e.onCheck},K)},e.renderIcon=function(){var t=e.props.loading,n=e.props.context.prefixCls;return v.createElement("span",{className:L()("".concat(n,"-iconEle"),"".concat(n,"-icon__").concat(e.getNodeState()||"docu"),t&&"".concat(n,"-icon_loading"))})},e.renderSelector=function(){var t=e.state.dragNodeHighlight,n=e.props,r=n.title,a=r===void 0?ee:r,l=n.selected,g=n.icon,h=n.loading,K=n.data,m=e.props.context,x=m.prefixCls,i=m.showIcon,y=m.icon,C=m.loadData,E=m.titleRender,D=e.isDisabled(),Z="".concat(x,"-node-content-wrapper"),F;if(i){var M=g||y;F=M?v.createElement("span",{className:L()("".concat(x,"-iconEle"),"".concat(x,"-icon__customize"))},typeof M=="function"?M(e.props):M):e.renderIcon()}else C&&h&&(F=e.renderIcon());var T;typeof a=="function"?T=a(K):E?T=E(K):T=a;var U=v.createElement("span",{className:"".concat(x,"-title")},T);return v.createElement("span",{ref:e.setSelectHandle,title:typeof a=="string"?a:"",className:L()("".concat(Z),"".concat(Z,"-").concat(e.getNodeState()||"normal"),!D&&(l||t)&&"".concat(x,"-node-selected")),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,onClick:e.onSelectorClick,onDoubleClick:e.onSelectorDoubleClick},F,U,e.renderDropIndicator())},e.renderDropIndicator=function(){var t=e.props,n=t.disabled,r=t.eventKey,a=e.props.context,l=a.draggable,g=a.dropLevelOffset,h=a.dropPosition,K=a.prefixCls,m=a.indent,x=a.dropIndicatorRender,i=a.dragOverNodeKey,y=a.direction,C=!!l,E=!n&&C&&i===r,D=m!=null?m:e.cacheIndent;return e.cacheIndent=m,E?x({dropPosition:h,dropLevelOffset:g,indent:D,prefixCls:K,direction:y}):null},e}return(0,Pe.Z)(f,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var d=this.props.selectable,s=this.props.context.selectable;return typeof d=="boolean"?d:s}},{key:"render",value:function(){var d,s=this.props,p=s.eventKey,t=s.className,n=s.style,r=s.dragOver,a=s.dragOverGapTop,l=s.dragOverGapBottom,g=s.isLeaf,h=s.isStart,K=s.isEnd,m=s.expanded,x=s.selected,i=s.checked,y=s.halfChecked,C=s.loading,E=s.domRef,D=s.active,Z=s.data,F=s.onMouseMove,M=s.selectable,T=(0,u.Z)(s,q),U=this.props.context,I=U.prefixCls,R=U.filterTreeNode,j=U.keyEntities,ae=U.dropContainerKey,ge=U.dropTargetKey,Ke=U.draggingNodeKey,oe=this.isDisabled(),Ne=(0,ce.Z)(T,{aria:!0,data:!0}),$e=(0,O.Z)(j,p)||{},We=$e.level,Be=K[K.length-1],me=this.isDraggable(),Te=!oe&&me,ke=Ke===p,Ae=M!==void 0?{"aria-selected":!!M}:void 0;return v.createElement("div",(0,se.Z)({ref:E,className:L()(t,"".concat(I,"-treenode"),(d={},(0,$.Z)(d,"".concat(I,"-treenode-disabled"),oe),(0,$.Z)(d,"".concat(I,"-treenode-switcher-").concat(m?"open":"close"),!g),(0,$.Z)(d,"".concat(I,"-treenode-checkbox-checked"),i),(0,$.Z)(d,"".concat(I,"-treenode-checkbox-indeterminate"),y),(0,$.Z)(d,"".concat(I,"-treenode-selected"),x),(0,$.Z)(d,"".concat(I,"-treenode-loading"),C),(0,$.Z)(d,"".concat(I,"-treenode-active"),D),(0,$.Z)(d,"".concat(I,"-treenode-leaf-last"),Be),(0,$.Z)(d,"".concat(I,"-treenode-draggable"),me),(0,$.Z)(d,"dragging",ke),(0,$.Z)(d,"drop-target",ge===p),(0,$.Z)(d,"drop-container",ae===p),(0,$.Z)(d,"drag-over",!oe&&r),(0,$.Z)(d,"drag-over-gap-top",!oe&&a),(0,$.Z)(d,"drag-over-gap-bottom",!oe&&l),(0,$.Z)(d,"filter-node",R&&R((0,k.F)(this.props))),d)),style:n,draggable:Te,"aria-grabbed":ke,onDragStart:Te?this.onDragStart:void 0,onDragEnter:me?this.onDragEnter:void 0,onDragOver:me?this.onDragOver:void 0,onDragLeave:me?this.onDragLeave:void 0,onDrop:me?this.onDrop:void 0,onDragEnd:me?this.onDragEnd:void 0,onMouseMove:F},Ae,Ne),v.createElement(W,{prefixCls:I,level:We,isStart:h,isEnd:K}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),f}(v.Component),Q=function(c){return v.createElement(de.Consumer,null,function(f){return v.createElement(G,(0,se.Z)({},c,{context:f}))})};Q.displayName="TreeNode",Q.isTreeNode=1;var B=Q;function fe(o,c){var f=v.useState(!1),e=(0,A.Z)(f,2),d=e[0],s=e[1];(0,N.Z)(function(){if(d)return o(),function(){c()}},[d]),(0,N.Z)(function(){return s(!0),function(){s(!1)}},[])}var ie=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],ye=function(c,f){var e=c.className,d=c.style,s=c.motion,p=c.motionNodes,t=c.motionType,n=c.onMotionStart,r=c.onMotionEnd,a=c.active,l=c.treeNodeRequiredProps,g=(0,u.Z)(c,ie),h=v.useState(!0),K=(0,A.Z)(h,2),m=K[0],x=K[1],i=v.useContext(de),y=i.prefixCls,C=p&&t!=="hide";(0,N.Z)(function(){p&&C!==m&&x(C)},[p]);var E=function(){p&&n()},D=v.useRef(!1),Z=function(){p&&!D.current&&(D.current=!0,r())};fe(E,Z);var F=function(T){C===T&&Z()};return p?v.createElement(S.ZP,(0,se.Z)({ref:f,visible:m},s,{motionAppear:t==="show",onVisibleChanged:F}),function(M,T){var U=M.className,I=M.style;return v.createElement("div",{ref:T,className:L()("".concat(y,"-treenode-motion"),U),style:I},p.map(function(R){var j=(0,se.Z)({},(z(R.data),R.data)),ae=R.title,ge=R.key,Ke=R.isStart,oe=R.isEnd;delete j.children;var Ne=(0,k.H8)(ge,l);return v.createElement(B,(0,se.Z)({},j,Ne,{title:ae,active:a,data:R.data,key:ge,isStart:Ke,isEnd:oe}))}))}):v.createElement(B,(0,se.Z)({domRef:f,className:e,style:d},g,{active:a}))};ye.displayName="MotionTreeNode";var Ee=v.forwardRef(ye),he=Ee;function Re(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],f=o.length,e=c.length;if(Math.abs(f-e)!==1)return{add:!1,key:null};function d(s,p){var t=new Map;s.forEach(function(r){t.set(r,!0)});var n=p.filter(function(r){return!t.has(r)});return n.length===1?n[0]:null}return f<e?{add:!0,key:d(o,c)}:{add:!1,key:d(c,o)}}function ve(o,c,f){var e=o.findIndex(function(t){return t.key===f}),d=o[e+1],s=c.findIndex(function(t){return t.key===f});if(d){var p=c.findIndex(function(t){return t.key===d.key});return c.slice(s+1,p)}return c.slice(s+1)}var He=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],_e={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Xe=function(){},Oe="RC_TREE_MOTION_".concat(Math.random()),Je={key:Oe},st={key:Oe,level:0,index:0,pos:"0",node:Je,nodes:[Je]},lt={parent:null,children:[],pos:st.pos,data:Je,title:null,key:Oe,isStart:[],isEnd:[]};function ct(o,c,f,e){return c===!1||!f?o:o.slice(0,Math.ceil(f/e)+1)}function ut(o){var c=o.key,f=o.pos;return(0,k.km)(c,f)}function mt(o){for(var c=String(o.data.key),f=o;f.parent;)f=f.parent,c="".concat(f.data.key," > ").concat(c);return c}var ft=v.forwardRef(function(o,c){var f=o.prefixCls,e=o.data,d=o.selectable,s=o.checkable,p=o.expandedKeys,t=o.selectedKeys,n=o.checkedKeys,r=o.loadedKeys,a=o.loadingKeys,l=o.halfCheckedKeys,g=o.keyEntities,h=o.disabled,K=o.dragging,m=o.dragOverNodeKey,x=o.dropPosition,i=o.motion,y=o.height,C=o.itemHeight,E=o.virtual,D=o.focusable,Z=o.activeItem,F=o.focused,M=o.tabIndex,T=o.onKeyDown,U=o.onFocus,I=o.onBlur,R=o.onActiveChange,j=o.onListChangeStart,ae=o.onListChangeEnd,ge=(0,u.Z)(o,He),Ke=v.useRef(null),oe=v.useRef(null);v.useImperativeHandle(c,function(){return{scrollTo:function(De){Ke.current.scrollTo(De)},getIndentWidth:function(){return oe.current.offsetWidth}}});var Ne=v.useState(p),$e=(0,A.Z)(Ne,2),We=$e[0],Be=$e[1],me=v.useState(e),Te=(0,A.Z)(me,2),ke=Te[0],Ae=Te[1],nt=v.useState(e),ze=(0,A.Z)(nt,2),rt=ze[0],Fe=ze[1],at=v.useState([]),Ze=(0,A.Z)(at,2),Tt=Ze[0],ot=Ze[1],Zt=v.useState(null),gt=(0,A.Z)(Zt,2),Mt=gt[0],dt=gt[1],yt=v.useRef(e);yt.current=e;function it(){var V=yt.current;Ae(V),Fe(V),ot([]),dt(null),ae()}(0,N.Z)(function(){Be(p);var V=Re(We,p);if(V.key!==null)if(V.add){var De=ke.findIndex(function(Ge){var je=Ge.key;return je===V.key}),Me=ct(ve(ke,e,V.key),E,y,C),Ue=ke.slice();Ue.splice(De+1,0,lt),Fe(Ue),ot(Me),dt("show")}else{var Le=e.findIndex(function(Ge){var je=Ge.key;return je===V.key}),we=ct(ve(e,ke,V.key),E,y,C),Ve=e.slice();Ve.splice(Le+1,0,lt),Fe(Ve),ot(we),dt("hide")}else ke!==e&&(Ae(e),Fe(e))},[p,e]),v.useEffect(function(){K||it()},[K]);var Lt=i?rt:e,Kt={expandedKeys:p,selectedKeys:t,loadedKeys:r,loadingKeys:a,checkedKeys:n,halfCheckedKeys:l,dragOverNodeKey:m,dropPosition:x,keyEntities:g};return v.createElement(v.Fragment,null,F&&Z&&v.createElement("span",{style:_e,"aria-live":"assertive"},mt(Z)),v.createElement("div",null,v.createElement("input",{style:_e,disabled:D===!1||h,tabIndex:D!==!1?M:null,onKeyDown:T,onFocus:U,onBlur:I,value:"",onChange:Xe,"aria-label":"for screen reader"})),v.createElement("div",{className:"".concat(f,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},v.createElement("div",{className:"".concat(f,"-indent")},v.createElement("div",{ref:oe,className:"".concat(f,"-indent-unit")}))),v.createElement(w.Z,(0,se.Z)({},ge,{data:Lt,itemKey:ut,height:y,fullHeight:!1,virtual:E,itemHeight:C,prefixCls:"".concat(f,"-list"),ref:Ke,onVisibleChange:function(De,Me){var Ue=new Set(De),Le=Me.filter(function(we){return!Ue.has(we)});Le.some(function(we){return ut(we)===Oe})&&it()}}),function(V){var De=V.pos,Me=(0,se.Z)({},(z(V.data),V.data)),Ue=V.title,Le=V.key,we=V.isStart,Ve=V.isEnd,Ge=(0,k.km)(Le,De);delete Me.key,delete Me.children;var je=(0,k.H8)(Ge,Kt);return v.createElement(he,(0,se.Z)({},Me,je,{title:Ue,active:!!Z&&Le===Z.key,pos:De,data:V.data,isStart:we,isEnd:Ve,motion:i,motionNodes:Le===Oe?Tt:null,motionType:Mt,onMotionStart:j,onMotionEnd:it,treeNodeRequiredProps:Kt,onMouseMove:function(){R(null)}}))}))});ft.displayName="NodeList";var Nt=ft,kt=null;function xe(o,c){if(!o)return[];var f=o.slice(),e=f.indexOf(c);return e>=0&&f.splice(e,1),f}function Ce(o,c){var f=(o||[]).slice();return f.indexOf(c)===-1&&f.push(c),f}function Qe(o){return o.split("-")}function Et(o,c){var f=[],e=(0,O.Z)(c,o);function d(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];s.forEach(function(p){var t=p.key,n=p.children;f.push(t),d(n)})}return d(e.children),f}function xt(o){if(o.parent){var c=Qe(o.pos);return Number(c[c.length-1])===o.parent.children.length-1}return!1}function Ct(o){var c=Qe(o.pos);return Number(c[c.length-1])===0}function vt(o,c,f,e,d,s,p,t,n,r){var a,l=o.clientX,g=o.clientY,h=o.target.getBoundingClientRect(),K=h.top,m=h.height,x=(r==="rtl"?-1:1)*(((d==null?void 0:d.x)||0)-l),i=(x-12)/e,y=(0,O.Z)(t,f.props.eventKey);if(g<K+m/2){var C=p.findIndex(function(ge){return ge.key===y.key}),E=C<=0?0:C-1,D=p[E].key;y=(0,O.Z)(t,D)}var Z=y.key,F=y,M=y.key,T=0,U=0;if(!n.includes(Z))for(var I=0;I<i&&xt(y);I+=1)y=y.parent,U+=1;var R=c.props.data,j=y.node,ae=!0;return Ct(y)&&y.level===0&&g<K+m/2&&s({dragNode:R,dropNode:j,dropPosition:-1})&&y.key===f.props.eventKey?T=-1:(F.children||[]).length&&n.includes(M)?s({dragNode:R,dropNode:j,dropPosition:0})?T=0:ae=!1:U===0?i>-1.5?s({dragNode:R,dropNode:j,dropPosition:1})?T=1:ae=!1:s({dragNode:R,dropNode:j,dropPosition:0})?T=0:s({dragNode:R,dropNode:j,dropPosition:1})?T=1:ae=!1:s({dragNode:R,dropNode:j,dropPosition:1})?T=1:ae=!1,{dropPosition:T,dropLevelOffset:U,dropTargetKey:y.key,dropTargetPos:y.pos,dragOverNodeKey:M,dropContainerKey:T===0?null:((a=y.parent)===null||a===void 0?void 0:a.key)||null,dropAllowed:ae}}function pt(o,c){if(o){var f=c.multiple;return f?o.slice():o.length?[o[0]]:o}}var Dt=function(c){return c};function bt(o,c){if(!o)return[];var f=c||{},e=f.processProps,d=e===void 0?Dt:e,s=Array.isArray(o)?o:[o];return s.map(function(p){var t=p.children,n=_objectWithoutProperties(p,kt),r=bt(t,c);return React.createElement(TreeNode,_extends({key:n.key},d(n)),r)})}function qe(o){if(!o)return null;var c;if(Array.isArray(o))c={checkedKeys:o,halfCheckedKeys:void 0};else if((0,pe.Z)(o)==="object")c={checkedKeys:o.checked||void 0,halfCheckedKeys:o.halfChecked||void 0};else return(0,ne.ZP)(!1,"`checkedKeys` is not an array or an object"),null;return c}function ht(o,c){var f=new Set;function e(d){if(!f.has(d)){var s=(0,O.Z)(c,d);if(s){f.add(d);var p=s.parent,t=s.node;t.disabled||p&&e(p.key)}}}return(o||[]).forEach(function(d){e(d)}),(0,Se.Z)(f)}var et=b(17341),St=10,tt=function(o){(0,te.Z)(f,o);var c=(0,X.Z)(f);function f(){var e;(0,Ie.Z)(this,f);for(var d=arguments.length,s=new Array(d),p=0;p<d;p++)s[p]=arguments[p];return e=c.call.apply(c,[this].concat(s)),e.destroyed=!1,e.delayedDragEnterLogic=void 0,e.loadingRetryTimes={},e.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:(0,k.w$)()},e.dragStartMousePosition=null,e.dragNode=void 0,e.currentMouseOverDroppableNodeKey=null,e.listRef=v.createRef(),e.onNodeDragStart=function(t,n){var r=e.state,a=r.expandedKeys,l=r.keyEntities,g=e.props.onDragStart,h=n.props.eventKey;e.dragNode=n,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var K=xe(a,h);e.setState({draggingNodeKey:h,dragChildrenKeys:Et(h,l),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(K),window.addEventListener("dragend",e.onWindowDragEnd),g==null||g({event:t,node:(0,k.F)(n.props)})},e.onNodeDragEnter=function(t,n){var r=e.state,a=r.expandedKeys,l=r.keyEntities,g=r.dragChildrenKeys,h=r.flattenNodes,K=r.indent,m=e.props,x=m.onDragEnter,i=m.onExpand,y=m.allowDrop,C=m.direction,E=n.props,D=E.pos,Z=E.eventKey,F=(0,Y.Z)(e),M=F.dragNode;if(e.currentMouseOverDroppableNodeKey!==Z&&(e.currentMouseOverDroppableNodeKey=Z),!M){e.resetDragState();return}var T=vt(t,M,n,K,e.dragStartMousePosition,y,h,l,a,C),U=T.dropPosition,I=T.dropLevelOffset,R=T.dropTargetKey,j=T.dropContainerKey,ae=T.dropTargetPos,ge=T.dropAllowed,Ke=T.dragOverNodeKey;if(g.indexOf(R)!==-1||!ge){e.resetDragState();return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(oe){clearTimeout(e.delayedDragEnterLogic[oe])}),M.props.eventKey!==n.props.eventKey&&(t.persist(),e.delayedDragEnterLogic[D]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var oe=(0,Se.Z)(a),Ne=(0,O.Z)(l,n.props.eventKey);Ne&&(Ne.children||[]).length&&(oe=Ce(a,n.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(oe),i==null||i(oe,{node:(0,k.F)(n.props),expanded:!0,nativeEvent:t.nativeEvent})}},800)),M.props.eventKey===R&&I===0){e.resetDragState();return}e.setState({dragOverNodeKey:Ke,dropPosition:U,dropLevelOffset:I,dropTargetKey:R,dropContainerKey:j,dropTargetPos:ae,dropAllowed:ge}),x==null||x({event:t,node:(0,k.F)(n.props),expandedKeys:a})},e.onNodeDragOver=function(t,n){var r=e.state,a=r.dragChildrenKeys,l=r.flattenNodes,g=r.keyEntities,h=r.expandedKeys,K=r.indent,m=e.props,x=m.onDragOver,i=m.allowDrop,y=m.direction,C=(0,Y.Z)(e),E=C.dragNode;if(E){var D=vt(t,E,n,K,e.dragStartMousePosition,i,l,g,h,y),Z=D.dropPosition,F=D.dropLevelOffset,M=D.dropTargetKey,T=D.dropContainerKey,U=D.dropAllowed,I=D.dropTargetPos,R=D.dragOverNodeKey;a.indexOf(M)!==-1||!U||(E.props.eventKey===M&&F===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():Z===e.state.dropPosition&&F===e.state.dropLevelOffset&&M===e.state.dropTargetKey&&T===e.state.dropContainerKey&&I===e.state.dropTargetPos&&U===e.state.dropAllowed&&R===e.state.dragOverNodeKey||e.setState({dropPosition:Z,dropLevelOffset:F,dropTargetKey:M,dropContainerKey:T,dropTargetPos:I,dropAllowed:U,dragOverNodeKey:R}),x==null||x({event:t,node:(0,k.F)(n.props)}))}},e.onNodeDragLeave=function(t,n){e.currentMouseOverDroppableNodeKey===n.props.eventKey&&!t.currentTarget.contains(t.relatedTarget)&&(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var r=e.props.onDragLeave;r==null||r({event:t,node:(0,k.F)(n.props)})},e.onWindowDragEnd=function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDragEnd=function(t,n){var r=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),r==null||r({event:t,node:(0,k.F)(n.props)}),e.dragNode=null,window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDrop=function(t,n){var r,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,l=e.state,g=l.dragChildrenKeys,h=l.dropPosition,K=l.dropTargetKey,m=l.dropTargetPos,x=l.dropAllowed;if(x){var i=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),K!==null){var y=(0,le.Z)((0,le.Z)({},(0,k.H8)(K,e.getTreeNodeRequiredProps())),{},{active:((r=e.getActiveItem())===null||r===void 0?void 0:r.key)===K,data:(0,O.Z)(e.state.keyEntities,K).node}),C=g.indexOf(K)!==-1;(0,ne.ZP)(!C,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var E=Qe(m),D={event:t,node:(0,k.F)(y),dragNode:e.dragNode?(0,k.F)(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(g),dropToGap:h!==0,dropPosition:h+Number(E[E.length-1])};a||i==null||i(D),e.dragNode=null}}},e.cleanDragState=function(){var t=e.state.draggingNodeKey;t!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null},e.triggerExpandActionExpand=function(t,n){var r=e.state,a=r.expandedKeys,l=r.flattenNodes,g=n.expanded,h=n.key,K=n.isLeaf;if(!(K||t.shiftKey||t.metaKey||t.ctrlKey)){var m=l.filter(function(i){return i.key===h})[0],x=(0,k.F)((0,le.Z)((0,le.Z)({},(0,k.H8)(h,e.getTreeNodeRequiredProps())),{},{data:m.data}));e.setExpandedKeys(g?xe(a,h):Ce(a,h)),e.onNodeExpand(t,x)}},e.onNodeClick=function(t,n){var r=e.props,a=r.onClick,l=r.expandAction;l==="click"&&e.triggerExpandActionExpand(t,n),a==null||a(t,n)},e.onNodeDoubleClick=function(t,n){var r=e.props,a=r.onDoubleClick,l=r.expandAction;l==="doubleClick"&&e.triggerExpandActionExpand(t,n),a==null||a(t,n)},e.onNodeSelect=function(t,n){var r=e.state.selectedKeys,a=e.state,l=a.keyEntities,g=a.fieldNames,h=e.props,K=h.onSelect,m=h.multiple,x=n.selected,i=n[g.key],y=!x;y?m?r=Ce(r,i):r=[i]:r=xe(r,i);var C=r.map(function(E){var D=(0,O.Z)(l,E);return D?D.node:null}).filter(function(E){return E});e.setUncontrolledState({selectedKeys:r}),K==null||K(r,{event:"select",selected:y,node:n,selectedNodes:C,nativeEvent:t.nativeEvent})},e.onNodeCheck=function(t,n,r){var a=e.state,l=a.keyEntities,g=a.checkedKeys,h=a.halfCheckedKeys,K=e.props,m=K.checkStrictly,x=K.onCheck,i=n.key,y,C={event:"check",node:n,checked:r,nativeEvent:t.nativeEvent};if(m){var E=r?Ce(g,i):xe(g,i),D=xe(h,i);y={checked:E,halfChecked:D},C.checkedNodes=E.map(function(I){return(0,O.Z)(l,I)}).filter(function(I){return I}).map(function(I){return I.node}),e.setUncontrolledState({checkedKeys:E})}else{var Z=(0,et.S)([].concat((0,Se.Z)(g),[i]),!0,l),F=Z.checkedKeys,M=Z.halfCheckedKeys;if(!r){var T=new Set(F);T.delete(i);var U=(0,et.S)(Array.from(T),{checked:!1,halfCheckedKeys:M},l);F=U.checkedKeys,M=U.halfCheckedKeys}y=F,C.checkedNodes=[],C.checkedNodesPositions=[],C.halfCheckedKeys=M,F.forEach(function(I){var R=(0,O.Z)(l,I);if(R){var j=R.node,ae=R.pos;C.checkedNodes.push(j),C.checkedNodesPositions.push({node:j,pos:ae})}}),e.setUncontrolledState({checkedKeys:F},!1,{halfCheckedKeys:M})}x==null||x(y,C)},e.onNodeLoad=function(t){var n=t.key,r=new Promise(function(a,l){e.setState(function(g){var h=g.loadedKeys,K=h===void 0?[]:h,m=g.loadingKeys,x=m===void 0?[]:m,i=e.props,y=i.loadData,C=i.onLoad;if(!y||K.indexOf(n)!==-1||x.indexOf(n)!==-1)return null;var E=y(t);return E.then(function(){var D=e.state.loadedKeys,Z=Ce(D,n);C==null||C(Z,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:Z}),e.setState(function(F){return{loadingKeys:xe(F.loadingKeys,n)}}),a()}).catch(function(D){if(e.setState(function(F){return{loadingKeys:xe(F.loadingKeys,n)}}),e.loadingRetryTimes[n]=(e.loadingRetryTimes[n]||0)+1,e.loadingRetryTimes[n]>=St){var Z=e.state.loadedKeys;(0,ne.ZP)(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:Ce(Z,n)}),a()}l(D)}),{loadingKeys:Ce(x,n)}})});return r.catch(function(){}),r},e.onNodeMouseEnter=function(t,n){var r=e.props.onMouseEnter;r==null||r({event:t,node:n})},e.onNodeMouseLeave=function(t,n){var r=e.props.onMouseLeave;r==null||r({event:t,node:n})},e.onNodeContextMenu=function(t,n){var r=e.props.onRightClick;r&&(t.preventDefault(),r({event:t,node:n}))},e.onFocus=function(){var t=e.props.onFocus;e.setState({focused:!0});for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];t==null||t.apply(void 0,r)},e.onBlur=function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];t==null||t.apply(void 0,r)},e.getTreeNodeRequiredProps=function(){var t=e.state,n=t.expandedKeys,r=t.selectedKeys,a=t.loadedKeys,l=t.loadingKeys,g=t.checkedKeys,h=t.halfCheckedKeys,K=t.dragOverNodeKey,m=t.dropPosition,x=t.keyEntities;return{expandedKeys:n||[],selectedKeys:r||[],loadedKeys:a||[],loadingKeys:l||[],checkedKeys:g||[],halfCheckedKeys:h||[],dragOverNodeKey:K,dropPosition:m,keyEntities:x}},e.setExpandedKeys=function(t){var n=e.state,r=n.treeData,a=n.fieldNames,l=(0,k.oH)(r,t,a);e.setUncontrolledState({expandedKeys:t,flattenNodes:l},!0)},e.onNodeExpand=function(t,n){var r=e.state.expandedKeys,a=e.state,l=a.listChanging,g=a.fieldNames,h=e.props,K=h.onExpand,m=h.loadData,x=n.expanded,i=n[g.key];if(!l){var y=r.indexOf(i),C=!x;if((0,ne.ZP)(x&&y!==-1||!x&&y===-1,"Expand state not sync with index check"),C?r=Ce(r,i):r=xe(r,i),e.setExpandedKeys(r),K==null||K(r,{node:n,expanded:C,nativeEvent:t.nativeEvent}),C&&m){var E=e.onNodeLoad(n);E&&E.then(function(){var D=(0,k.oH)(e.state.treeData,r,g);e.setUncontrolledState({flattenNodes:D})}).catch(function(){var D=e.state.expandedKeys,Z=xe(D,i);e.setExpandedKeys(Z)})}}},e.onListChangeStart=function(){e.setUncontrolledState({listChanging:!0})},e.onListChangeEnd=function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})},e.onActiveChange=function(t){var n=e.state.activeKey,r=e.props,a=r.onActiveChange,l=r.itemScrollOffset,g=l===void 0?0:l;n!==t&&(e.setState({activeKey:t}),t!==null&&e.scrollTo({key:t,offset:g}),a==null||a(t))},e.getActiveItem=function(){var t=e.state,n=t.activeKey,r=t.flattenNodes;return n===null?null:r.find(function(a){var l=a.key;return l===n})||null},e.offsetActiveKey=function(t){var n=e.state,r=n.flattenNodes,a=n.activeKey,l=r.findIndex(function(K){var m=K.key;return m===a});l===-1&&t<0&&(l=r.length),l=(l+t+r.length)%r.length;var g=r[l];if(g){var h=g.key;e.onActiveChange(h)}else e.onActiveChange(null)},e.onKeyDown=function(t){var n=e.state,r=n.activeKey,a=n.expandedKeys,l=n.checkedKeys,g=n.fieldNames,h=e.props,K=h.onKeyDown,m=h.checkable,x=h.selectable;switch(t.which){case H.Z.UP:{e.offsetActiveKey(-1),t.preventDefault();break}case H.Z.DOWN:{e.offsetActiveKey(1),t.preventDefault();break}}var i=e.getActiveItem();if(i&&i.data){var y=e.getTreeNodeRequiredProps(),C=i.data.isLeaf===!1||!!(i.data[g.children]||[]).length,E=(0,k.F)((0,le.Z)((0,le.Z)({},(0,k.H8)(r,y)),{},{data:i.data,active:!0}));switch(t.which){case H.Z.LEFT:{C&&a.includes(r)?e.onNodeExpand({},E):i.parent&&e.onActiveChange(i.parent.key),t.preventDefault();break}case H.Z.RIGHT:{C&&!a.includes(r)?e.onNodeExpand({},E):i.children&&i.children.length&&e.onActiveChange(i.children[0].key),t.preventDefault();break}case H.Z.ENTER:case H.Z.SPACE:{m&&!E.disabled&&E.checkable!==!1&&!E.disableCheckbox?e.onNodeCheck({},E,!l.includes(r)):!m&&x&&!E.disabled&&E.selectable!==!1&&e.onNodeSelect({},E);break}}}K==null||K(t)},e.setUncontrolledState=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var a=!1,l=!0,g={};Object.keys(t).forEach(function(h){if(h in e.props){l=!1;return}a=!0,g[h]=t[h]}),a&&(!n||l)&&e.setState((0,le.Z)((0,le.Z)({},g),r))}},e.scrollTo=function(t){e.listRef.current.scrollTo(t)},e}return(0,Pe.Z)(f,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var d=this.props,s=d.activeKey,p=d.itemScrollOffset,t=p===void 0?0:p;s!==void 0&&s!==this.state.activeKey&&(this.setState({activeKey:s}),s!==null&&this.scrollTo({key:s,offset:t}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var d,s=this.state,p=s.focused,t=s.flattenNodes,n=s.keyEntities,r=s.draggingNodeKey,a=s.activeKey,l=s.dropLevelOffset,g=s.dropContainerKey,h=s.dropTargetKey,K=s.dropPosition,m=s.dragOverNodeKey,x=s.indent,i=this.props,y=i.prefixCls,C=i.className,E=i.style,D=i.showLine,Z=i.focusable,F=i.tabIndex,M=F===void 0?0:F,T=i.selectable,U=i.showIcon,I=i.icon,R=i.switcherIcon,j=i.draggable,ae=i.checkable,ge=i.checkStrictly,Ke=i.disabled,oe=i.motion,Ne=i.loadData,$e=i.filterTreeNode,We=i.height,Be=i.itemHeight,me=i.virtual,Te=i.titleRender,ke=i.dropIndicatorRender,Ae=i.onContextMenu,nt=i.onScroll,ze=i.direction,rt=i.rootClassName,Fe=i.rootStyle,at=(0,ce.Z)(this.props,{aria:!0,data:!0}),Ze;return j&&((0,pe.Z)(j)==="object"?Ze=j:typeof j=="function"?Ze={nodeDraggable:j}:Ze={}),v.createElement(de.Provider,{value:{prefixCls:y,selectable:T,showIcon:U,icon:I,switcherIcon:R,draggable:Ze,draggingNodeKey:r,checkable:ae,checkStrictly:ge,disabled:Ke,keyEntities:n,dropLevelOffset:l,dropContainerKey:g,dropTargetKey:h,dropPosition:K,dragOverNodeKey:m,indent:x,direction:ze,dropIndicatorRender:ke,loadData:Ne,filterTreeNode:$e,titleRender:Te,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},v.createElement("div",{role:"tree",className:L()(y,C,rt,(d={},(0,$.Z)(d,"".concat(y,"-show-line"),D),(0,$.Z)(d,"".concat(y,"-focused"),p),(0,$.Z)(d,"".concat(y,"-active-focused"),a!==null),d)),style:Fe},v.createElement(Nt,(0,se.Z)({ref:this.listRef,prefixCls:y,style:E,data:t,disabled:Ke,selectable:T,checkable:!!ae,motion:oe,dragging:r!==null,height:We,itemHeight:Be,virtual:me,focusable:Z,focused:p,tabIndex:M,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:Ae,onScroll:nt},this.getTreeNodeRequiredProps(),at))))}}],[{key:"getDerivedStateFromProps",value:function(d,s){var p=s.prevProps,t={prevProps:d};function n(Z){return!p&&Z in d||p&&p[Z]!==d[Z]}var r,a=s.fieldNames;if(n("fieldNames")&&(a=(0,k.w$)(d.fieldNames),t.fieldNames=a),n("treeData")?r=d.treeData:n("children")&&((0,ne.ZP)(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),r=(0,k.zn)(d.children)),r){t.treeData=r;var l=(0,k.I8)(r,{fieldNames:a});t.keyEntities=(0,le.Z)((0,$.Z)({},Oe,st),l.keyEntities)}var g=t.keyEntities||s.keyEntities;if(n("expandedKeys")||p&&n("autoExpandParent"))t.expandedKeys=d.autoExpandParent||!p&&d.defaultExpandParent?ht(d.expandedKeys,g):d.expandedKeys;else if(!p&&d.defaultExpandAll){var h=(0,le.Z)({},g);delete h[Oe],t.expandedKeys=Object.keys(h).map(function(Z){return h[Z].key})}else!p&&d.defaultExpandedKeys&&(t.expandedKeys=d.autoExpandParent||d.defaultExpandParent?ht(d.defaultExpandedKeys,g):d.defaultExpandedKeys);if(t.expandedKeys||delete t.expandedKeys,r||t.expandedKeys){var K=(0,k.oH)(r||s.treeData,t.expandedKeys||s.expandedKeys,a);t.flattenNodes=K}if(d.selectable&&(n("selectedKeys")?t.selectedKeys=pt(d.selectedKeys,d):!p&&d.defaultSelectedKeys&&(t.selectedKeys=pt(d.defaultSelectedKeys,d))),d.checkable){var m;if(n("checkedKeys")?m=qe(d.checkedKeys)||{}:!p&&d.defaultCheckedKeys?m=qe(d.defaultCheckedKeys)||{}:r&&(m=qe(d.checkedKeys)||{checkedKeys:s.checkedKeys,halfCheckedKeys:s.halfCheckedKeys}),m){var x=m,i=x.checkedKeys,y=i===void 0?[]:i,C=x.halfCheckedKeys,E=C===void 0?[]:C;if(!d.checkStrictly){var D=(0,et.S)(y,!0,g);y=D.checkedKeys,E=D.halfCheckedKeys}t.checkedKeys=y,t.halfCheckedKeys=E}}return n("loadedKeys")&&(t.loadedKeys=d.loadedKeys),t}}]),f}(v.Component);tt.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:ue,allowDrop:function(){return!0},expandAction:!1},tt.TreeNode=B;var Pt=tt,Ot=Pt},17341:function(Ye,be,b){b.d(be,{S:function(){return Pe}});var se=b(80334),$=b(35381);function pe(Y,te){var X=new Set;return Y.forEach(function(J){te.has(J)||X.add(J)}),X}function le(Y){var te=Y||{},X=te.disabled,J=te.disableCheckbox,L=te.checkable;return!!(X||J)||L===!1}function Se(Y,te,X,J){for(var L=new Set(Y),H=new Set,ce=0;ce<=X;ce+=1){var ne=te.get(ce)||new Set;ne.forEach(function(z){var A=z.key,u=z.node,N=z.children,w=N===void 0?[]:N;L.has(A)&&!J(u)&&w.filter(function(S){return!J(S.node)}).forEach(function(S){L.add(S.key)})})}for(var v=new Set,de=X;de>=0;de-=1){var ue=te.get(de)||new Set;ue.forEach(function(z){var A=z.parent,u=z.node;if(!(J(u)||!z.parent||v.has(z.parent.key))){if(J(z.parent.node)){v.add(A.key);return}var N=!0,w=!1;(A.children||[]).filter(function(S){return!J(S.node)}).forEach(function(S){var P=S.key,W=L.has(P);N&&!W&&(N=!1),!w&&(W||H.has(P))&&(w=!0)}),N&&L.add(A.key),w&&H.add(A.key),v.add(A.key)}})}return{checkedKeys:Array.from(L),halfCheckedKeys:Array.from(pe(H,L))}}function Ie(Y,te,X,J,L){for(var H=new Set(Y),ce=new Set(te),ne=0;ne<=J;ne+=1){var v=X.get(ne)||new Set;v.forEach(function(A){var u=A.key,N=A.node,w=A.children,S=w===void 0?[]:w;!H.has(u)&&!ce.has(u)&&!L(N)&&S.filter(function(P){return!L(P.node)}).forEach(function(P){H.delete(P.key)})})}ce=new Set;for(var de=new Set,ue=J;ue>=0;ue-=1){var z=X.get(ue)||new Set;z.forEach(function(A){var u=A.parent,N=A.node;if(!(L(N)||!A.parent||de.has(A.parent.key))){if(L(A.parent.node)){de.add(u.key);return}var w=!0,S=!1;(u.children||[]).filter(function(P){return!L(P.node)}).forEach(function(P){var W=P.key,O=H.has(W);w&&!O&&(w=!1),!S&&(O||ce.has(W))&&(S=!0)}),w||H.delete(u.key),S&&ce.add(u.key),de.add(u.key)}})}return{checkedKeys:Array.from(H),halfCheckedKeys:Array.from(pe(ce,H))}}function Pe(Y,te,X,J){var L=[],H;J?H=J:H=le;var ce=new Set(Y.filter(function(ue){var z=!!(0,$.Z)(X,ue);return z||L.push(ue),z})),ne=new Map,v=0;Object.keys(X).forEach(function(ue){var z=X[ue],A=z.level,u=ne.get(A);u||(u=new Set,ne.set(A,u)),u.add(z),v=Math.max(v,A)}),(0,se.ZP)(!L.length,"Tree missing follow keys: ".concat(L.slice(0,100).map(function(ue){return"'".concat(ue,"'")}).join(", ")));var de;return te===!0?de=Se(ce,ne,v,H):de=Ie(ce,te.halfCheckedKeys,ne,v,H),de}},35381:function(Ye,be,b){b.d(be,{Z:function(){return se}});function se($,pe){return $[pe]}},1089:function(Ye,be,b){b.d(be,{F:function(){return A},H8:function(){return z},I8:function(){return ue},km:function(){return L},oH:function(){return v},w$:function(){return H},zn:function(){return ne}});var se=b(71002),$=b(74902),pe=b(1413),le=b(91),Se=b(50344),Ie=b(98423),Pe=b(80334),Y=b(35381),te=["children"];function X(u,N){return"".concat(u,"-").concat(N)}function J(u){return u&&u.type&&u.type.isTreeNode}function L(u,N){return u!=null?u:N}function H(u){var N=u||{},w=N.title,S=N._title,P=N.key,W=N.children,O=w||"title";return{title:O,_title:S||[O],key:P||"key",children:W||"children"}}function ce(u,N){var w=new Map;function S(P){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(P||[]).forEach(function(O){var k=O[N.key],q=O[N.children];warning(k!=null,"Tree node must have a certain key: [".concat(W).concat(k,"]"));var _=String(k);warning(!w.has(_)||k===null||k===void 0,"Same 'key' exist in the Tree: ".concat(_)),w.set(_,!0),S(q,"".concat(W).concat(_," > "))})}S(u)}function ne(u){function N(w){var S=(0,Se.Z)(w);return S.map(function(P){if(!J(P))return(0,Pe.ZP)(!P,"Tree/TreeNode can only accept TreeNode as children."),null;var W=P.key,O=P.props,k=O.children,q=(0,le.Z)(O,te),_=(0,pe.Z)({key:W},q),re=N(k);return re.length&&(_.children=re),_}).filter(function(P){return P})}return N(u)}function v(u,N,w){var S=H(w),P=S._title,W=S.key,O=S.children,k=new Set(N===!0?[]:N),q=[];function _(re){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return re.map(function(G,Q){for(var B=X(ee?ee.pos:"0",Q),fe=L(G[W],B),ie,ye=0;ye<P.length;ye+=1){var Ee=P[ye];if(G[Ee]!==void 0){ie=G[Ee];break}}var he=(0,pe.Z)((0,pe.Z)({},(0,Ie.Z)(G,[].concat((0,$.Z)(P),[W,O]))),{},{title:ie,key:fe,parent:ee,pos:B,children:null,data:G,isStart:[].concat((0,$.Z)(ee?ee.isStart:[]),[Q===0]),isEnd:[].concat((0,$.Z)(ee?ee.isEnd:[]),[Q===re.length-1])});return q.push(he),N===!0||k.has(fe)?he.children=_(G[O]||[],he):he.children=[],he})}return _(u),q}function de(u,N,w){var S={};(0,se.Z)(w)==="object"?S=w:S={externalGetKey:w},S=S||{};var P=S,W=P.childrenPropName,O=P.externalGetKey,k=P.fieldNames,q=H(k),_=q.key,re=q.children,ee=W||re,G;O?typeof O=="string"?G=function(fe){return fe[O]}:typeof O=="function"&&(G=function(fe){return O(fe)}):G=function(fe,ie){return L(fe[_],ie)};function Q(B,fe,ie,ye){var Ee=B?B[ee]:u,he=B?X(ie.pos,fe):"0",Re=B?[].concat((0,$.Z)(ye),[B]):[];if(B){var ve=G(B,he),He={node:B,index:fe,pos:he,key:ve,parentPos:ie.node?ie.pos:null,level:ie.level+1,nodes:Re};N(He)}Ee&&Ee.forEach(function(_e,Xe){Q(_e,Xe,{node:B,pos:he,level:ie?ie.level+1:-1},Re)})}Q(null)}function ue(u){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},w=N.initWrapper,S=N.processEntity,P=N.onProcessFinished,W=N.externalGetKey,O=N.childrenPropName,k=N.fieldNames,q=arguments.length>2?arguments[2]:void 0,_=W||q,re={},ee={},G={posEntities:re,keyEntities:ee};return w&&(G=w(G)||G),de(u,function(Q){var B=Q.node,fe=Q.index,ie=Q.pos,ye=Q.key,Ee=Q.parentPos,he=Q.level,Re=Q.nodes,ve={node:B,nodes:Re,index:fe,key:ye,pos:ie,level:he},He=L(ye,ie);re[ie]=ve,ee[He]=ve,ve.parent=re[Ee],ve.parent&&(ve.parent.children=ve.parent.children||[],ve.parent.children.push(ve)),S&&S(ve,G)},{externalGetKey:_,childrenPropName:O,fieldNames:k}),P&&P(G),G}function z(u,N){var w=N.expandedKeys,S=N.selectedKeys,P=N.loadedKeys,W=N.loadingKeys,O=N.checkedKeys,k=N.halfCheckedKeys,q=N.dragOverNodeKey,_=N.dropPosition,re=N.keyEntities,ee=(0,Y.Z)(re,u),G={eventKey:u,expanded:w.indexOf(u)!==-1,selected:S.indexOf(u)!==-1,loaded:P.indexOf(u)!==-1,loading:W.indexOf(u)!==-1,checked:O.indexOf(u)!==-1,halfChecked:k.indexOf(u)!==-1,pos:String(ee?ee.pos:""),dragOver:q===u&&_===0,dragOverGapTop:q===u&&_===-1,dragOverGapBottom:q===u&&_===1};return G}function A(u){var N=u.data,w=u.expanded,S=u.selected,P=u.checked,W=u.loaded,O=u.loading,k=u.halfChecked,q=u.dragOver,_=u.dragOverGapTop,re=u.dragOverGapBottom,ee=u.pos,G=u.active,Q=u.eventKey,B=(0,pe.Z)((0,pe.Z)({},N),{},{expanded:w,selected:S,checked:P,loaded:W,loading:O,halfChecked:k,dragOver:q,dragOverGapTop:_,dragOverGapBottom:re,pos:ee,active:G,key:Q});return"props"in B||Object.defineProperty(B,"props",{get:function(){return(0,Pe.ZP)(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),u}}),B}}}]);
