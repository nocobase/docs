"use strict";(self.webpackChunknocobase_docs=self.webpackChunknocobase_docs||[]).push([[91676],{149376:function(i,t,s){s.r(t);var d=s(572269),u=s(793359),x=s(861788),h=s(719977),v=s(20190),r=s(24268),l=s(496057),I=s(585939),j=s(28484),m=s(635206),E=s(375553),p=s(156266),g=s(572333),f=s(841118),P=s(39297),D=s(868526),M=s(605019),a=s(614651),o=s(280936),c=s(667294),n=s(897536),e=s(785893);function _(){return(0,e.jsx)(a.dY,{children:(0,e.jsx)(c.Suspense,{fallback:(0,e.jsx)(o.Z,{}),children:(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"markdown",children:[(0,e.jsxs)("h1",{id:"baseauth",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#baseauth",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"BaseAuth"]}),(0,e.jsxs)("h2",{id:"overview",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#overview",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Overview"]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("code",{children:n.texts[0].value}),n.texts[1].value,(0,e.jsx)(a.rU,{to:"/api/auth/auth",children:n.texts[2].value}),n.texts[3].value,(0,e.jsx)("code",{children:n.texts[4].value}),n.texts[5].value,(0,e.jsx)("code",{children:n.texts[6].value}),n.texts[7].value]}),(0,e.jsx)(r.Z,{lang:"ts",children:n.texts[8].value}),(0,e.jsxs)("h2",{id:"class-methods",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#class-methods",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Class Methods"]}),(0,e.jsxs)("h3",{id:"constructor",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#constructor",children:(0,e.jsx)("span",{className:"icon icon-link"})}),(0,e.jsx)("code",{children:n.texts[9].value})]}),(0,e.jsxs)("p",{children:[n.texts[10].value,(0,e.jsx)("code",{children:n.texts[11].value}),n.texts[12].value]}),(0,e.jsxs)("h4",{id:"signature",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#signature",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Signature"]}),(0,e.jsx)("ul",{children:(0,e.jsx)("li",{children:(0,e.jsx)("code",{children:n.texts[13].value})})}),(0,e.jsxs)("h4",{id:"details",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#details",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Details"]}),(0,e.jsxs)(l.Z,{children:[(0,e.jsx)("thead",{children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{children:n.texts[14].value}),(0,e.jsx)("th",{children:n.texts[15].value}),(0,e.jsx)("th",{children:n.texts[16].value})]})}),(0,e.jsxs)("tbody",{children:[(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:n.texts[17].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:n.texts[18].value})}),(0,e.jsxs)("td",{children:[n.texts[19].value,(0,e.jsx)(a.rU,{to:"/api/auth/auth#authconfig",children:n.texts[20].value})]})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:n.texts[21].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:n.texts[22].value})}),(0,e.jsxs)("td",{children:[n.texts[23].value,(0,e.jsx)("code",{children:n.texts[24].value}),n.texts[25].value,(0,e.jsx)(a.rU,{to:"/api/database/collection",children:n.texts[26].value})]})]})]})]}),(0,e.jsxs)("h3",{id:"user",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#user",children:(0,e.jsx)("span",{className:"icon icon-link"})}),(0,e.jsx)("code",{children:n.texts[27].value})]}),(0,e.jsxs)("p",{children:[n.texts[28].value,(0,e.jsx)("code",{children:n.texts[29].value}),n.texts[30].value]}),(0,e.jsxs)("h4",{id:"signature-1",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#signature-1",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Signature"]}),(0,e.jsxs)("ul",{children:[(0,e.jsx)("li",{children:(0,e.jsx)("code",{children:n.texts[31].value})}),(0,e.jsx)("li",{children:(0,e.jsx)("code",{children:n.texts[32].value})})]}),(0,e.jsxs)("h3",{id:"check",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#check",children:(0,e.jsx)("span",{className:"icon icon-link"})}),(0,e.jsx)("code",{children:n.texts[33].value})]}),(0,e.jsx)("p",{children:n.texts[34].value}),(0,e.jsxs)("h3",{id:"signin",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#signin",children:(0,e.jsx)("span",{className:"icon icon-link"})}),(0,e.jsx)("code",{children:n.texts[35].value})]}),(0,e.jsx)("p",{children:n.texts[36].value}),(0,e.jsxs)("h3",{id:"signup",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#signup",children:(0,e.jsx)("span",{className:"icon icon-link"})}),(0,e.jsx)("code",{children:n.texts[37].value})]}),(0,e.jsx)("p",{children:n.texts[38].value}),(0,e.jsxs)("h3",{id:"signout",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#signout",children:(0,e.jsx)("span",{className:"icon icon-link"})}),(0,e.jsx)("code",{children:n.texts[39].value})]}),(0,e.jsx)("p",{children:n.texts[40].value}),(0,e.jsxs)("h3",{id:"validate-",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#validate-",children:(0,e.jsx)("span",{className:"icon icon-link"})}),(0,e.jsx)("code",{children:n.texts[41].value})," *"]}),(0,e.jsxs)("p",{children:[n.texts[42].value,(0,e.jsx)("code",{children:n.texts[43].value}),n.texts[44].value]})]})})})})}t.default=_},897536:function(i,t,s){s.r(t),s.d(t,{texts:function(){return d}});const d=[{value:"BaseAuth",paraId:0,tocIndex:1},{value:" inherits from the abstract class ",paraId:0,tocIndex:1},{value:"Auth",paraId:1,tocIndex:1},{value:" and serves as the basic implementation for user authentication types, using JWT as the authentication method. In most cases, extending user authentication types can be achieved by inheriting from ",paraId:0,tocIndex:1},{value:"BaseAuth",paraId:0,tocIndex:1},{value:" instead of directly inheriting from the ",paraId:0,tocIndex:1},{value:"Auth",paraId:0,tocIndex:1},{value:" abstract class.",paraId:0,tocIndex:1},{value:`class BasicAuth extends BaseAuth {
  constructor(config: AuthConfig) {
    // Set user collection
    const userCollection = config.ctx.db.getCollection('users');
    super({ ...config, userCollection });
  }

  // User authentication logic, called by \`auth.signIn\`
  // Returns user data
  async validate() {
    const ctx = this.ctx;
    const { values } = ctx.action.params;
    // ...
    return user;
  }
}
`,paraId:2,tocIndex:1},{value:"constructor()",paraId:3},{value:"Constructor, creates an instance of ",paraId:4,tocIndex:3},{value:"BaseAuth",paraId:4,tocIndex:3},{value:".",paraId:4,tocIndex:3},{value:"constructor(config: AuthConfig & { userCollection: Collection })",paraId:5,tocIndex:4},{value:"Parameter",paraId:6,tocIndex:5},{value:"Type",paraId:6,tocIndex:5},{value:"Description",paraId:6,tocIndex:5},{value:"config",paraId:6,tocIndex:5},{value:"AuthConfig",paraId:6,tocIndex:5},{value:"Refer to ",paraId:6,tocIndex:5},{value:"Auth - AuthConfig",paraId:7,tocIndex:5},{value:"userCollection",paraId:6,tocIndex:5},{value:"Collection",paraId:6,tocIndex:5},{value:"User collection, e.g., ",paraId:6,tocIndex:5},{value:"db.getCollection('users')",paraId:6,tocIndex:5},{value:", refer to ",paraId:6,tocIndex:5},{value:"DataBase - Collection",paraId:8,tocIndex:5},{value:"user()",paraId:3},{value:"Accessor for setting and getting user information, defaulting to using the ",paraId:9,tocIndex:6},{value:"ctx.state.currentUser",paraId:9,tocIndex:6},{value:" object.",paraId:9,tocIndex:6},{value:"set user()",paraId:10,tocIndex:7},{value:"get user()",paraId:10,tocIndex:7},{value:"check()",paraId:3},{value:"Authenticates through the request token and returns user information.",paraId:11,tocIndex:8},{value:"signIn()",paraId:3},{value:"User login, generates a token.",paraId:12,tocIndex:9},{value:"signUp()",paraId:3},{value:"User registration.",paraId:13,tocIndex:10},{value:"signOut()",paraId:3},{value:"User logout, token expiration.",paraId:14,tocIndex:11},{value:"validate()",paraId:3},{value:"Core authentication logic, called by the ",paraId:15,tocIndex:12},{value:"signIn",paraId:15,tocIndex:12},{value:" interface, to determine whether the user can successfully log in.",paraId:15,tocIndex:12}]}}]);
