"use strict";(self.webpackChunknocobase_docs=self.webpackChunknocobase_docs||[]).push([[12915],{167051:function(c,a,t){t.r(a);var r=t(572269),u=t(793359),_=t(861788),l=t(719977),I=t(20190),i=t(24268),s=t(496057),j=t(585939),v=t(28484),p=t(635206),m=t(375553),E=t(156266),D=t(572333),P=t(841118),f=t(39297),O=t(868526),M=t(605019),n=t(614651),x=t(280936),o=t(667294),d=t(605391),e=t(785893);function h(){return(0,e.jsx)(n.dY,{children:(0,e.jsx)(o.Suspense,{fallback:(0,e.jsx)(x.Z,{}),children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"markdown",children:[(0,e.jsxs)("h1",{id:"synchronizing-user-data-via-http-api",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#synchronizing-user-data-via-http-api",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Synchronizing User Data via HTTP API"]}),(0,e.jsxs)("h2",{id:"obtain-an-api-key",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#obtain-an-api-key",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Obtain an API Key"]}),(0,e.jsxs)("p",{children:[d.texts[0].value,(0,e.jsx)(n.rU,{to:"/handbook/user-data-sync/api-keys",children:d.texts[1].value}),d.texts[2].value]}),(0,e.jsxs)("h2",{id:"api-overview",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#api-overview",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"API Overview"]}),(0,e.jsxs)("h3",{id:"example",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#example",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Example"]}),(0,e.jsx)(i.Z,{lang:"bash",children:d.texts[3].value}),(0,e.jsxs)("h3",{id:"endpoint",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#endpoint",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Endpoint"]}),(0,e.jsx)(i.Z,{lang:"bash",children:d.texts[4].value}),(0,e.jsxs)("h3",{id:"user-data-format",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#user-data-format",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"User Data Format"]}),(0,e.jsxs)("h4",{id:"userdata",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#userdata",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"UserData"]}),(0,e.jsxs)(s.Z,{children:[(0,e.jsx)("thead",{children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{children:d.texts[5].value}),(0,e.jsx)("th",{children:d.texts[6].value}),(0,e.jsx)("th",{children:d.texts[7].value})]})}),(0,e.jsxs)("tbody",{children:[(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[8].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[9].value})}),(0,e.jsxs)("td",{children:[d.texts[10].value,(0,e.jsx)("code",{children:d.texts[11].value}),d.texts[12].value]})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[13].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[14].value})}),(0,e.jsx)("td",{children:d.texts[15].value})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[16].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[17].value})}),(0,e.jsx)("td",{children:d.texts[18].value})]})]})]}),(0,e.jsxs)("h4",{id:"userrecord",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#userrecord",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"UserRecord"]}),(0,e.jsxs)(s.Z,{children:[(0,e.jsx)("thead",{children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{children:d.texts[19].value}),(0,e.jsx)("th",{children:d.texts[20].value}),(0,e.jsx)("th",{children:d.texts[21].value})]})}),(0,e.jsxs)("tbody",{children:[(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[22].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[23].value})}),(0,e.jsx)("td",{children:d.texts[24].value})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[25].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[26].value})}),(0,e.jsx)("td",{children:d.texts[27].value})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[28].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[29].value})}),(0,e.jsx)("td",{children:d.texts[30].value})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[31].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[32].value})}),(0,e.jsx)("td",{children:d.texts[33].value})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[34].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[35].value})}),(0,e.jsx)("td",{children:d.texts[36].value})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[37].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[38].value})}),(0,e.jsx)("td",{children:d.texts[39].value})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[40].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[41].value})}),(0,e.jsx)("td",{children:d.texts[42].value})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[43].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[44].value})}),(0,e.jsx)("td",{children:d.texts[45].value})]})]})]}),(0,e.jsxs)("h3",{id:"department-data-format",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#department-data-format",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Department Data Format"]})]}),(0,e.jsx)(l.Z,{type:"info",children:(0,e.jsxs)("p",{children:[d.texts[46].value,(0,e.jsx)(n.rU,{to:"/handbook/departments",children:d.texts[47].value}),d.texts[48].value]})}),(0,e.jsxs)("div",{className:"markdown",children:[(0,e.jsxs)("h4",{id:"departmentdata",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#departmentdata",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"DepartmentData"]}),(0,e.jsxs)(s.Z,{children:[(0,e.jsx)("thead",{children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{children:d.texts[49].value}),(0,e.jsx)("th",{children:d.texts[50].value}),(0,e.jsx)("th",{children:d.texts[51].value})]})}),(0,e.jsxs)("tbody",{children:[(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[52].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[53].value})}),(0,e.jsxs)("td",{children:[d.texts[54].value,(0,e.jsx)("code",{children:d.texts[55].value}),d.texts[56].value]})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[57].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[58].value})}),(0,e.jsx)("td",{children:d.texts[59].value})]})]})]}),(0,e.jsxs)("h4",{id:"departmentrecord",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#departmentrecord",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"DepartmentRecord"]}),(0,e.jsxs)(s.Z,{children:[(0,e.jsx)("thead",{children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{children:d.texts[60].value}),(0,e.jsx)("th",{children:d.texts[61].value}),(0,e.jsx)("th",{children:d.texts[62].value})]})}),(0,e.jsxs)("tbody",{children:[(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[63].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[64].value})}),(0,e.jsx)("td",{children:d.texts[65].value})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[66].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[67].value})}),(0,e.jsx)("td",{children:d.texts[68].value})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[69].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[70].value})}),(0,e.jsx)("td",{children:d.texts[71].value})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[72].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[73].value})}),(0,e.jsx)("td",{children:d.texts[74].value})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[75].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:d.texts[76].value})}),(0,e.jsx)("td",{children:d.texts[77].value})]})]})]})]}),(0,e.jsx)(l.Z,{type:"info",children:(0,e.jsxs)("ol",{children:[(0,e.jsx)("li",{children:d.texts[78].value}),(0,e.jsx)("li",{children:d.texts[79].value}),(0,e.jsx)("li",{children:d.texts[80].value})]})})]})})})}a.default=h},605391:function(c,a,t){t.r(a),t.d(a,{texts:function(){return r}});const r=[{value:"Refer to ",paraId:0,tocIndex:1},{value:"API Keys",paraId:1,tocIndex:1},{value:". Ensure that the role associated with the API key has the necessary permissions to sync user data.",paraId:0,tocIndex:1},{value:`curl 'https://localhost:13000/api/userData:push' \\
  -H 'Authorization: Bearer <token>' \\
  --data-raw '{"dataType":"user","records":[]}' # See details of the request body below
`,paraId:2,tocIndex:3},{value:`POST /api/userData:push
`,paraId:3,tocIndex:4},{value:"Parameter",paraId:4,tocIndex:6},{value:"Type",paraId:4,tocIndex:6},{value:"Description",paraId:4,tocIndex:6},{value:"dataType",paraId:4,tocIndex:6},{value:"'user' | 'department'",paraId:4,tocIndex:6},{value:"Required. Type of data being pushed. Use ",paraId:4,tocIndex:6},{value:"user",paraId:4,tocIndex:6},{value:" for pushing user data.",paraId:4,tocIndex:6},{value:"matchKey",paraId:4,tocIndex:6},{value:"'username' | 'email' | 'phone'",paraId:4,tocIndex:6},{value:"Optional. Used to match existing system users based on the specified field.",paraId:4,tocIndex:6},{value:"records",paraId:4,tocIndex:6},{value:"UserRecord[]",paraId:4,tocIndex:6},{value:"Required. Array of user data records.",paraId:4,tocIndex:6},{value:"Parameter",paraId:5,tocIndex:7},{value:"Type",paraId:5,tocIndex:7},{value:"Description",paraId:5,tocIndex:7},{value:"uid",paraId:5,tocIndex:7},{value:"string",paraId:5,tocIndex:7},{value:"Required. Unique identifier for the source user data. Immutable for a user.",paraId:5,tocIndex:7},{value:"nickname",paraId:5,tocIndex:7},{value:"string",paraId:5,tocIndex:7},{value:"Optional. User's nickname.",paraId:5,tocIndex:7},{value:"username",paraId:5,tocIndex:7},{value:"string",paraId:5,tocIndex:7},{value:"Optional. Username.",paraId:5,tocIndex:7},{value:"email",paraId:5,tocIndex:7},{value:"string",paraId:5,tocIndex:7},{value:"Optional. User's email address.",paraId:5,tocIndex:7},{value:"phone",paraId:5,tocIndex:7},{value:"string",paraId:5,tocIndex:7},{value:"Optional. User's phone number.",paraId:5,tocIndex:7},{value:"departments",paraId:5,tocIndex:7},{value:"string[]",paraId:5,tocIndex:7},{value:"Optional. Array of department UIDs the user belongs to.",paraId:5,tocIndex:7},{value:"isDeleted",paraId:5,tocIndex:7},{value:"boolean",paraId:5,tocIndex:7},{value:"Optional. Indicates whether the record is deleted.",paraId:5,tocIndex:7},{value:"<field>",paraId:5,tocIndex:7},{value:"any",paraId:5,tocIndex:7},{value:"Optional. Custom fields in the user table.",paraId:5,tocIndex:7},{value:"Pushing department data requires the ",paraId:6},{value:"Departments",paraId:7},{value:" plugin to be installed and enabled.",paraId:6},{value:"Parameter",paraId:8,tocIndex:9},{value:"Type",paraId:8,tocIndex:9},{value:"Description",paraId:8,tocIndex:9},{value:"dataType",paraId:8,tocIndex:9},{value:"'user' | 'department'",paraId:8,tocIndex:9},{value:"Required. Type of data being pushed. Use ",paraId:8,tocIndex:9},{value:"department",paraId:8,tocIndex:9},{value:" for department data.",paraId:8,tocIndex:9},{value:"records",paraId:8,tocIndex:9},{value:"DepartmentRecord[]",paraId:8,tocIndex:9},{value:"Required. Array of department data records.",paraId:8,tocIndex:9},{value:"Parameter",paraId:9,tocIndex:10},{value:"Type",paraId:9,tocIndex:10},{value:"Description",paraId:9,tocIndex:10},{value:"uid",paraId:9,tocIndex:10},{value:"string",paraId:9,tocIndex:10},{value:"Required. Unique identifier for the source department data. Immutable.",paraId:9,tocIndex:10},{value:"title",paraId:9,tocIndex:10},{value:"string",paraId:9,tocIndex:10},{value:"Required. Department title.",paraId:9,tocIndex:10},{value:"parentUid",paraId:9,tocIndex:10},{value:"string",paraId:9,tocIndex:10},{value:"Optional. UID of the parent department.",paraId:9,tocIndex:10},{value:"isDeleted",paraId:9,tocIndex:10},{value:"boolean",paraId:9,tocIndex:10},{value:"Optional. Indicates whether the record is deleted.",paraId:9,tocIndex:10},{value:"<field>",paraId:9,tocIndex:10},{value:"any",paraId:9,tocIndex:10},{value:"Optional. Custom fields in the department table.",paraId:9,tocIndex:10},{value:"Data pushing is idempotent, ensuring consistent results with multiple pushes.",paraId:10},{value:"If a parent department is not yet created when pushing department data, it cannot be associated. Re-push the data after creating the parent department.",paraId:10},{value:"Similarly, if a department is not yet created when pushing user data, it cannot associate users with their departments. Push the department data first, then re-push the user data.",paraId:10}]}}]);
